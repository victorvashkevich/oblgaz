<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>2c655682-8df4-4eae-a918-5dc7fed6d1cf    </Ид>
	<Наименование>ЗУП 2.5 --&gt; ERP 2.2</Наименование>
	<ДатаВремяСоздания>2017-09-14T17:18:39</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.5.59.6" СинонимКонфигурации="Зарплата и Управление Персоналом для Беларуси, редакция 2.5">ЗарплатаИУправлениеПерсоналомДляБеларуси</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.2.1.133" СинонимКонфигурации="1С:ERP Управление предприятием газоснабжения 2 для РБ">УправлениеПредприятиемГазоснабженияДляРБ</Приемник>
	<ПередВыгрузкойДанных>Параметры.ПараметрыАлгоритмов = Новый Структура("ВзносыФизлиц, СтруктураЗначенияПеременных, ТаблицаСкидок, ТаблицаНачисленияФизлиц,НачисленияФизлицДляВзносов");</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ГруппаДоступаФизЛицПоУмолчанию", Неопределено);
Параметры.Вставить("ГруппаДоступаПартнеровПоУмолчанию", Неопределено);

ЗагруженныеОбъекты = Новый ТаблицаЗначений;
ЗагруженныеОбъекты.Колонки.Добавить("ИмяПКО");
ЗагруженныеОбъекты.Колонки.Добавить("Объект");
ЗагруженныеОбъекты.Колонки.Добавить("Параметры");

Параметры.Вставить("ЗагруженныеОбъекты", ЗагруженныеОбъекты);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>Для Каждого СтрокаТаблицы Из Параметры.ЗагруженныеОбъекты Цикл
	Если СтрокаТаблицы.Объект.ЭтоНовый() Тогда
		Продолжить;
	КонецЕсли;
	
	Объект = СтрокаТаблицы.Объект.Ссылка.ПолучитьОбъект();
	ПараметрыОбъекта = СтрокаТаблицы.Параметры;
	ИмяПКО = СтрокаТаблицы.ИмяПКО;
	ОбъектМодифицирован = Ложь;
	
	Если Метаданные.Справочники.Содержит(Объект.МетаДанные()) Тогда
		Выполнить(Алгоритмы.ОбработкаСправочниковОтложенная);
	КонецЕсли;
	Если ОбъектМодифицирован Тогда
		Объект.ОбменДанными.Загрузка = Истина;
		Объект.Записать();
	КонецЕсли;

КонецЦикла;</ПослеЗагрузкиДанных>
	<Параметры>
		<Параметр Имя="ДатаНачалаПереносаРасчетныхДанных                 " Наименование="ДатаНачалаПереносаРасчетныхДанных" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Дата" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ОтправлятьНачисленияИУдержанияСДетализациейПоФизли" Наименование="ОтправлятьНачисленияИУдержанияСДетализациейПоФизлицам" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ПараметрыАлгоритмов                               " Наименование="ПараметрыАлгоритмов" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="СотрудникДляОтладки                               " Наименование="СотрудникДляОтладки" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="СправочникСсылка.СотрудникиОрганизаций" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ТаблицаСкидок                                     " Наименование="ТаблицаСкидок" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ФизическоеЛицоДляОтладки                          " Наименование="ФизическоеЛицоДляОтладки" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="СправочникСсылка.ФизическиеЛица" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Базовые классификаторы</Код>
			<Наименование>Базовые классификаторы</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>СтраныМира</Код>
				<Наименование>Справочник: Классификатор стран мира</Наименование>
				<Порядок>100</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.КлассификаторСтранМира</Источник>
				<Приемник>СправочникСсылка.СтраныМира</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>150</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПараметрыПрописиНаРусском --&gt; ПараметрыПрописиНаРусском</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Банки</Код>
				<Наименование>Справочник: Банки</Наименование>
				<Порядок>200</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Банки</Источник>
				<Приемник>СправочникСсылка.КлассификаторБанковРФ</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Город --&gt; Город</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Телефоны --&gt; Телефоны</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанковРФ"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>9</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Контрагенты и физические лица</Код>
			<Наименование>Контрагенты и физические лица</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>150</Порядок>
				<ПослеВыгрузки>// Выгрузка паспортных данных
Запрос = Новый Запрос("
					|ВЫБРАТЬ
					|	ПаспортныеДанныеФизЛиц.Период,
					|	ПаспортныеДанныеФизЛиц.ФизЛицо,
					|	ПаспортныеДанныеФизЛиц.ДокументВид,
					|	ПаспортныеДанныеФизЛиц.ДокументСерия,
					|	ПаспортныеДанныеФизЛиц.ДокументНомер,
					|	ПаспортныеДанныеФизЛиц.ДокументДатаВыдачи,
					|	ПаспортныеДанныеФизЛиц.ДокументСрокДействия,
					|	ПаспортныеДанныеФизЛиц.ДокументКемВыдан,
					|	ПаспортныеДанныеФизЛиц.ДокументКодПодразделения,
					|	ПаспортныеДанныеФизЛиц.ДатаРегистрацииПоМестуЖительства,
					|	ИСТИНА КАК ЯвляетсяДокументомУдостоверяющимЛичность
					|ИЗ
					|	РегистрСведений.ПаспортныеДанныеФизЛиц КАК ПаспортныеДанныеФизЛиц
					|ГДЕ
					|	ПаспортныеДанныеФизЛиц.ФизЛицо = &amp;ФизЛицо"
					);
Запрос.УстановитьПараметр("ФизЛицо", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();

Пока Выборка.Следующий() Цикл
	
	Отбор = Новый ТаблицаЗначений;
	Отбор.Колонки.Добавить("Имя");
	Отбор.Колонки.Добавить("Значение");
	Отбор.Колонки.Добавить("Использование");

	СтрокаОтбора = Отбор.Добавить();
	СтрокаОтбора.Имя      = "ФизЛицо";
	СтрокаОтбора.Значение = Выборка.ФизЛицо;
	
	Строки = Новый ТаблицаЗначений;
	Строки.Колонки.Добавить("Период");
	Строки.Колонки.Добавить("ФизЛицо");
	Строки.Колонки.Добавить("ДокументВид");
	Строки.Колонки.Добавить("ДокументСерия");
	Строки.Колонки.Добавить("ДокументНомер");
	Строки.Колонки.Добавить("ДокументДатаВыдачи");
	Строки.Колонки.Добавить("ДокументСрокДействия");
	Строки.Колонки.Добавить("ДокументКемВыдан");
	Строки.Колонки.Добавить("ДокументКодПодразделения");
	Строки.Колонки.Добавить("ДатаРегистрацииПоМестуЖительства");
	Строки.Колонки.Добавить("ЯвляетсяДокументомУдостоверяющимЛичность");

	Строка = Строки.Добавить();
	ЗаполнитьЗначенияСвойств(Строка, Выборка);
	
	НаборЗаписей = Новый Структура("Отбор, Строки");
	НаборЗаписей.Отбор  = Отбор;
	НаборЗаписей.Строки = Строки;

	ВыгрузитьРегистр(НаборЗаписей, , , Истина, "ДокументыФизическихЛиц");	
	
КонецЦикла;

// Выгрузка ФИО физических лиц

Запрос = Новый Запрос("
					|ВЫБРАТЬ
					|	ФИОФизЛиц.Период,
					|	ФИОФизЛиц.ФизЛицо,
					|	ФИОФизЛиц.Фамилия,
					|	ФИОФизЛиц.Имя,
					|	ФИОФизЛиц.Отчество
					|ИЗ
					|	РегистрСведений.ФИОФизЛиц КАК ФИОФизЛиц
					|ГДЕ
					|	ФИОФизЛиц.ФизЛицо = &amp;ФизЛицо"
					);
Запрос.УстановитьПараметр("ФизЛицо", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();

Пока Выборка.Следующий() Цикл
	
	// Создание пустого набора записей
	Отбор = Новый ТаблицаЗначений;
	Отбор.Колонки.Добавить("Имя");
	Отбор.Колонки.Добавить("Значение");
	Отбор.Колонки.Добавить("Использование");

	СтрокаОтбора = Отбор.Добавить();
	СтрокаОтбора.Имя           = "ФизЛицо";
	СтрокаОтбора.Значение      = Выборка.ФизЛицо;
	
	Строки = Новый ТаблицаЗначений;
	Строки.Колонки.Добавить("Период");
	Строки.Колонки.Добавить("ФизЛицо");
	Строки.Колонки.Добавить("Фамилия");
	Строки.Колонки.Добавить("Имя");
	Строки.Колонки.Добавить("Отчество");

	Строка = Строки.Добавить();
	ЗаполнитьЗначенияСвойств(Строка, Выборка);
	
	НаборЗаписей = Новый Структура("Отбор, Строки");
	НаборЗаписей.Отбор  = Отбор;
	НаборЗаписей.Строки = Строки;

	ВыгрузитьРегистр(НаборЗаписей, , , Истина, "ФИОФизическихЛиц");	
	 	
КонецЦикла;

// Выгрузка гражданства физических лиц
Запрос = Новый Запрос("
					|ВЫБРАТЬ
					|	ГражданствоФизЛиц.Период,
					|	ГражданствоФизЛиц.ФизЛицо,
					|	ГражданствоФизЛиц.Страна
					|ИЗ
					|	РегистрСведений.ГражданствоФизЛиц КАК ГражданствоФизЛиц
					|ГДЕ
					|	ГражданствоФизЛиц.ФизЛицо = &amp;ФизЛицо"
					);
Запрос.УстановитьПараметр("ФизЛицо", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();

Пока Выборка.Следующий() Цикл
	
	// Создание пустого набора записей
	Отбор = Новый ТаблицаЗначений;
	Отбор.Колонки.Добавить("Имя");
	Отбор.Колонки.Добавить("Значение");
	Отбор.Колонки.Добавить("Использование");

	СтрокаОтбора = Отбор.Добавить();
	СтрокаОтбора.Имя           = "ФизЛицо";
	СтрокаОтбора.Значение      = Выборка.ФизЛицо;
	
	Строки = Новый ТаблицаЗначений;
	Строки.Колонки.Добавить("Период");
	Строки.Колонки.Добавить("ФизЛицо");
	Строки.Колонки.Добавить("Страна");

	Строка = Строки.Добавить();
	ЗаполнитьЗначенияСвойств(Строка, Выборка);
	
	НаборЗаписей = Новый Структура("Отбор, Строки");
	НаборЗаписей.Отбор  = Отбор;
	НаборЗаписей.Строки = Строки;

	ВыгрузитьРегистр(НаборЗаписей, , , Истина, "ГражданствоФизическихЛиц");	
	 	
КонецЦикла;</ПослеВыгрузки>
				<ПриЗагрузке>Если ОбъектНайден Тогда
	Объект.ДополнительныеСвойства.Вставить("СтараяКонтактнаяИнформация", Объект.КонтактнаяИнформация.Выгрузить());
КонецЕсли;</ПриЗагрузке>
				<ПослеЗагрузки>Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	//Занесем данные об объекте в таблицу отложенной обработки 
	НоваяСтрока = Параметры.ЗагруженныеОбъекты.Добавить();
	НоваяСтрока.ИмяПКО = "ФизическиеЛица";
	НоваяСтрока.Объект = Объект;
	НоваяСтрока.Параметры = ПараметрыОбъекта;

	Выполнить(Алгоритмы.СкорректироватьКонтактнуюИнформацию);
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>10</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛицаГруппа                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>13</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>МестоРождения --&gt; МестоРождения</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="МестоРождения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="МестоРождения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Пол --&gt; Пол</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическихЛиц"/>
						<Приемник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
						<КодПравилаКонвертации>ПолФизическогоЛица                                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Наименование --&gt; ФИО</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="ФИО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; ГруппаДоступа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГруппаДоступа" Вид="Реквизит" Тип="СправочникСсылка.ГруппыДоступаФизическихЛиц"/>
						<КодПравилаКонвертации>ГруппыДоступаФизическихЛицПоУмолчанию             </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>16</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>17</Код>
						<Наименование>--&gt; КонтактнаяИнформация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа тогда
	Отказ = Истина;
Иначе
	Выполнить(Алгоритмы.ПереносКИ);
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						</Свойство>
						<Свойство>
							<Код>36</Код>
							<Наименование>--&gt; Дом</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Дом</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Дом;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>--&gt; Индекс</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Индекс</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Индекс;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>--&gt; Квартира</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Квартира</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Квартира;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>42</Код>
							<Наименование>--&gt; КодСтраны</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>КодСтраны</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.КодСтраны;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>--&gt; Корпус</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Корпус</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Корпус;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>--&gt; НаселенныйПункт</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>НаселенныйПункт</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.НаселенныйПункт;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>--&gt; Район</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Район</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Район;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>--&gt; ТипДома</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ТипДома</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.ТипДома;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>41</Код>
							<Наименование>--&gt; ТипКвартиры</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ТипКвартиры</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.ТипКвартиры;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>--&gt; ТипКорпуса</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ТипКорпуса</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.ТипКорпуса;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>--&gt; Улица</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Улица</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Улица;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; ЭтоПроизвольнаяСтрока</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ЭтоПроизвольнаяСтрока</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.ЭтоПроизвольнаяСтрока;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФизическиеЛицаГруппа</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛицаГруппа                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>3</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчетаКонтрагентов</Код>
				<Наименование>Регистр сведений: Лицевые счета сотрудников организации</Наименование>
				<Порядок>250</Порядок>
				<Источник>РегистрСведенийЗапись.ЛицевыеСчетаРаботниковОрганизации</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчетаКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>НомерЛицевогоСчета --&gt; НомерСчета</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="НомерЛицевогоСчета" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>НомерЛицевогоСчета --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НомерЛицевогоСчета" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Константы.ВалютаРегламентированногоУчета.Получить();</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Банк</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанковРФ"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Банк.ОсновнойБанковскийСчет.Банк;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыДокументовФизическихЛиц</Код>
				<Наименование>Справочник: Документы, удостоверяющие личность</Наименование>
				<Порядок>300</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ДокументыУдостоверяющиеЛичность</Источник>
				<Приемник>СправочникСсылка.ВидыДокументовФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>КодИМНС --&gt; КодМВД</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодИМНС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодМВД" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>КодПФР --&gt; КодПФР</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ИМНС01 --&gt; ПаспортСССР</Наименование>
						<Порядок>50</Порядок>
						<Приемник>ПаспортСССР</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ИМНС02 --&gt; ЗагранпаспортСССР</Наименование>
						<Порядок>100</Порядок>
						<Приемник>ЗагранпаспортСССР</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ИМНС03 --&gt; СвидетельствоОРождении</Наименование>
						<Порядок>150</Порядок>
						<Приемник>СвидетельствоОРождении</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ИМНС04 --&gt; УдостоверениеОфицера</Наименование>
						<Порядок>200</Порядок>
						<Приемник>УдостоверениеОфицера</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ИМНС06 --&gt; ПаспортМинморфлота</Наименование>
						<Порядок>250</Порядок>
						<Приемник>ПаспортМинморфлота</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ИМНС07 --&gt; ВоенныйБилет</Наименование>
						<Порядок>300</Порядок>
						<Приемник>ВоенныйБилет</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ИМНС09 --&gt; ДипломатическийПаспорт</Наименование>
						<Порядок>350</Порядок>
						<Приемник>ДипломатическийПаспорт</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ИМНС21 --&gt; ПаспортРФ</Наименование>
						<Порядок>400</Порядок>
						<Приемник>ПаспортРФ</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ИМНС22 --&gt; ЗагранпаспортРФ</Наименование>
						<Порядок>450</Порядок>
						<Приемник>ЗагранпаспортРФ</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ИМНС26 --&gt; ПаспортМоряка</Наименование>
						<Порядок>500</Порядок>
						<Приемник>ПаспортМоряка</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ИМНС27 --&gt; ВоенныйБилетОфицераЗапаса</Наименование>
						<Порядок>550</Порядок>
						<Приемник>ВоенныйБилетОфицераЗапаса</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДокументыФизическихЛиц</Код>
				<Наименование>Регистр сведений: Паспортные данные физического лица</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>Отказ = Не ЗначениеЗаполнено(Источник.Физлицо);</ПередВыгрузкой>
				<ПослеЗагрузки>ТекстСерия				= НСтр("ru = ', серия: %1'");
ТекстНомер				= НСтр("ru = ', № %1'");
ТекстДатаВыдачи			= НСтр("ru = ', выдан: %1 года'");
ТекстСрокДействия		= НСтр("ru = ', действует до: %1 года'");
ТекстКодПодразделения	= НСтр("ru = ', № подр. %1'");

Для каждого Запись Из Объект Цикл
	Если Запись.ВидДокумента.Пустая() Тогда
		Запись.Представление = "";
	Иначе
		Запись.Представление = ""
			+ Запись.ВидДокумента
			+ ?(ЗначениеЗаполнено(Запись.Серия), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстСерия, Запись.Серия), "")
			+ ?(ЗначениеЗаполнено(Запись.Номер), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстНомер, Запись.Номер), "")
			+ ?(ЗначениеЗаполнено(Запись.ДатаВыдачи), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстДатаВыдачи, Формат(Запись.ДатаВыдачи,"ДФ='дд ММММ гггг'")), "")
			+ ?(ЗначениеЗаполнено(Запись.СрокДействия), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстСрокДействия, Формат(Запись.СрокДействия,"ДФ='дд ММММ гггг'")), "")
			+ ?(ЗначениеЗаполнено(Запись.КемВыдан), ", " + Запись.КемВыдан, "");
	КонецЕсли;
КонецЦикла;</ПослеЗагрузки>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ДокументыФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>ФизЛицо --&gt; Физлицо</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Физлицо" Вид="Измерение"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ДокументВид --&gt; ВидДокумента</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДокументВид" Вид="Ресурс" Тип="СправочникСсылка.ДокументыУдостоверяющиеЛичность"/>
						<Приемник Имя="ВидДокумента" Вид="Измерение" Тип="СправочникСсылка.ВидыДокументовФизическихЛиц"/>
						<КодПравилаКонвертации>ВидыДокументовФизическихЛиц                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ДокументСерия --&gt; Серия</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДокументСерия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Серия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДокументНомер --&gt; Номер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДокументНомер" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДокументДатаВыдачи --&gt; ДатаВыдачи</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДокументДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
						<Приемник Имя="ДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ДокументСрокДействия --&gt; СрокДействия</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДокументСрокДействия" Вид="Ресурс" Тип="Дата"/>
						<Приемник Имя="СрокДействия" Вид="Ресурс" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДокументКемВыдан --&gt; КемВыдан</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДокументКемВыдан" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="КемВыдан" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ДокументКодПодразделения --&gt; КодПодразделения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДокументКодПодразделения" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="КодПодразделения" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; Активность</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ЯвляетсяДокументомУдостоверяющимЛичность</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЯвляетсяДокументомУдостоверяющимЛичность" Вид="Ресурс" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФИОФизическихЛиц</Код>
				<Наименование>Регистр сведений: Фамилия, имя, отчество физического лица</Наименование>
				<Порядок>400</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ФИОФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ФИОФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>12</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Измерение"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ГражданствоФизическихЛиц</Код>
				<Наименование>Регистр сведений: Гражданство физического лица</Наименование>
				<Порядок>450</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ГражданствоФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ГражданствоФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Страна --&gt; Страна</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Страна" Вид="Ресурс" Тип="СправочникСсылка.КлассификаторСтранМира"/>
						<Приемник Имя="Страна" Вид="Ресурс" Тип="СправочникСсылка.СтраныМира"/>
						<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ГруппыДоступаФизическихЛицПоУмолчанию</Код>
				<Наименование>:</Наименование>
				<Порядок>500</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Приемник>СправочникСсылка.ГруппыДоступаФизическихЛиц</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Администраторы";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Прочее</Код>
			<Наименование>Прочее</Наименование>
			<Порядок>250</Порядок>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>50</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>ВидОбъектаКонтактнойИнформации --&gt; Родитель</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВидОбъектаКонтактнойИнформации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						<ПередВыгрузкой>ВидОбъектаКонтактнойИнформации = Источник.ВидОбъектаКонтактнойИнформации;

Если ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.ФизическиеЛица Тогда
	ИмяПКО = "";
	Значение = "СправочникФизическиеЛица";
Иначе
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Используется</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>АдресОрганизацииПочтовый --&gt; ПочтовыйАдресОрганиза</Наименование>
						<Порядок>50</Порядок>
						<Источник>АдресОрганизацииПочтовый</Источник>
						<Приемник>ПочтовыйАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ИнострАдресФизЛица --&gt; АдресЗаПределамиРФФизически</Наименование>
						<Порядок>100</Порядок>
						<Источник>ИнострАдресФизЛица</Источник>
						<Приемник>АдресЗаПределамиРФФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ИнформАдресФизЛица --&gt; АдресДляИнформированияФизич</Наименование>
						<Порядок>150</Порядок>
						<Источник>ИнформАдресФизЛица</Источник>
						<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>200</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ТелефонСлужебный --&gt; ТелефонРабочийФизическиеЛица</Наименование>
						<Порядок>250</Порядок>
						<Источник>ТелефонСлужебный</Источник>
						<Приемник>ТелефонРабочийФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ТелефонФизЛица --&gt; ТелефонДомашнийФизическиеЛица</Наименование>
						<Порядок>300</Порядок>
						<Источник>ТелефонФизЛица</Источник>
						<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>350</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
						<Порядок>400</Порядок>
						<Источник>ФактАдресКонтрагента</Источник>
						<Приемник>ФактАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>450</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ФактАдресФизЛица --&gt; АдресМестаПроживанияФизически</Наименование>
						<Порядок>500</Порядок>
						<Источник>ФактАдресФизЛица</Источник>
						<Приемник>АдресМестаПроживанияФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>550</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>12</Код>
						<Наименование>ЮрАдресФизЛица --&gt; АдресМестаПроживанияФизическиеЛ</Наименование>
						<Порядок>600</Порядок>
						<Источник>ЮрАдресФизЛица</Источник>
						<Приемник>АдресПоПропискеФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>13</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; EMailФизическиеЛица</Наименование>
						<Порядок>650</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>EMailФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>14</Код>
						<Наименование>ТелефонМобильный --&gt; ТелефонМобильныйФизическиеЛиц</Наименование>
						<Порядок>700</Порядок>
						<Источник>ТелефонМобильный</Источник>
						<Приемник>ТелефонМобильныйФизическиеЛица</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>350</Порядок>
			<Правило>
				<Код>ПолФизическогоЛица</Код>
				<Наименование>Перечисление: Пол физических Лиц</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ПолФизическихЛиц</Источник>
				<Приемник>ПеречислениеСсылка.ПолФизическогоЛица</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Женский --&gt; Женский</Наименование>
						<Порядок>50</Порядок>
						<Источник>Женский</Источник>
						<Приемник>Женский</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Мужской --&gt; Мужской</Наименование>
						<Порядок>100</Порядок>
						<Источник>Мужской</Источник>
						<Приемник>Мужской</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>400</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>КонтрагентыИФизическиеЛица</Код>
			<Наименование>Контрагенты и физические лица</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>ФизическиеЛица</Код>
				<Наименование>Физические лица</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ФизическиеЛица</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ДокументыУдостоверяющиеЛичность</Код>
				<Наименование>Документы, удостоверяющие личность</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ВидыДокументовФизическихЛиц                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ДокументыУдостоверяющиеЛичность</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ЛицевыеСчетаРаботниковОрганизации</Код>
				<Наименование>Лицевые счета сотрудников организации</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>БанковскиеСчетаКонтрагентов                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ЛицевыеСчетаРаботниковОрганизации</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Для Каждого Запись Из Объект Цикл
	Значение = Новый Структура("ФизЛицо,НомерЛицевогоСчета,Наименование,Банк", Запись.Физлицо, Запись.НомерЛицевогоСчета, Запись.НомерЛицевогоСчета, Запись.Банк); 
	ВыгрузитьПоПравилу(Значение,,,, "БанковскиеСчетаКонтрагентов");	
КонецЦикла;
Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ГражданствоФизЛиц</Код>
				<Наименование>Гражданство физического лица</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>ГражданствоФизическихЛиц                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ГражданствоФизЛиц</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПаспортныеДанныеФизЛиц</Код>
				<Наименование>Паспортные данные физического лица</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ДокументыФизическихЛиц                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФИОФизЛиц</Код>
				<Наименование>Фамилия, имя, отчество физического лица</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>ФИОФизическихЛиц                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ФИОФизЛиц</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Прочее</Код>
			<Наименование>Прочее</Наименование>
			<Порядок>200</Порядок>
			<Правило Отключить="false">
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Виды контактной информации</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="ВидКИПартнераПоВидуКИКонтрагента" ИспользуетсяПриЗагрузке="true">
			<Текст>Если ВидКИКонтрагента = Справочники.ВидыКонтактнойИнформации.EmailКонтрагента Тогда
	ВидКиПартнера = Справочники.ВидыКонтактнойИнформации.EmailПартнера;
ИначеЕсли ВидКИКонтрагента = Справочники.ВидыКонтактнойИнформации.ТелефонКонтрагента Тогда
	ВидКиПартнера = Справочники.ВидыКонтактнойИнформации.ТелефонПартнера;
ИначеЕсли ВидКИКонтрагента = Справочники.ВидыКонтактнойИнформации.ЮрАдресКонтрагента Тогда
	ВидКиПартнера = Справочники.ВидыКонтактнойИнформации.АдресПартнера;
ИначеЕсли ЗначениеЗаполнено(ВидКИКонтрагента) И ИспользоватьПартнеровКакКонтрагентов Тогда
	 // Поиск или создание прочих видов КИ.
	 Запрос = Новый Запрос;
	 Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
	 |	Ссылка
	 |ИЗ Справочник.ВидыКонтактнойИнформации
	 |ГДЕ Ссылка В ИЕРАРХИИ (ЗНАЧЕНИЕ(Справочник.ВидыКонтактнойИнформации.СправочникПартнеры))
	 |	И ПометкаУдаления = Ложь
	 |	И Тип = &amp;ТипКИ И Наименование = &amp;НаименованиеКИ";
	 ЗначенияРеквизитовВидаКИ = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ВидКИКонтрагента, "Тип, Наименование");
	 Запрос.УстановитьПараметр("ТипКИ", ЗначенияРеквизитовВидаКИ.Тип);
	 Запрос.УстановитьПараметр("НаименованиеКИ", ЗначенияРеквизитовВидаКИ.Наименование);
	 Выборка = Запрос.Выполнить().Выбрать();
	 Если Выборка.Следующий() Тогда
	 	ВидКиПартнера = Выборка.Ссылка;
	 Иначе
	 	НовыйВидКИ = Справочники.ВидыКонтактнойИнформации.СоздатьЭлемент();
	 	ЗаполнитьЗначенияСвойств(НовыйВидКИ, ВидКИКонтрагента,,"Родитель, Владелец, Предопределенный");
	 	НовыйВидКИ.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникПартнеры;
	 	НовыйВидКИ.ОбменДанными.Загрузка = Истина;
	 	НовыйВидКИ.Записать();
	 	ВидКИПартнера = НовыйВидКИ.Ссылка;
	 КонецЕсли;
КонецЕсли;</Текст>
			<Параметры>ВидКИКонтрагента, ИспользоватьПартнеровКакКонтрагентов</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ВыбратьПКОВидыОперацийПоЗарплате" ИспользуетсяПриЗагрузке="false">
			<Текст>Если ТипЗнч(ОбъектКоллекции.ВидОперации) = Тип("Строка") Тогда
	ИмяПКО = "";
КонецЕсли;</Текст>
			<Параметры>ОбъектКоллекции</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ЗаполнитьЗначенияПеременныхВеденияУчета" ИспользуетсяПриЗагрузке="false">
			<Текст>	Организация = ДокументОтражение.Организация;
	ПериодРегистрации = ДокументОтражение.ПериодРегистрации;
	
	Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных = ОтражениеЗарплатыВРеглУчетеДополнительный.ПолучитьСтруктураПараметровПеременныхВеденияУчета(Организация, ПериодРегистрации);</Текст>
			<Параметры>ДокументОтражение</Параметры>
		</Алгоритм>
		<Алгоритм Имя="НайтиСоздатьСпособОтраженияЗарплатыВБухУчете" ИспользуетсяПриЗагрузке="true">
			<Текст>ПараметрыОтбора = Новый Структура("СтатьяРасходов", СтрокаСтатьиРасходов.СтатьяРасходов);
НайденныеСтроки = ТаблицаСпособов.НайтиСтроки(ПараметрыОтбора);

СсылкаСпособ = Неопределено;
Если НайденныеСтроки.Количество() &lt;&gt; 1 Тогда // тогда создаем
	СтатьяРасходов = " " + СокрЛП(СтрокаСтатьиРасходов.СтатьяРасходов);
	Если Найти(СтатьяРасходов, НСтр("ru='Объект не найден'")) &gt; 0 Тогда
		СтатьяРасходов = "";	
	КонецЕсли;
	
	ИмяСтатьиДляПоиска = НСтр("ru='Создан автоматически'") + СтатьяРасходов;
	
	Если НайденныеСтроки.Количество() &gt; 1 Тогда
		Для Каждого НайденнаяСтрока Из НайденныеСтроки Цикл
			Если НайденнаяСтрока.СпособОтражения.Наименование = ИмяСтатьиДляПоиска Тогда					
				СсылкаСпособ = НайденнаяСтрока.СпособОтражения;
				Прервать;
			КонецЕсли;					
		КонецЦикла;
	КонецЕсли;	
	Если СсылкаСпособ = Неопределено Тогда
		Способ = Справочники.СпособыОтраженияЗарплатыВБухУчете.СоздатьЭлемент();
		Способ.Наименование = ИмяСтатьиДляПоиска;
		Способ.СтатьяРасходов         = СтрокаСтатьиРасходов.СтатьяРасходов;
		Способ.СтатьяРасходовЕНВД     = СтрокаСтатьиРасходов.СтатьяРасходов;
		
		Способ.Описание = НСтр("ru='Создан автоматически при загрузке данных о зарплате из ЗУП 2.5'");
		Способ.Записать();
		СсылкаСпособ = Способ.Ссылка;
		
		НовСтрокаСпособ = ТаблицаСпособов.Добавить();
		НовСтрокаСпособ.СпособОтражения = СсылкаСпособ;
		НовСтрокаСпособ.СтатьяРасходов = СтрокаСтатьиРасходов.СтатьяРасходов;
	КонецЕсли;			
Иначе
	СсылкаСпособ = НайденныеСтроки[0].СпособОтражения;
КонецЕсли;</Текст>
			<Параметры>СсылкаСпособ, СтрокаСтатьиРасходов, ТаблицаСпособов</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ОбработатьЗаписьДокументаПослеЗагрузки" ИспользуетсяПриЗагрузке="true">
			<Текст>// Параметры:
// - Объект

ПроведенОбъект = Объект.Проведен;
ПроведенСсылка = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.Ссылка, "Проведен");
Объект.Проведен = Истина;
	
ПолеКомментарий = "Комментарий";
// В случае, если для какого-либо вида документа поле "Комментарий" будет называться иначе,
// следует предусмотреть соответствующее заполнение переменной "ПолеКомментарий"

//Найдем наш старый комментарий, и вырежем его.
СтрокиЗамены = Новый Массив;
СтрокиЗамены.Добавить(НСтр("ru = '#Загружен новый'"));
СтрокиЗамены.Добавить(НСтр("ru = '#Изменен'"));
СтрокиЗамены.Добавить(НСтр("ru = '#Отменено проведение'"));
СтрокиЗамены.Добавить(НСтр("ru = '#Проведен'"));

КомментарийОбъекта = Объект[ПолеКомментарий];
Для Каждого СтрокаЗамены Из СтрокиЗамены Цикл
	Если Найти(КомментарийОбъекта, СтрокаЗамены) &gt; 0 Тогда
		КомментарийОбъекта = СокрЛП(СтрЗаменить(КомментарийОбъекта, СтрокаЗамены, ""));
		Прервать;
	КонецЕсли;
КонецЦикла;

//Сформируем новый комментарий объекта.
Если Объект.ЭтоНовый() Тогда
	Объект[ПолеКомментарий] = НСтр("ru = '#Загружен новый'") + " " + КомментарийОбъекта;
Иначе
	Если ПроведенОбъект = ПроведенСсылка Тогда
		Объект[ПолеКомментарий] = НСтр("ru = '#Изменен'") + " " + КомментарийОбъекта;
	ИначеЕсли ПроведенСсылка Тогда
		Объект[ПолеКомментарий] = НСтр("ru = '#Отменено проведение'") + " " + КомментарийОбъекта;
	Иначе
		Объект[ПолеКомментарий] = НСтр("ru = '#Проведен'") + " " + КомментарийОбъекта;
	КонецЕсли;
КонецЕсли;</Текст>
			<Параметры>Объект</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ОбработкаСправочниковОтложенная" ИспользуетсяПриЗагрузке="true">
			<Текст>ОбъектМодифицирован = Ложь;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	Если ИмяПКО = "ФизическиеЛица" Тогда
		Если Константы.ОграничиватьДоступНаУровнеЗаписейФизическиеЛица.Получить()
			И Не Объект.ЭтоГруппа 
			И НЕ ЗначениеЗаполнено(Объект.ГруппаДоступа) Тогда
			
			ГруппаДоступа = Неопределено;
			Выполнить(Алгоритмы.ЭлементПоУмолчаниюДляОбмена_ГруппаДоступаФизЛиц);
			Объект.ГруппаДоступа = ГруппаДоступа;
			ОбъектМодифицирован = Истина;
		КонецЕсли;
	КонецЕсли;   //ИмяПКО = "ФизическиеЛица" 		
КонецЕсли  // РежимЗагрузкиДанныхВИнформационнуюБазу()</Текст>
			<Параметры>Объект, ИмяПКО, ОбъектМодифицирован, ПараметрыОбъекта</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ОтветственныеЛицаОрганизации" ИспользуетсяПриЗагрузке="false">
			<Текст>ТабВыборки = Новый ТаблицаЗначений;
ТабВыборки.Колонки.Добавить("Владелец");
ТабВыборки.Колонки.Добавить("ДатаНачала");
ТабВыборки.Колонки.Добавить("ДатаОкончания");
ТабВыборки.Колонки.Добавить("ОтветственноеЛицо");
ТабВыборки.Колонки.Добавить("ФизическоеЛицо");
ТабВыборки.Колонки.Добавить("Наименование");

Запрос = Новый Запрос;
Запрос.Текст = "
	|ВЫБРАТЬ
	|	ОтветственныеЛицаОрганизации.СтруктурнаяЕдиница КАК СтруктурнаяЕдиница,
	|	ОтветственныеЛицаОрганизации.ОтветственноеЛицо КАК ОтветственноеЛицо,
	|	ОтветственныеЛицаОрганизации.ФизическоеЛицо КАК ФизическоеЛицо,
	|	ОтветственныеЛицаОрганизации.Должность КАК Должность,
	|	ОтветственныеЛицаОрганизации.Период КАК Период
	|ИЗ
	|	РегистрСведений.ОтветственныеЛицаОрганизаций КАК ОтветственныеЛицаОрганизации
	|ГДЕ
	|	ОтветственныеЛицаОрганизации.СтруктурнаяЕдиница ССЫЛКА Справочник.Организации
	|	И ОтветственныеЛицаОрганизации.СтруктурнаяЕдиница = &amp;Организация
	|
	|УПОРЯДОЧИТЬ ПО
	|	Период УБЫВ,
	|	СтруктурнаяЕдиница
	|
	|ИТОГИ ПО
	|СтруктурнаяЕдиница,
	|ОтветственноеЛицо";
	
Запрос.УстановитьПараметр("Организация", Организация);

Результат = Запрос.Выполнить();

ВыборкаОрганизаций = Результат.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОрганизаций.Следующий() Цикл
	ВыборкаОтвЛиц = ВыборкаОрганизаций.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаОтвЛиц.Следующий() Цикл
		ПредыдущаяДата = ДАТА(1,1,1,0,0,0);
		ВыборкаДетальныеЗаписи = ВыборкаОтвЛиц.Выбрать();
		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			НоваяСтрока						= ТабВыборки.Добавить();
			НоваяСтрока.Владелец			= ВыборкаДетальныеЗаписи.СтруктурнаяЕдиница;
			НоваяСтрока.ДатаНачала			= ВыборкаДетальныеЗаписи.Период;
			НоваяСтрока.ДатаОкончания		= ПредыдущаяДата;
			ПредыдущаяДата					= ВыборкаДетальныеЗаписи.Период;
			НоваяСтрока.ОтветственноеЛицо	= ВыборкаДетальныеЗаписи.ОтветственноеЛицо;
			НоваяСтрока.ФизическоеЛицо		= ВыборкаДетальныеЗаписи.ФизическоеЛицо;
			НоваяСтрока.Наименование		= ВыборкаДетальныеЗаписи.ФизическоеЛицо.Наименование;
			ЭтоВыгружаетсяОбъект = Ложь;
			ВыгрузитьПоПравилу(НоваяСтрока, , ,	, "ОтветственныеЛицаОрганизаций",,,,,,,,ЭтоВыгружаетсяОбъект);
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</Текст>
			<Параметры>Организация</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ПереносКИ" ИспользуетсяПриЗагрузке="false">
			<Текст>// Параметры:
// - Источник

ВыгружаемыйОбъект = Источник;

КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Тип");
КоллекцияОбъектов.Колонки.Добавить("Вид");
КоллекцияОбъектов.Колонки.Добавить("Представление");
КоллекцияОбъектов.Колонки.Добавить("ЗначенияПолей");
КоллекцияОбъектов.Колонки.Добавить("Страна");
КоллекцияОбъектов.Колонки.Добавить("Регион");
КоллекцияОбъектов.Колонки.Добавить("Город");
КоллекцияОбъектов.Колонки.Добавить("АдресЭП");
КоллекцияОбъектов.Колонки.Добавить("ДоменноеИмяСервера");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефона");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефонаБезКодов");
КоллекцияОбъектов.Колонки.Добавить("ЭтоПроизвольнаяСтрока", Новый ОписаниеТипов("Булево"));
КоллекцияОбъектов.Колонки.Добавить("Индекс");
КоллекцияОбъектов.Колонки.Добавить("Район");
КоллекцияОбъектов.Колонки.Добавить("НаселенныйПункт");
КоллекцияОбъектов.Колонки.Добавить("Улица");
КоллекцияОбъектов.Колонки.Добавить("Дом");
КоллекцияОбъектов.Колонки.Добавить("Корпус");
КоллекцияОбъектов.Колонки.Добавить("Квартира");
КоллекцияОбъектов.Колонки.Добавить("ТипДома");
КоллекцияОбъектов.Колонки.Добавить("ТипКорпуса");
КоллекцияОбъектов.Колонки.Добавить("ТипКвартиры");
КоллекцияОбъектов.Колонки.Добавить("КодСтраны");

Запрос = Новый Запрос("ВЫБРАТЬ
	|	КонтактнаяИнформация.Тип КАК Тип,
	|	КонтактнаяИнформация.Вид КАК Вид,
	|	КонтактнаяИнформация.Представление КАК Представление,
	|	КонтактнаяИнформация.Поле1 КАК Поле1,
	|	КонтактнаяИнформация.Поле2 КАК Поле2,
	|	КонтактнаяИнформация.Поле3 КАК Поле3,
	|	КонтактнаяИнформация.Поле4 КАК Поле4,
	|	КонтактнаяИнформация.Поле5 КАК Поле5,
	|	КонтактнаяИнформация.Поле6 КАК Поле6,
	|	КонтактнаяИнформация.Поле7 КАК Поле7,
	|	КонтактнаяИнформация.Поле8 КАК Поле8,
	|	КонтактнаяИнформация.Поле9 КАК Поле9,
	|   """" КАК Поле10,
	|   """" КАК Поле11,
	|   """" КАК Поле12,
	|   """" КАК Поле13
	|ИЗ
	|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
	|ГДЕ
	|	КонтактнаяИнформация.Объект = &amp;Контрагент
	|");

Запрос.УстановитьПараметр("Контрагент", ВыгружаемыйОбъект.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	
	НоваяСтрока = КоллекцияОбъектов.Добавить();
	ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка, "Тип,Вид,Представление");

	Если Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
		
		// Проверка на произвольное значение
		Если УправлениеКонтактнойИнформацией.ПолучитьПредставлениеАдреса(Выборка) &lt;&gt; Выборка.Представление Тогда
			НоваяСтрока.ЭтоПроизвольнаяСтрока = Истина;
		КонецЕсли;
		
		Если НоваяСтрока.ЭтоПроизвольнаяСтрока И ЗначениеЗаполнено(Выборка.Поле1) Тогда
			НоваяСтрока.Страна = Выборка.Поле1;
			Страна = Справочники.КлассификаторСтранМира.НайтиПоНаименованию(Выборка.Поле1, Истина);
			Если ЗначениеЗаполнено(Страна) Тогда
				НоваяСтрока.КодСтраны = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Страна, "Код");
			КонецЕсли;
		КонецЕсли;
		
		НоваяСтрока.Представление   = ?(НоваяСтрока.ЭтоПроизвольнаяСтрока, Выборка.Представление, Неопределено);
		НоваяСтрока.Индекс          = ?(НоваяСтрока.ЭтоПроизвольнаяСтрока, Неопределено, Выборка.Поле1);
		НоваяСтрока.Регион          = Выборка.Поле2;
		НоваяСтрока.Район           = Выборка.Поле3;
		НоваяСтрока.Город           = Выборка.Поле4;
		НоваяСтрока.НаселенныйПункт = Выборка.Поле5;
		НоваяСтрока.Улица           = Выборка.Поле6;
		НоваяСтрока.Дом             = Выборка.Поле7;
		НоваяСтрока.Корпус          = Выборка.Поле8;
		НоваяСтрока.Квартира        = Выборка.Поле9;
		
		Если ЗначениеЗаполнено(НоваяСтрока.Дом) Тогда
			НоваяСтрока.ТипДома = "дом";
		КонецЕсли;
		Если ЗначениеЗаполнено(НоваяСтрока.Корпус) Тогда
			НоваяСтрока.ТипКорпуса = "корпус";
		КонецЕсли;
		Если ЗначениеЗаполнено(НоваяСтрока.Квартира) Тогда
			НоваяСтрока.ТипКвартиры = "кв.";
		КонецЕсли;
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "Индекс=" + Выборка.Поле1 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле2), "Регион="			+ Выборка.Поле2 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле3), "Район="			+ Выборка.Поле3 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле4), "Город="			+ Выборка.Поле4 + Символы.ПС, "") 
		   + ?(ЗначениеЗаполнено(Выборка.Поле5), "НаселенныйПункт="	+ Выборка.Поле5 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле6), "Улица="			+ Выборка.Поле6 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле7), "Дом="				+ Выборка.Поле7 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле8), "Корпус="			+ Выборка.Поле8 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле9), "Квартира="		+ Выборка.Поле9 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(НоваяСтрока.ТипДома),		 "ТипДома="			+ НоваяСтрока.ТипДома	 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(НоваяСтрока.ТипКорпуса),	 "ТипКорпуса="		+ НоваяСтрока.ТипКорпуса + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(НоваяСтрока.ТипКвартиры),	 "ТипКвартиры="		+ НоваяСтрока.ТипКвартиры, "");
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Телефон Тогда
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "КодСтраны=" + Выборка.Поле1 + Символы.ПС, "")
			+ ?(ЗначениеЗаполнено(Выборка.Поле2), "КодГорода="     + Выборка.Поле2 + Символы.ПС, "")
			+ ?(ЗначениеЗаполнено(Выборка.Поле3), "НомерТелефона=" + Выборка.Поле3 + Символы.ПС, "")
			+ ?(ЗначениеЗаполнено(Выборка.Поле4), "Добавочный="    + Выборка.Поле4, "");

		НоваяСтрока.НомерТелефонаБезКодов = Выборка.Поле3;
		НоваяСтрока.НомерТелефона         = Выборка.Поле1 + Выборка.Поле2 + Выборка.Поле3;
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.АдресЭлектроннойПочты Тогда
		
		НоваяСтрока.АдресЭП = Выборка.Представление;
		
	КонецЕсли;
	
КонецЦикла;</Текст>
			<Параметры>Источник</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ПКОДляСтатьиРасходов" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = "Пустое";
	ИмяПКО = "СтатьяРасходовПоУмолчанию";
ИначеЕсли ТипЗнч(Значение) = Тип("СправочникСсылка.ПрочиеДоходыИРасходы") Тогда
	ИмяПКО = "ПрочиеДоходыИРасходыВСтатьиРасходов";
ИначеЕсли ТипЗнч(Значение) = Тип("СправочникСсылка.РасходыБудущихПериодов") Тогда
	ИмяПКО = "РБПВСтатьиРасходов";
ИначеЕсли ТипЗнч(Значение) &lt;&gt; Тип("ПеречислениеСсылка.ВидыПлатежейВГосБюджет") Тогда
	ИмяПКО = "СтатьиЗатратВСтатьиРасходов";
ИначеЕсли ТипЗнч(Значение) = Тип("ПеречислениеСсылка.ВидыПлатежейВГосБюджет") Тогда
	ИмяПКО = "СтатьяРасходовПоПеречислению";
Иначе
	Отказ = Истина;
КонецЕсли;</Текст>
			<Параметры>Значение</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьДанныеУчетаСтраховыхВзносов2011" ИспользуетсяПриЗагрузке="false">
			<Текст>// Функция фозвращает таблицу значений с данными для вычисления коэффициентов отражения в учете Страховых взносов
// Параметры
//  МассивПериодовРегистрации   - массив с периодами регистрации, по которым собираем данные
//  ГоловнаяОрганизация 		– головная организация
//  МассивСчетаИсключенияРБП 	- массив счетов по которым расходы не относим на РБП
//  МассивФизлиц				- Массив физлиц, по которым собираем данные для списания РБП или получения базы с начала года
//  СворачиватьПериодДействия 	- Результат формируем без периода действия
//
// Возвращаемое значение:
//   Таблица значений 
//
	
МассивФизлиц = Неопределено;
СворачиватьПериодДействия = Ложь;
ПериодРегистрации = ДокументОтражение.ПериодРегистрации;
Организация = ДокументОтражение.Организация;

Если Не ЗначениеЗаполнено(Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных) Тогда
	Выполнить(Алгоритмы.ЗаполнитьЗначенияПеременныхВеденияУчета);
КонецЕсли;

// готовим массив счетов исключений, которые не учавствуют в распределении РБП
СчетаИсключения = Новый Массив();
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоНалогам);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.НематериальныеАктивы);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.ВложенияВоВнеоборотныеАктивы);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РезервыПредстоящихРасходов);
Запрос = Новый Запрос;
Запрос.УстановитьПараметр("СчетаИсключенияРБП", СчетаИсключения);

Запрос.Текст =
"ВЫБРАТЬ
|	Хозрасчетный.Ссылка
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;СчетаИсключенияРБП)";
МассивСчетаИсключенияРБП = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");
	
Запрос = Новый Запрос;
Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;

// Периоды
// Таблица список периодов, для получения учетной политики
// Поля:
//		Период, конец месяца
// Описание:

// конец месяца налогового периода
КонецМесяца = КонецМесяца(МассивПериодовРегистрации[0]);
// первый месяц
ПериодыТекст = "ВЫБРАТЬ ДАТАВРЕМЯ(" + Формат(КонецМесяца,"ДФ=гггг,М,д,Ч,м,с") + ") КАК Период ПОМЕСТИТЬ ВТ_Периоды";
// прибавим остальные месяцы
Для Индекс = 1 По МассивПериодовРегистрации.Количество()-1 Цикл
	КонецМесяца = КонецМесяца(МассивПериодовРегистрации[Индекс]);
	ПериодыТекст = ПериодыТекст +" ОБЪЕДИНИТЬ ВСЕ ВЫБРАТЬ ДАТАВРЕМЯ(" + Формат(КонецМесяца,"ДФ=гггг,М,д,Ч,м,с") + ")";
КонецЦикла;
Запрос.Текст = ПериодыТекст;
Запрос.Выполнить();

Запрос.УстановитьПараметр("парамГоловнаяОрганизация", ГоловнаяОрганизация);
Запрос.УстановитьПараметр("парамОбособленноеПодразделение", Организация);
Запрос.УстановитьПараметр("парамНеОтбиратьФизлиц", МассивФизлиц = Неопределено);
Запрос.УстановитьПараметр("парамМассивПериодовРегистрации", МассивПериодовРегистрации);
Запрос.УстановитьПараметр("парамМассивФизлиц", МассивФизлиц);
Запрос.УстановитьПараметр("парамСчетаИсключенияРБП", МассивСчетаИсключенияРБП);
Запрос.УстановитьПараметр("парамКонецГода", КонецГода(МассивПериодовРегистрации[0]));
Запрос.УстановитьПараметр("парамФормироватьРБП",
Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных.ПорядокПризнанияРасходовПоОтпускам = Перечисления.ПорядокПризнанияРасходовПоОтпускам.ВМесяцеОтпуска 
и Не Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных.ОценочныеОбязательстваФормироватьБУ);

МассивПоСреднемуЗаработкуОтпуска = Новый Массив;
МассивПоСреднемуЗаработкуОтпуска.Добавить(Перечисления.СпособыРасчетаОплатыТруда.ПоСреднемуЗаработкуДляОтпускаПоКалендарнымДням);
МассивПоСреднемуЗаработкуОтпуска.Добавить(Перечисления.СпособыРасчетаОплатыТруда.ПоСреднемуЗаработкуДляОтпускаПоШестидневке);
Запрос.УстановитьПараметр("парамПоСреднемуЗаработкуОтпуска", МассивПоСреднемуЗаработкуОтпуска);

ИспользуетсяТрудЧленовЛетныхЭкипажей = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуетсяТрудЧленовЛетныхЭкипажей");
ИспользуетсяТрудШахтеров = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуетсяТрудШахтеров");
ИспользуютсяРаботыСДосрочнойПенсией = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуютсяРаботыСДосрочнойПенсией");

Запрос.Текст = 
"ВЫБРАТЬ
|	СтраховыеВзносыСведенияОДоходах.Регистратор,
|	СтраховыеВзносыСведенияОДоходах.НомерСтроки,
|	СтраховыеВзносыСведенияОДоходах.ФизЛицо КАК ФизЛицо,
|	СтраховыеВзносыСведенияОДоходах.ВидРасчета КАК ВидРасчета,
|	СтраховыеВзносыСведенияОДоходах.ВидДохода КАК КодДоходаЕСН,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	НАЧАЛОПЕРИОДА(СтраховыеВзносыСведенияОДоходах.Период, МЕСЯЦ) КАК ПериодРегистрации,
|	СтраховыеВзносыСведенияОДоходах.Скидка
|ПОМЕСТИТЬ ВТ_Скидки
|ИЗ
|	РегистрНакопления.СтраховыеВзносыСведенияОДоходах КАК СтраховыеВзносыСведенияОДоходах
|ГДЕ
|	НАЧАЛОПЕРИОДА(СтраховыеВзносыСведенияОДоходах.Период, МЕСЯЦ) В (&amp;парамМассивПериодовРегистрации)
|	И СтраховыеВзносыСведенияОДоходах.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|	И (&amp;парамНеОтбиратьФизлиц
|			ИЛИ СтраховыеВзносыСведенияОДоходах.ФизЛицо В (&amp;парамМассивФизлиц))
|	И СтраховыеВзносыСведенияОДоходах.Скидка &lt;&gt; 0
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ФизЛицо,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	СкидкиКДоходам.Регистратор КАК Регистратор,
|	СкидкиКДоходам.НомерСтроки КАК НомерСтроки,
|	ЕСНДополнительныеНачисления.Сотрудник КАК Сотрудник,
|	СкидкиКДоходам.ВидРасчета КАК ВидРасчета,
|	СкидкиКДоходам.КодДоходаЕСН КАК КодДоходаЕСН,
|	СкидкиКДоходам.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	СкидкиКДоходам.ПериодРегистрации КАК ПериодРегистрации,
|	ЕСНДополнительныеНачисления.Результат КАК Результат,
|	СкидкиКДоходам.Скидка
|ИЗ
|	ВТ_Скидки КАК СкидкиКДоходам
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрРасчета.ЕСНДополнительныеНачисления КАК ЕСНДополнительныеНачисления
|		ПО (ЕСНДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение)
|			И СкидкиКДоходам.ФизЛицо = ЕСНДополнительныеНачисления.ФизЛицо
|			И СкидкиКДоходам.ВидРасчета = ЕСНДополнительныеНачисления.ВидРасчета
|			И СкидкиКДоходам.КодДоходаЕСН = ЕСНДополнительныеНачисления.КодДоходаЕСН
|			И СкидкиКДоходам.ОблагаетсяЕНВД = ЕСНДополнительныеНачисления.ОблагаетсяЕНВД
|			И СкидкиКДоходам.ПериодРегистрации = ЕСНДополнительныеНачисления.ПериодРегистрации
|			И СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу = ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу
|			И СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|УПОРЯДОЧИТЬ ПО
|	ПериодРегистрации,
|	Сотрудник,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";
РезультатЗапроса = Запрос.Выполнить();

Если Не ЗначениеЗаполнено(Параметры.ПараметрыАлгоритмов.ТаблицаСкидок) Тогда
	Выполнить(Алгоритмы.ПолучитьТаблицуСкидокКДоходам);
КонецЕсли;
ТаблицаСкидок = Параметры.ПараметрыАлгоритмов.ТаблицаСкидок;

Запрос.УстановитьПараметр("ТаблицаСкидок", ТаблицаСкидок);

МассивСчет84 = Новый Массив();
МассивСчет84.Добавить(ПланыСчетов.Хозрасчетный.НераспределеннаяПрибыль);
Запрос.УстановитьПараметр("СчетаИсключения", МассивСчет84);

МассивСчет69 = Новый Массив();
МассивСчет69.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию);
Запрос.УстановитьПараметр("Счета69", МассивСчет69);

Запрос.Текст =
"ВЫБРАТЬ
|	Хозрасчетный.Ссылка КАК Ссылка
|ПОМЕСТИТЬ ВТ_Счета84
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;СчетаИсключения)
|
|ИНДЕКСИРОВАТЬ ПО
|	Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Хозрасчетный.Ссылка КАК Ссылка
|ПОМЕСТИТЬ ВТ_Счета69
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;Счета69)
|
|ИНДЕКСИРОВАТЬ ПО
|	Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	НАЧАЛОПЕРИОДА(Периоды.Период, МЕСЯЦ) КАК Месяц,
|	УчетнаяПолитика.ОрганизацияЯвляетсяПлательщикомЕНВД,
|	УчетнаяПолитика.ВидТарифаСтраховыхВзносов
|ПОМЕСТИТЬ ВТ_УчетнаяПолитика
|ИЗ
|	(ВЫБРАТЬ
|		Периоды.Период КАК Период,
|		МАКСИМУМ(УчетнаяПолитика.Период) КАК ПериодРегистра
|	ИЗ
|		ВТ_Периоды КАК Периоды
|			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет КАК УчетнаяПолитика
|			ПО Периоды.Период &gt;= УчетнаяПолитика.Период
|				И (УчетнаяПолитика.Организация = &amp;парамГоловнаяОрганизация)
|	
|	СГРУППИРОВАТЬ ПО
|		Периоды.Период) КАК Периоды
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет КАК УчетнаяПолитика
|		ПО Периоды.ПериодРегистра = УчетнаяПолитика.Период
|			И (УчетнаяПолитика.Организация = &amp;парамГоловнаяОрганизация)
|
|ИНДЕКСИРОВАТЬ ПО
|	Месяц
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	ТаблицаСкидок.Сотрудник КАК Сотрудник,
|	ТаблицаСкидок.ВидРасчета КАК ВидРасчета,
|	ТаблицаСкидок.КодДоходаЕСН КАК КодДоходаЕСН,
|	ТаблицаСкидок.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	ТаблицаСкидок.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	ТаблицаСкидок.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ТаблицаСкидок.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	ТаблицаСкидок.ПериодРегистрации КАК ПериодРегистрации,
|	ТаблицаСкидок.Скидка
|ПОМЕСТИТЬ ВТ_СкидкиКДоходам
|ИЗ
|	&amp;ТаблицаСкидок КАК ТаблицаСкидок
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	Сотрудник,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Доходы.Сотрудник КАК Сотрудник,
|	Доходы.ФизЛицо КАК ФизЛицо,
|	Доходы.ВидРасчета КАК ВидРасчета,
|	Доходы.ВидДохода,
|	Доходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	Доходы.ОблагаетсяПоДополнительномуТарифу,
|	Доходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	Доходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	Доходы.ПериодРегистрации КАК ПериодРегистрации,
|	Доходы.ПериодДействия КАК ПериодДействия,
|	СУММА(Доходы.Результат) КАК Результат,
|	Доходы.ВидДохода.ВходитВБазуПФР КАК ВходитВБазуПФР,
|	Доходы.ВидДохода.ВходитВБазуФСС КАК ВходитВБазуФСС,
|	Доходы.ВидДохода.ВходитВБазуФОМС КАК ВходитВБазуФОМС
|ПОМЕСТИТЬ ВТ_ВзносыДоходыПоВР
|ИЗ
|	(ВЫБРАТЬ
|		ЕСНОсновныеНачисления.Сотрудник КАК Сотрудник,
|		ЕСНОсновныеНачисления.ФизЛицо КАК ФизЛицо,
|		ЕСНОсновныеНачисления.ВидРасчета КАК ВидРасчета,
|		ЕСНОсновныеНачисления.КодДоходаЕСН КАК ВидДохода,
|		ЕСНОсновныеНачисления.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|		ЕСНОсновныеНачисления.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|		ЕСНОсновныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|		ЕСНОсновныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|		ЕСНОсновныеНачисления.ПериодРегистрации КАК ПериодРегистрации,
|		ЕСНОсновныеНачисления.ПериодДействия КАК ПериодДействия,
|		ВЫБОР
|			КОГДА ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуФОМС
|					ИЛИ ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуФСС
|					ИЛИ ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуПФР
|				ТОГДА ЕСНОсновныеНачисления.Результат
|			ИНАЧЕ 0
|		КОНЕЦ КАК Результат
|	ИЗ
|		РегистрРасчета.ЕСНОсновныеНачисления КАК ЕСНОсновныеНачисления
|	ГДЕ
|		ЕСНОсновныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И ЕСНОсновныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ ЕСНОсновныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		ЕСНДополнительныеНачисления.Сотрудник,
|		ЕСНДополнительныеНачисления.ФизЛицо,
|		ЕСНДополнительныеНачисления.ВидРасчета,
|		ЕСНДополнительныеНачисления.КодДоходаЕСН,
|		ЕСНДополнительныеНачисления.ОблагаетсяЕНВД,
|		ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу,
|		ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|		ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|		ЕСНДополнительныеНачисления.ПериодРегистрации,
|		ЕСНДополнительныеНачисления.ПериодРегистрации,
|		ВЫБОР
|			КОГДА ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуФОМС
|					ИЛИ ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуФСС
|					ИЛИ ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуПФР
|				ТОГДА ЕСНДополнительныеНачисления.Результат - ЕСТЬNULL(ВТ_СкидкиКДоходам.Скидка, 0)
|			ИНАЧЕ 0
|		КОНЕЦ
|	ИЗ
|		РегистрРасчета.ЕСНДополнительныеНачисления КАК ЕСНДополнительныеНачисления
|			ЛЕВОЕ СОЕДИНЕНИЕ ВТ_СкидкиКДоходам КАК ВТ_СкидкиКДоходам
|			ПО ЕСНДополнительныеНачисления.Сотрудник = ВТ_СкидкиКДоходам.Сотрудник
|				И ЕСНДополнительныеНачисления.ВидРасчета = ВТ_СкидкиКДоходам.ВидРасчета
|				И ЕСНДополнительныеНачисления.КодДоходаЕСН = ВТ_СкидкиКДоходам.КодДоходаЕСН
|				И ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу = ВТ_СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу
|				И ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = ВТ_СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|				И ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ВТ_СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|				И ЕСНДополнительныеНачисления.ПериодРегистрации = ВТ_СкидкиКДоходам.ПериодРегистрации
|				И ЕСНДополнительныеНачисления.ОблагаетсяЕНВД = ВТ_СкидкиКДоходам.ОблагаетсяЕНВД
|	ГДЕ
|		ЕСНДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И ЕСНДополнительныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ ЕСНДополнительныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))) КАК Доходы
|ГДЕ
|	Доходы.Результат &lt;&gt; 0
|
|СГРУППИРОВАТЬ ПО
|	Доходы.Сотрудник,
|	Доходы.ВидРасчета,
|	Доходы.ВидДохода,
|	Доходы.ПериодРегистрации,
|	Доходы.ПериодДействия,
|	Доходы.ОблагаетсяЕНВД,
|	Доходы.ФизЛицо,
|	Доходы.ВидДохода.ВходитВБазуПФР,
|	Доходы.ВидДохода.ВходитВБазуФСС,
|	Доходы.ВидДохода.ВходитВБазуФОМС,
|	Доходы.ОблагаетсяПоДополнительномуТарифу,
|	Доходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	Доходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ПериодДействия,
|	Сотрудник,
|	ВидРасчета,
|	ОблагаетсяЕНВД
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Доходы.Сотрудник КАК Сотрудник,
|	Доходы.ФизЛицо КАК ФизЛицо,
|	Доходы.ВидРасчета КАК ВидРасчета,
|	Доходы.ПериодРегистрации КАК ПериодРегистрации,
|	Доходы.ПериодДействия КАК ПериодДействия,
|	ВЫБОР
|		КОГДА (НЕ УчетнаяПолитикаНалоговыйУчет.ОрганизацияЯвляетсяПлательщикомЕНВД)
|			ТОГДА ЛОЖЬ
|		КОГДА ВЫБОР
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				ИНАЧЕ NULL
|			КОНЕЦ = ЗНАЧЕНИЕ(Перечисление.ОтнесениеРасходовКДеятельностиЕНВД.РасходыОтносятсяКЕНВД)
|			ТОГДА ИСТИНА
|		ИНАЧЕ ЛОЖЬ
|	КОНЕЦ КАК ОблагаетсяЕНВД,
|	Доходы.СчетДт,
|	Доходы.СубконтоДт1,
|	Доходы.СубконтоДт2,
|	Доходы.СубконтоДт3,
|	Доходы.СчетДтНУ,
|	Доходы.СубконтоДтНУ1,
|	Доходы.СубконтоДтНУ2,
|	Доходы.СубконтоДтНУ3,
|	Доходы.ОтражениеВУСН,
|	СУММА(Доходы.Результат) КАК Результат,
|	Доходы.ПодразделениеДт,
|	Доходы.ПодразделениеКт,
|	Доходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВТ_Счета84.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ КАК ЭтоСчет84,
|	ВЫБОР
|		КОГДА ВТ_Счета69.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ КАК ЭтоСчет69,
|	Доходы.ЭтоОтпуск,
|	Доходы.ДатаНачала КАК ДатаАктуальности
|ПОМЕСТИТЬ ВТ_БУДоходы
|ИЗ
|	(ВЫБРАТЬ
|		БУОсновныеНачисления.Сотрудник КАК Сотрудник,
|		БУОсновныеНачисления.ФизЛицо КАК ФизЛицо,
|		БУОсновныеНачисления.ВидРасчета КАК ВидРасчета,
|		БУОсновныеНачисления.ПериодРегистрации КАК ПериодРегистрации,
|		БУОсновныеНачисления.ПериодДействия КАК ПериодДействия,
|		БУОсновныеНачисления.СчетДт КАК СчетДт,
|		БУОсновныеНачисления.СубконтоДт1 КАК СубконтоДт1,
|		БУОсновныеНачисления.СубконтоДт2 КАК СубконтоДт2,
|		БУОсновныеНачисления.СубконтоДт3 КАК СубконтоДт3,
|		БУОсновныеНачисления.СчетДтНУ КАК СчетДтНУ,
|		БУОсновныеНачисления.СубконтоДтНУ1 КАК СубконтоДтНУ1,
|		БУОсновныеНачисления.СубконтоДтНУ2 КАК СубконтоДтНУ2,
|		БУОсновныеНачисления.СубконтоДтНУ3 КАК СубконтоДтНУ3,
|		БУОсновныеНачисления.ОтражениеВУСН КАК ОтражениеВУСН,
|		БУОсновныеНачисления.Результат КАК Результат,
|		БУОсновныеНачисления.ПодразделениеДт КАК ПодразделениеДт,
|		БУОсновныеНачисления.ПодразделениеКт КАК ПодразделениеКт,
|		ВЫБОР
|			КОГДА &amp;парамФормироватьРБП
|				ТОГДА ВЫБОР
|						КОГДА (НЕ БУОсновныеНачисления.СчетДт В (&amp;парамСчетаИсключенияРБП))
|								И БУОсновныеНачисления.ПериодДействия &gt; БУОсновныеНачисления.ПериодРегистрации
|							ТОГДА ИСТИНА
|						ИНАЧЕ ЛОЖЬ
|					КОНЕЦ
|			ИНАЧЕ ЛОЖЬ
|		КОНЕЦ КАК ПодменятьСчетДтНаРБП,
|		БУОсновныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов КАК ЭтоОтпуск,
|		БУОсновныеНачисления.ПериодДействияНачало КАК ДатаНачала
|	ИЗ
|		РегистрРасчета.БУОсновныеНачисления КАК БУОсновныеНачисления
|	ГДЕ
|		БУОсновныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И БУОсновныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ БУОсновныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		БУДополнительныеНачисления.Сотрудник,
|		БУДополнительныеНачисления.ФизЛицо,
|		БУДополнительныеНачисления.ВидРасчета,
|		НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ),
|		НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ),
|		БУДополнительныеНачисления.СчетДт,
|		БУДополнительныеНачисления.СубконтоДт1,
|		БУДополнительныеНачисления.СубконтоДт2,
|		БУДополнительныеНачисления.СубконтоДт3,
|		БУДополнительныеНачисления.СчетДтНУ,
|		БУДополнительныеНачисления.СубконтоДтНУ1,
|		БУДополнительныеНачисления.СубконтоДтНУ2,
|		БУДополнительныеНачисления.СубконтоДтНУ3,
|		БУДополнительныеНачисления.ОтражениеВУСН,
|		БУДополнительныеНачисления.Результат,
|		БУДополнительныеНачисления.ПодразделениеДт,
|		БУДополнительныеНачисления.ПодразделениеКт,
|		ЛОЖЬ,
|		БУДополнительныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов,
|		БУДополнительныеНачисления.ПериодРегистрации
|	ИЗ
|		РегистрРасчета.БУДополнительныеНачисления КАК БУДополнительныеНачисления
|	ГДЕ
|		БУДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ) В (&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ БУДополнительныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))) КАК Доходы
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_УчетнаяПолитика КАК УчетнаяПолитикаНалоговыйУчет
|		ПО Доходы.ПериодРегистрации = УчетнаяПолитикаНалоговыйУчет.Месяц
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Счета84 КАК ВТ_Счета84
|		ПО Доходы.СчетДт = ВТ_Счета84.Ссылка
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Счета69 КАК ВТ_Счета69
|		ПО Доходы.СчетДт = ВТ_Счета69.Ссылка
|
|СГРУППИРОВАТЬ ПО
|	Доходы.Сотрудник,
|	Доходы.ВидРасчета,
|	Доходы.ПериодРегистрации,
|	Доходы.СчетДт,
|	Доходы.СчетДтНУ,
|	Доходы.СубконтоДт1,
|	Доходы.СубконтоДт2,
|	Доходы.СубконтоДт3,
|	Доходы.СубконтоДтНУ1,
|	Доходы.СубконтоДтНУ2,
|	Доходы.СубконтоДтНУ3,
|	Доходы.ОтражениеВУСН,
|	Доходы.ПериодДействия,
|	Доходы.ФизЛицо,
|	Доходы.ПодразделениеДт,
|	Доходы.ПодразделениеКт,
|	Доходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВТ_Счета84.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ,
|	ВЫБОР
|		КОГДА ВТ_Счета69.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ,
|	Доходы.ЭтоОтпуск,
|	ВЫБОР
|		КОГДА (НЕ УчетнаяПолитикаНалоговыйУчет.ОрганизацияЯвляетсяПлательщикомЕНВД)
|			ТОГДА ЛОЖЬ
|		КОГДА ВЫБОР
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				ИНАЧЕ NULL
|			КОНЕЦ = ЗНАЧЕНИЕ(Перечисление.ОтнесениеРасходовКДеятельностиЕНВД.РасходыОтносятсяКЕНВД)
|			ТОГДА ИСТИНА
|		ИНАЧЕ ЛОЖЬ
|	КОНЕЦ,
|	Доходы.ДатаНачала
|
|ИНДЕКСИРОВАТЬ ПО
|	Сотрудник,
|	ДатаАктуальности";
Запрос.Выполнить();

Если ИспользуетсяТрудЧленовЛетныхЭкипажей или ИспользуетсяТрудШахтеров или ИспользуютсяРаботыСДосрочнойПенсией Тогда
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ДатаАктуальности КАК ДатаАктуальности
	|ПОМЕСТИТЬ ВТ_СотрудникиДаты
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Сотрудник,
	|	ДатаАктуальности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
	|	Сотрудники.Сотрудник КАК Сотрудник,
	|	Сотрудники.ДатаАктуальности
	|ПОМЕСТИТЬ ВТСтрокиРегистра
	|ИЗ
	|	ВТ_СотрудникиДаты КАК Сотрудники
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
	|		ПО Сотрудники.Сотрудник = РаботникиОрганизаций.Сотрудник
	|			И Сотрудники.ДатаАктуальности &gt;= РаботникиОрганизаций.Период
	|
	|СГРУППИРОВАТЬ ПО
	|	Сотрудники.Сотрудник,
	|	Сотрудники.ДатаАктуальности
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Сотрудник,
	|	Период
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СтрокиРегистра.Сотрудник,
	|	СтрокиРегистра.ДатаАктуальности,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ЯвляетсяДолжностьюЛетногоЭкипажа
	|			ИНАЧЕ Работники.Должность.ЯвляетсяДолжностьюЛетногоЭкипажа
	|		КОНЕЦ, ЛОЖЬ) КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ЯвляетсяШахтерскойДолжностью
	|			ИНАЧЕ Работники.Должность.ЯвляетсяШахтерскойДолжностью
	|		КОНЕЦ, ЛОЖЬ) КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ВзимаютсяВзносыЗаЗанятыхНаРаботахСДосрочнойПенсией
	|			ИНАЧЕ Работники.Должность.ВзимаютсяВзносыЗаЗанятыхНаРаботахСДосрочнойПенсией
	|		КОНЕЦ, ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка)) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТСотрудники
	|ИЗ
	|	ВТСтрокиРегистра КАК СтрокиРегистра
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК Работники
	|		ПО СтрокиРегистра.Сотрудник = Работники.Сотрудник
	|			И СтрокиРегистра.Период = Работники.Период
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяПоДополнительномуТарифу, ЛОЖЬ) КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам, ЛОЖЬ) КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией, ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка)) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
	|	БУДоходы.ДатаАктуальности КАК ПериодДействияНачало
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТСотрудники КАК СотрудникиДопДанные
	|		ПО БУДоходы.Сотрудник = СотрудникиДопДанные.Сотрудник
	|			И БУДоходы.ДатаАктуальности = СотрудникиДопДанные.ДатаАктуальности";
	ТаблицаУчета = Запрос.Выполнить().Выгрузить();
	
	ДополнительныйЗапрос = Новый Запрос;
	ДополнительныйЗапрос.Текст = 
	"ВЫБРАТЬ
	|	ОсновныеНачисленияОрганизаций.Ссылка КАК ВидРасчета,
	|	ОсновныеНачисленияОрганизаций.ВидСтажаСЗВ4,
	|	ВЫБОР
	|		КОГДА НЕ ОсновныеНачисленияОрганизаций.ЗачетНормыВремени
	|				И ОсновныеНачисленияОрганизаций.НачисляетсяВЦеломЗаМесяц
	|				И ОсновныеНачисленияОрганизаций.ВидСтажаСЗВ4 &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыСтажаСЗВ4.ВключаетсяВСтажДляДосрочногоНазначенияПенсии)
	|			ТОГДА ИСТИНА
	|		ИНАЧЕ ЛОЖЬ
	|	КОНЕЦ КАК РаспределяетсяВоВсехСлучаях
	|ИЗ
	|	ПланВидовРасчета.ОсновныеНачисленияОрганизаций КАК ОсновныеНачисленияОрганизаций
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДополнительныеНачисленияОрганизаций.Ссылка,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСтажаСЗВ4.ПустаяСсылка),
	|	ИСТИНА
	|ИЗ
	|	ПланВидовРасчета.ДополнительныеНачисленияОрганизаций КАК ДополнительныеНачисленияОрганизаций";
	Выборка = ДополнительныйЗапрос.Выполнить().Выбрать();
	ОписаниеНачислений = Новый Соответствие;
	Пока Выборка.Следующий() Цикл
		ОписаниеНачислений.Вставить(Выборка.ВидРасчета, Новый Структура("ВидСтажаСЗВ4,РаспределяетсяВоВсехСлучаях",Выборка.ВидСтажаСЗВ4,Выборка.РаспределяетсяВоВсехСлучаях))
	КонецЦикла;
	
	РасчетСтраховыхВзносов.УточнитьДанныеОРаботахСДосрочнойПенсией(
		ТаблицаУчета, 
		РасчетСтраховыхВзносов.ДолиДляРаспределенияВредности(Запрос.МенеджерВременныхТаблиц, ПериодРегистрации), 
		Истина, 
		ПериодРегистрации, 
		ОписаниеНачислений);

 	Запрос.УстановитьПараметр("БУДоходы",ТаблицаУчета);
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	БУДоходы.ОблагаетсяПоДополнительномуТарифу,
	|	БУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	БУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТВременная
	|ИЗ
	|	&amp;БУДоходы КАК БУДоходы
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Временная.Сотрудник,
	|	Временная.ФизЛицо,
	|	Временная.ВидРасчета,
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.СчетДт,
	|	Временная.СубконтоДт1,
	|	Временная.СубконтоДт2,
	|	Временная.СубконтоДт3,
	|	Временная.СчетДтНУ,
	|	Временная.СубконтоДтНУ1,
	|	Временная.СубконтоДтНУ2,
	|	Временная.СубконтоДтНУ3,
	|	Временная.ОтражениеВУСН,
	|	СУММА(Временная.Результат) КАК Результат,
	|	Временная.ПодразделениеДт,
	|	Временная.ПодразделениеКт,
	|	Временная.ПодменятьСчетДтНаРБП,
	|	Временная.ЭтоСчет84,
	|	Временная.ЭтоСчет69,
	|	Временная.ЭтоОтпуск,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТ_БУДоходыПоВР
	|ИЗ
	|	ВТВременная КАК Временная
	|
	|СГРУППИРОВАТЬ ПО
	|	Временная.Сотрудник,
	|	Временная.ФизЛицо,
	|	Временная.ВидРасчета,
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.СчетДт,
	|	Временная.СубконтоДт1,
	|	Временная.СубконтоДт2,
	|	Временная.СубконтоДт3,
	|	Временная.СчетДтНУ,
	|	Временная.СубконтоДтНУ1,
	|	Временная.СубконтоДтНУ2,
	|	Временная.СубконтоДтНУ3,
	|	Временная.ОтражениеВУСН,
	|	Временная.ПодразделениеДт,
	|	Временная.ПодразделениеКт,
	|	Временная.ПодменятьСчетДтНаРБП,
	|	Временная.ЭтоСчет84,
	|	Временная.ЭтоСчет69,
	|	Временная.ЭтоОтпуск,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.Сотрудник,
	|	Временная.ВидРасчета,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|УНИЧТОЖИТЬ ВТСотрудники
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|УНИЧТОЖИТЬ ВТВременная";
	
	Запрос.Выполнить();
	
Иначе
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	ЛОЖЬ КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЛОЖЬ КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТ_БУДоходыПоВР
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	ПериодРегистрации,
	|	ПериодДействия,
	|	Сотрудник,
	|	ВидРасчета,
	|	ОблагаетсяЕНВД,
	|	ОблагаетсяПоДополнительномуТарифу,
	|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";
	Запрос.Выполнить();
	
КонецЕсли;

Запрос.Текст = 
"ВЫБРАТЬ
|	ВзносыДоходыПоВР.Сотрудник,
|	ВзносыДоходыПоВР.ФизЛицо,
|	ВзносыДоходыПоВР.ВидРасчета,
|	ВзносыДоходыПоВР.ОблагаетсяЕНВД,
|	ВзносыДоходыПоВР.ОблагаетсяПоДополнительномуТарифу,
|	ВзносыДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ВзносыДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	ВзносыДоходыПоВР.ПериодРегистрации,
|	ВзносыДоходыПоВР.ПериодДействия,
|	ВзносыДоходыПоВР.Результат,
|	БУДоходыПоВР.СчетДт,
|	БУДоходыПоВР.СубконтоДт1,
|	БУДоходыПоВР.СубконтоДт2,
|	БУДоходыПоВР.СубконтоДт3,
|	БУДоходыПоВР.СчетДтНУ,
|	БУДоходыПоВР.СубконтоДтНУ1,
|	БУДоходыПоВР.СубконтоДтНУ2,
|	БУДоходыПоВР.СубконтоДтНУ3,
|	БУДоходыПоВР.ОтражениеВУСН,
|	БУДоходыПоВР.Результат КАК РезультатБУ,
|	БУДоходыПоВР.ПодразделениеДт,
|	БУДоходыПоВР.ПодразделениеКт,
|	БУДоходыПоВР.ПодменятьСчетДтНаРБП,
|	ВзносыДоходыПоВР.ВходитВБазуПФР,
|	ВзносыДоходыПоВР.ВходитВБазуФСС,
|	ВзносыДоходыПоВР.ВходитВБазуФОМС,
|	БУДоходыПоВР.ЭтоСчет84,
|	БУДоходыПоВР.ЭтоСчет69,
|	БУДоходыПоВР.ЭтоОтпуск
|ПОМЕСТИТЬ ВТ_ВзносыДоходыБУДоходы
|ИЗ
|	ВТ_ВзносыДоходыПоВР КАК ВзносыДоходыПоВР
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_БУДоходыПоВР КАК БУДоходыПоВР
|		ПО ВзносыДоходыПоВР.Сотрудник = БУДоходыПоВР.Сотрудник
|			И ВзносыДоходыПоВР.ВидРасчета = БУДоходыПоВР.ВидРасчета
|			И ВзносыДоходыПоВР.ПериодРегистрации = БУДоходыПоВР.ПериодРегистрации
|			И ВзносыДоходыПоВР.ПериодДействия = БУДоходыПоВР.ПериодДействия
|			И ВзносыДоходыПоВР.ОблагаетсяЕНВД = БУДоходыПоВР.ОблагаетсяЕНВД
|			И ВзносыДоходыПоВР.ОблагаетсяПоДополнительномуТарифу = БУДоходыПоВР.ОблагаетсяПоДополнительномуТарифу
|			И ВзносыДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = БУДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И ВзносыДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = БУДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	БУДоходыСводПоВР.Сотрудник КАК Сотрудник,
|	БУДоходыСводПоВР.ФизЛицо,
|	БУДоходыСводПоВР.ВидРасчета КАК ВидРасчета,
|	БУДоходыСводПоВР.ПериодРегистрации КАК ПериодРегистрации,
|	БУДоходыСводПоВР.ПериодДействия КАК ПериодДействия,
|	СУММА(БУДоходыСводПоВР.Результат) КАК Результат,
|	БУДоходыСводПоВР.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|ПОМЕСТИТЬ ВТ_БУДоходыСводПоВР
|ИЗ
|	ВТ_БУДоходыПоВР КАК БУДоходыСводПоВР
|
|СГРУППИРОВАТЬ ПО
|	БУДоходыСводПоВР.Сотрудник,
|	БУДоходыСводПоВР.ФизЛицо,
|	БУДоходыСводПоВР.ВидРасчета,
|	БУДоходыСводПоВР.ОблагаетсяЕНВД,
|	БУДоходыСводПоВР.ПериодРегистрации,
|	БУДоходыСводПоВР.ПериодДействия,
|	БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ПериодДействия,
|	Сотрудник,
|	ВидРасчета,
|	ОблагаетсяЕНВД
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	БУДоходыСводПоВР.ФизЛицо,
|	ВзносыДоходыБУДоходы.СчетДт,
|	ВзносыДоходыБУДоходы.СубконтоДт1,
|	ВзносыДоходыБУДоходы.СубконтоДт2,
|	ВзносыДоходыБУДоходы.СубконтоДт3,
|	ВзносыДоходыБУДоходы.СчетДтНУ,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ1,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ2,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ3,
|	ВзносыДоходыБУДоходы.ОтражениеВУСН,
|	ВзносыДоходыБУДоходы.ПодразделениеДт,
|	ВзносыДоходыБУДоходы.ПодразделениеКт,
|	ВзносыДоходыБУДоходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаПФР,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаПФР_ЕНВД,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС_ЕНВД,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФОМС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФОМС,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФОМС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФОМС_ЕНВД,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяПоДополнительномуТарифу)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаДопТариф,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаДопТарифШахтеры,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПодземныеИВредныеРаботы)
|				И ВзносыДоходыБУДоходы.ВходитВБазуПФР
|				И БУДоходыСводПоВР.Результат &lt;&gt; 0
|			ТОГДА ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|		ИНАЧЕ 0
|	КОНЕЦ КАК БазаДопТарифПодземныеИВредныеРаботы,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ТяжелыеИПрочиеРаботы)
|				И ВзносыДоходыБУДоходы.ВходитВБазуПФР
|				И БУДоходыСводПоВР.Результат &lt;&gt; 0
|			ТОГДА ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|		ИНАЧЕ 0
|	КОНЕЦ КАК БазаДопТарифТяжелыеИПрочиеРаботы,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС_НС,
|	ВзносыДоходыБУДоходы.ПериодРегистрации,
|	ВзносыДоходыБУДоходы.ПериодДействия,
|	ВзносыДоходыБУДоходы.ОблагаетсяЕНВД,
|	ВзносыДоходыБУДоходы.ЭтоСчет84,
|	ВзносыДоходыБУДоходы.ЭтоСчет69,
|	ВзносыДоходыБУДоходы.ЭтоОтпуск
|ПОМЕСТИТЬ ВТ_Коэффициенты
|ИЗ
|	ВТ_ВзносыДоходыБУДоходы КАК ВзносыДоходыБУДоходы
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_БУДоходыСводПоВР КАК БУДоходыСводПоВР
|		ПО ВзносыДоходыБУДоходы.Сотрудник = БУДоходыСводПоВР.Сотрудник
|			И ВзносыДоходыБУДоходы.ПериодРегистрации = БУДоходыСводПоВР.ПериодРегистрации
|			И ВзносыДоходыБУДоходы.ПериодДействия = БУДоходыСводПоВР.ПериодДействия
|			И ВзносыДоходыБУДоходы.ОблагаетсяЕНВД = БУДоходыСводПоВР.ОблагаетсяЕНВД
|			И ВзносыДоходыБУДоходы.ВидРасчета = БУДоходыСводПоВР.ВидРасчета
|			И ВзносыДоходыБУДоходы.ОблагаетсяПоДополнительномуТарифу = БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу
|			И ВзносыДоходыБУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";

Запрос.Выполнить();

Если СворачиватьПериодДействия Тогда
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	СУММА(Коэффициенты.БазаПФР) КАК БазаПФР,
	|	СУММА(Коэффициенты.БазаПФР_ЕНВД) КАК БазаПФР_ЕНВД,
	|	СУММА(Коэффициенты.БазаФСС) КАК БазаФСС,
	|	СУММА(Коэффициенты.БазаФСС_ЕНВД) КАК БазаФСС_ЕНВД,
	|	СУММА(Коэффициенты.БазаФОМС) КАК БазаФОМС,
	|	СУММА(Коэффициенты.БазаФОМС_ЕНВД) КАК БазаФОМС_ЕНВД,
	|	СУММА(Коэффициенты.БазаДопТариф) КАК БазаДопТариф,
	|	СУММА(Коэффициенты.БазаДопТарифШахтеры) КАК БазаДопТарифШахтеры,
	|	СУММА(Коэффициенты.БазаДопТарифПодземныеИВредныеРаботы) КАК БазаДопТарифПодземныеИВредныеРаботы,
	|	СУММА(Коэффициенты.БазаДопТарифТяжелыеИПрочиеРаботы) КАК БазаДопТарифТяжелыеИПрочиеРаботы,
	|	СУММА(Коэффициенты.БазаФСС_НС) КАК БазаФСС_НС,
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69
	|ИЗ
	|	ВТ_Коэффициенты КАК Коэффициенты
	|
	|СГРУППИРОВАТЬ ПО
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69";
	
Иначе // для списания РБП в расходы нужен период действия
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	СУММА(Коэффициенты.БазаПФР) КАК БазаПФР,
	|	СУММА(Коэффициенты.БазаПФР_ЕНВД) КАК БазаПФР_ЕНВД,
	|	СУММА(Коэффициенты.БазаФСС) КАК БазаФСС,
	|	СУММА(Коэффициенты.БазаФСС_ЕНВД) КАК БазаФСС_ЕНВД,
	|	СУММА(Коэффициенты.БазаФОМС) КАК БазаФОМС,
	|	СУММА(Коэффициенты.БазаФОМС_ЕНВД) КАК БазаФОМС_ЕНВД,
	|	СУММА(Коэффициенты.БазаДопТариф) КАК БазаДопТариф,
	|	СУММА(Коэффициенты.БазаДопТарифШахтеры) КАК БазаДопТарифШахтеры,
	|	СУММА(Коэффициенты.БазаДопТарифПодземныеИВредныеРаботы) КАК БазаДопТарифПодземныеИВредныеРаботы,
	|	СУММА(Коэффициенты.БазаДопТарифТяжелыеИПрочиеРаботы) КАК БазаДопТарифТяжелыеИПрочиеРаботы,
	|	СУММА(Коэффициенты.БазаФСС_НС) КАК БазаФСС_НС,
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПериодДействия,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69
	|ИЗ
	|	ВТ_Коэффициенты КАК Коэффициенты
	|ГДЕ
	|	(НЕ Коэффициенты.СчетДт В (&amp;парамСчетаИсключенияРБП))
	|
	|СГРУППИРОВАТЬ ПО
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПериодДействия,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69";
	
КонецЕсли;	

Параметры.ПараметрыАлгоритмов.ВзносыФизлиц = Запрос.Выполнить().Выгрузить();</Текст>
			<Параметры>МассивПериодовРегистрации, ГоловнаяОрганизация, ДокументОтражение</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьДанныеУчетаСтраховыхВзносов2014" ИспользуетсяПриЗагрузке="false">
			<Текст>МассивФизлиц = Неопределено;
СворачиватьПериодДействия = Ложь;
Организация = ДокументОтражение.Организация;
ПериодРегистрации = ДокументОтражение.Организация;

Если Не ЗначениеЗаполнено(Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных) Тогда
	Выполнить(Алгоритмы.ЗаполнитьЗначенияПеременныхВеденияУчета);
КонецЕсли;

// готовим массив счетов исключений, которые не учавствуют в распределении РБП
СчетаИсключения = Новый Массив();
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоНалогам);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.НематериальныеАктивы);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.ВложенияВоВнеоборотныеАктивы);
СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РезервыПредстоящихРасходов);
Запрос = Новый Запрос;
Запрос.УстановитьПараметр("СчетаИсключенияРБП", СчетаИсключения);

Запрос.Текст =
"ВЫБРАТЬ
|	Хозрасчетный.Ссылка
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;СчетаИсключенияРБП)";
МассивСчетаИсключенияРБП = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");
				

Запрос = Новый Запрос;
Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;

// Периоды
// Таблица список периодов, для получения учетной политики
// Поля:
//		Период, конец месяца
// Описание:

// конец месяца налогового периода
КонецМесяца = КонецМесяца(МассивПериодовРегистрации[0]);
// первый месяц
ПериодыТекст = "ВЫБРАТЬ ДАТАВРЕМЯ(" + Формат(КонецМесяца,"ДФ=гггг,М,д,Ч,м,с") + ") КАК Период ПОМЕСТИТЬ ВТ_Периоды";
// прибавим остальные месяцы
Для Индекс = 1 По МассивПериодовРегистрации.Количество()-1 Цикл
	КонецМесяца = КонецМесяца(МассивПериодовРегистрации[Индекс]);
	ПериодыТекст = ПериодыТекст +" ОБЪЕДИНИТЬ ВСЕ ВЫБРАТЬ ДАТАВРЕМЯ(" + Формат(КонецМесяца,"ДФ=гггг,М,д,Ч,м,с") + ")";
КонецЦикла;
Запрос.Текст = ПериодыТекст;
Запрос.Выполнить();

Запрос.УстановитьПараметр("парамГоловнаяОрганизация", ГоловнаяОрганизация);
Запрос.УстановитьПараметр("парамОбособленноеПодразделение", Организация);
Запрос.УстановитьПараметр("парамНеОтбиратьФизлиц", МассивФизлиц = Неопределено);
Запрос.УстановитьПараметр("парамМассивПериодовРегистрации", МассивПериодовРегистрации);
Запрос.УстановитьПараметр("парамМассивФизлиц", МассивФизлиц);
Запрос.УстановитьПараметр("парамСчетаИсключенияРБП", МассивСчетаИсключенияРБП);
Запрос.УстановитьПараметр("парамКонецГода", КонецГода(МассивПериодовРегистрации[0]));
Запрос.УстановитьПараметр("парамФормироватьРБП", 
Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных.ПорядокПризнанияРасходовПоОтпускам = Перечисления.ПорядокПризнанияРасходовПоОтпускам.ВМесяцеОтпуска 
и Не Параметры.ПараметрыАлгоритмов.СтруктураЗначенияПеременных.ОценочныеОбязательстваФормироватьБУ);

МассивПоСреднемуЗаработкуОтпуска = Новый Массив;
МассивПоСреднемуЗаработкуОтпуска.Добавить(Перечисления.СпособыРасчетаОплатыТруда.ПоСреднемуЗаработкуДляОтпускаПоКалендарнымДням);
МассивПоСреднемуЗаработкуОтпуска.Добавить(Перечисления.СпособыРасчетаОплатыТруда.ПоСреднемуЗаработкуДляОтпускаПоШестидневке);
Запрос.УстановитьПараметр("парамПоСреднемуЗаработкуОтпуска", МассивПоСреднемуЗаработкуОтпуска);

ИспользуетсяТрудЧленовЛетныхЭкипажей = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуетсяТрудЧленовЛетныхЭкипажей");
ИспользуетсяТрудШахтеров = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуетсяТрудШахтеров");
ИспользуютсяРаботыСДосрочнойПенсией = ПроцедурыУправленияПерсоналом.ЗначениеУчетнойПолитикиПоПерсоналуВсехОрганизаций(глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналуОрганизации"), "ИспользуютсяРаботыСДосрочнойПенсией");

Запрос.Текст = 
"ВЫБРАТЬ
|	СтраховыеВзносыСведенияОДоходах.Регистратор,
|	СтраховыеВзносыСведенияОДоходах.НомерСтроки,
|	СтраховыеВзносыСведенияОДоходах.ФизЛицо КАК ФизЛицо,
|	СтраховыеВзносыСведенияОДоходах.ВидРасчета КАК ВидРасчета,
|	СтраховыеВзносыСведенияОДоходах.ВидДохода КАК КодДоходаЕСН,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	СтраховыеВзносыСведенияОДоходах.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	НАЧАЛОПЕРИОДА(СтраховыеВзносыСведенияОДоходах.Период, МЕСЯЦ) КАК ПериодРегистрации,
|	СтраховыеВзносыСведенияОДоходах.Скидка
|ПОМЕСТИТЬ ВТ_Скидки
|ИЗ
|	РегистрНакопления.СтраховыеВзносыСведенияОДоходах КАК СтраховыеВзносыСведенияОДоходах
|ГДЕ
|	НАЧАЛОПЕРИОДА(СтраховыеВзносыСведенияОДоходах.Период, МЕСЯЦ) В (&amp;парамМассивПериодовРегистрации)
|	И СтраховыеВзносыСведенияОДоходах.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|	И (&amp;парамНеОтбиратьФизлиц
|			ИЛИ СтраховыеВзносыСведенияОДоходах.ФизЛицо В (&amp;парамМассивФизлиц))
|	И СтраховыеВзносыСведенияОДоходах.Скидка &lt;&gt; 0
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ФизЛицо,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	СкидкиКДоходам.Регистратор КАК Регистратор,
|	СкидкиКДоходам.НомерСтроки КАК НомерСтроки,
|	ЕСНДополнительныеНачисления.Сотрудник КАК Сотрудник,
|	СкидкиКДоходам.ВидРасчета КАК ВидРасчета,
|	СкидкиКДоходам.КодДоходаЕСН КАК КодДоходаЕСН,
|	СкидкиКДоходам.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	СкидкиКДоходам.ПериодРегистрации КАК ПериодРегистрации,
|	ЕСНДополнительныеНачисления.Результат КАК Результат,
|	СкидкиКДоходам.Скидка
|ИЗ
|	ВТ_Скидки КАК СкидкиКДоходам
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрРасчета.ЕСНДополнительныеНачисления КАК ЕСНДополнительныеНачисления
|		ПО (ЕСНДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение)
|			И СкидкиКДоходам.ФизЛицо = ЕСНДополнительныеНачисления.ФизЛицо
|			И СкидкиКДоходам.ВидРасчета = ЕСНДополнительныеНачисления.ВидРасчета
|			И СкидкиКДоходам.КодДоходаЕСН = ЕСНДополнительныеНачисления.КодДоходаЕСН
|			И СкидкиКДоходам.ОблагаетсяЕНВД = ЕСНДополнительныеНачисления.ОблагаетсяЕНВД
|			И СкидкиКДоходам.ПериодРегистрации = ЕСНДополнительныеНачисления.ПериодРегистрации
|			И СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу = ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу
|			И СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|УПОРЯДОЧИТЬ ПО
|	ПериодРегистрации,
|	Сотрудник,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";
РезультатЗапроса = Запрос.Выполнить();
Если Не ЗначениеЗаполнено(Параметры.ПараметрыАлгоритмов.ТаблицаСкидок) Тогда
	Выполнить(Алгоритмы.ПолучитьТаблицуСкидокКДоходам);
КонецЕсли;
ТаблицаСкидок = Параметры.ПараметрыАлгоритмов.ТаблицаСкидок; 

Запрос.УстановитьПараметр("ТаблицаСкидок", ТаблицаСкидок);

МассивСчет84 = Новый Массив();
МассивСчет84.Добавить(ПланыСчетов.Хозрасчетный.НераспределеннаяПрибыль);
Запрос.УстановитьПараметр("СчетаИсключения", МассивСчет84);

МассивСчет69 = Новый Массив();
МассивСчет69.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию);
Запрос.УстановитьПараметр("Счета69", МассивСчет69);

Запрос.Текст =
"ВЫБРАТЬ
|	Хозрасчетный.Ссылка КАК Ссылка
|ПОМЕСТИТЬ ВТ_Счета84
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;СчетаИсключения)
|
|ИНДЕКСИРОВАТЬ ПО
|	Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Хозрасчетный.Ссылка КАК Ссылка
|ПОМЕСТИТЬ ВТ_Счета69
|ИЗ
|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
|ГДЕ
|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&amp;Счета69)
|
|ИНДЕКСИРОВАТЬ ПО
|	Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	НАЧАЛОПЕРИОДА(Периоды.Период, МЕСЯЦ) КАК Месяц,
|	УчетнаяПолитика.ОрганизацияЯвляетсяПлательщикомЕНВД,
|	УчетнаяПолитика.ВидТарифаСтраховыхВзносов
|ПОМЕСТИТЬ ВТ_УчетнаяПолитика
|ИЗ
|	(ВЫБРАТЬ
|		Периоды.Период КАК Период,
|		МАКСИМУМ(УчетнаяПолитика.Период) КАК ПериодРегистра
|	ИЗ
|		ВТ_Периоды КАК Периоды
|			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет КАК УчетнаяПолитика
|			ПО Периоды.Период &gt;= УчетнаяПолитика.Период
|				И (УчетнаяПолитика.Организация = &amp;парамГоловнаяОрганизация)
|	
|	СГРУППИРОВАТЬ ПО
|		Периоды.Период) КАК Периоды
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет КАК УчетнаяПолитика
|		ПО Периоды.ПериодРегистра = УчетнаяПолитика.Период
|			И (УчетнаяПолитика.Организация = &amp;парамГоловнаяОрганизация)
|
|ИНДЕКСИРОВАТЬ ПО
|	Месяц
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	ТаблицаСкидок.Сотрудник КАК Сотрудник,
|	ТаблицаСкидок.ВидРасчета КАК ВидРасчета,
|	ТаблицаСкидок.КодДоходаЕСН КАК КодДоходаЕСН,
|	ТаблицаСкидок.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	ТаблицаСкидок.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|	ТаблицаСкидок.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ТаблицаСкидок.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	ТаблицаСкидок.ПериодРегистрации КАК ПериодРегистрации,
|	ТаблицаСкидок.Скидка
|ПОМЕСТИТЬ ВТ_СкидкиКДоходам
|ИЗ
|	&amp;ТаблицаСкидок КАК ТаблицаСкидок
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	Сотрудник,
|	ВидРасчета,
|	КодДоходаЕСН,
|	ОблагаетсяЕНВД,
|	ОблагаетсяПоДополнительномуТарифу,
|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Доходы.Сотрудник КАК Сотрудник,
|	Доходы.ФизЛицо КАК ФизЛицо,
|	Доходы.ВидРасчета КАК ВидРасчета,
|	Доходы.ВидДохода,
|	Доходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	Доходы.ОблагаетсяПоДополнительномуТарифу,
|	Доходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	Доходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	Доходы.ПериодРегистрации КАК ПериодРегистрации,
|	Доходы.ПериодДействия КАК ПериодДействия,
|	СУММА(Доходы.Результат) КАК Результат,
|	Доходы.ВидДохода.ВходитВБазуПФР КАК ВходитВБазуПФР,
|	Доходы.ВидДохода.ВходитВБазуФСС КАК ВходитВБазуФСС,
|	Доходы.ВидДохода.ВходитВБазуФОМС КАК ВходитВБазуФОМС
|ПОМЕСТИТЬ ВТ_ВзносыДоходыПоВР
|ИЗ
|	(ВЫБРАТЬ
|		ЕСНОсновныеНачисления.Сотрудник КАК Сотрудник,
|		ЕСНОсновныеНачисления.ФизЛицо КАК ФизЛицо,
|		ЕСНОсновныеНачисления.ВидРасчета КАК ВидРасчета,
|		ЕСНОсновныеНачисления.КодДоходаЕСН КАК ВидДохода,
|		ЕСНОсновныеНачисления.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|		ЕСНОсновныеНачисления.ОблагаетсяПоДополнительномуТарифу КАК ОблагаетсяПоДополнительномуТарифу,
|		ЕСНОсновныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|		ЕСНОсновныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|		ЕСНОсновныеНачисления.ПериодРегистрации КАК ПериодРегистрации,
|		ЕСНОсновныеНачисления.ПериодДействия КАК ПериодДействия,
|		ВЫБОР
|			КОГДА ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуФОМС
|					ИЛИ ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуФСС
|					ИЛИ ЕСНОсновныеНачисления.КодДоходаЕСН.ВходитВБазуПФР
|				ТОГДА ЕСНОсновныеНачисления.Результат
|			ИНАЧЕ 0
|		КОНЕЦ КАК Результат
|	ИЗ
|		РегистрРасчета.ЕСНОсновныеНачисления КАК ЕСНОсновныеНачисления
|	ГДЕ
|		ЕСНОсновныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И ЕСНОсновныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ ЕСНОсновныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		ЕСНДополнительныеНачисления.Сотрудник,
|		ЕСНДополнительныеНачисления.ФизЛицо,
|		ЕСНДополнительныеНачисления.ВидРасчета,
|		ЕСНДополнительныеНачисления.КодДоходаЕСН,
|		ЕСНДополнительныеНачисления.ОблагаетсяЕНВД,
|		ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу,
|		ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|		ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|		ЕСНДополнительныеНачисления.ПериодРегистрации,
|		ЕСНДополнительныеНачисления.ПериодРегистрации,
|		ВЫБОР
|			КОГДА ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуФОМС
|					ИЛИ ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуФСС
|					ИЛИ ЕСНДополнительныеНачисления.КодДоходаЕСН.ВходитВБазуПФР
|				ТОГДА ЕСНДополнительныеНачисления.Результат - ЕСТЬNULL(ВТ_СкидкиКДоходам.Скидка, 0)
|			ИНАЧЕ 0
|		КОНЕЦ
|	ИЗ
|		РегистрРасчета.ЕСНДополнительныеНачисления КАК ЕСНДополнительныеНачисления
|			ЛЕВОЕ СОЕДИНЕНИЕ ВТ_СкидкиКДоходам КАК ВТ_СкидкиКДоходам
|			ПО ЕСНДополнительныеНачисления.Сотрудник = ВТ_СкидкиКДоходам.Сотрудник
|				И ЕСНДополнительныеНачисления.ВидРасчета = ВТ_СкидкиКДоходам.ВидРасчета
|				И ЕСНДополнительныеНачисления.КодДоходаЕСН = ВТ_СкидкиКДоходам.КодДоходаЕСН
|				И ЕСНДополнительныеНачисления.ОблагаетсяПоДополнительномуТарифу = ВТ_СкидкиКДоходам.ОблагаетсяПоДополнительномуТарифу
|				И ЕСНДополнительныеНачисления.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = ВТ_СкидкиКДоходам.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|				И ЕСНДополнительныеНачисления.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ВТ_СкидкиКДоходам.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|				И ЕСНДополнительныеНачисления.ПериодРегистрации = ВТ_СкидкиКДоходам.ПериодРегистрации
|				И ЕСНДополнительныеНачисления.ОблагаетсяЕНВД = ВТ_СкидкиКДоходам.ОблагаетсяЕНВД
|	ГДЕ
|		ЕСНДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И ЕСНДополнительныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ ЕСНДополнительныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))) КАК Доходы
|ГДЕ
|	Доходы.Результат &lt;&gt; 0
|
|СГРУППИРОВАТЬ ПО
|	Доходы.Сотрудник,
|	Доходы.ВидРасчета,
|	Доходы.ВидДохода,
|	Доходы.ПериодРегистрации,
|	Доходы.ПериодДействия,
|	Доходы.ОблагаетсяЕНВД,
|	Доходы.ФизЛицо,
|	Доходы.ВидДохода.ВходитВБазуПФР,
|	Доходы.ВидДохода.ВходитВБазуФСС,
|	Доходы.ВидДохода.ВходитВБазуФОМС,
|	Доходы.ОблагаетсяПоДополнительномуТарифу,
|	Доходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	Доходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ПериодДействия,
|	Сотрудник,
|	ВидРасчета,
|	ОблагаетсяЕНВД
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Доходы.Сотрудник КАК Сотрудник,
|	Доходы.ФизЛицо КАК ФизЛицо,
|	Доходы.ВидРасчета КАК ВидРасчета,
|	Доходы.ПериодРегистрации КАК ПериодРегистрации,
|	Доходы.ПериодДействия КАК ПериодДействия,
|	ВЫБОР
|		КОГДА (НЕ УчетнаяПолитикаНалоговыйУчет.ОрганизацияЯвляетсяПлательщикомЕНВД)
|			ТОГДА ЛОЖЬ
|		КОГДА ВЫБОР
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				ИНАЧЕ NULL
|			КОНЕЦ = ЗНАЧЕНИЕ(Перечисление.ОтнесениеРасходовКДеятельностиЕНВД.РасходыОтносятсяКЕНВД)
|			ТОГДА ИСТИНА
|		ИНАЧЕ ЛОЖЬ
|	КОНЕЦ КАК ОблагаетсяЕНВД,
|	Доходы.СчетДт,
|	Доходы.СубконтоДт1,
|	Доходы.СубконтоДт2,
|	Доходы.СубконтоДт3,
|	Доходы.СчетДтНУ,
|	Доходы.СубконтоДтНУ1,
|	Доходы.СубконтоДтНУ2,
|	Доходы.СубконтоДтНУ3,
|	Доходы.ОтражениеВУСН,
|	СУММА(Доходы.Результат) КАК Результат,
|	Доходы.ПодразделениеДт,
|	Доходы.ПодразделениеКт,
|	Доходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВТ_Счета84.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ КАК ЭтоСчет84,
|	ВЫБОР
|		КОГДА ВТ_Счета69.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ КАК ЭтоСчет69,
|	Доходы.ЭтоОтпуск,
|	Доходы.ДатаНачала КАК ДатаАктуальности
|ПОМЕСТИТЬ ВТ_БУДоходы
|ИЗ
|	(ВЫБРАТЬ
|		БУОсновныеНачисления.Сотрудник КАК Сотрудник,
|		БУОсновныеНачисления.ФизЛицо КАК ФизЛицо,
|		БУОсновныеНачисления.ВидРасчета КАК ВидРасчета,
|		БУОсновныеНачисления.ПериодРегистрации КАК ПериодРегистрации,
|		БУОсновныеНачисления.ПериодДействия КАК ПериодДействия,
|		БУОсновныеНачисления.СчетДт КАК СчетДт,
|		БУОсновныеНачисления.СубконтоДт1 КАК СубконтоДт1,
|		БУОсновныеНачисления.СубконтоДт2 КАК СубконтоДт2,
|		БУОсновныеНачисления.СубконтоДт3 КАК СубконтоДт3,
|		БУОсновныеНачисления.СчетДтНУ КАК СчетДтНУ,
|		БУОсновныеНачисления.СубконтоДтНУ1 КАК СубконтоДтНУ1,
|		БУОсновныеНачисления.СубконтоДтНУ2 КАК СубконтоДтНУ2,
|		БУОсновныеНачисления.СубконтоДтНУ3 КАК СубконтоДтНУ3,
|		БУОсновныеНачисления.ОтражениеВУСН КАК ОтражениеВУСН,
|		БУОсновныеНачисления.Результат КАК Результат,
|		БУОсновныеНачисления.ПодразделениеДт КАК ПодразделениеДт,
|		БУОсновныеНачисления.ПодразделениеКт КАК ПодразделениеКт,
|		ВЫБОР
|			КОГДА &amp;парамФормироватьРБП
|				ТОГДА ВЫБОР
|						КОГДА (НЕ БУОсновныеНачисления.СчетДт В (&amp;парамСчетаИсключенияРБП))
|								И БУОсновныеНачисления.ПериодДействия &gt; БУОсновныеНачисления.ПериодРегистрации
|							ТОГДА ИСТИНА
|						ИНАЧЕ ЛОЖЬ
|					КОНЕЦ
|			ИНАЧЕ ЛОЖЬ
|		КОНЕЦ КАК ПодменятьСчетДтНаРБП,
|		БУОсновныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов КАК ЭтоОтпуск,
|		БУОсновныеНачисления.ПериодДействияНачало КАК ДатаНачала
|	ИЗ
|		РегистрРасчета.БУОсновныеНачисления КАК БУОсновныеНачисления
|	ГДЕ
|		БУОсновныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И БУОсновныеНачисления.ПериодРегистрации В(&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ БУОсновныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		БУДополнительныеНачисления.Сотрудник,
|		БУДополнительныеНачисления.ФизЛицо,
|		БУДополнительныеНачисления.ВидРасчета,
|		НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ),
|		НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ),
|		БУДополнительныеНачисления.СчетДт,
|		БУДополнительныеНачисления.СубконтоДт1,
|		БУДополнительныеНачисления.СубконтоДт2,
|		БУДополнительныеНачисления.СубконтоДт3,
|		БУДополнительныеНачисления.СчетДтНУ,
|		БУДополнительныеНачисления.СубконтоДтНУ1,
|		БУДополнительныеНачисления.СубконтоДтНУ2,
|		БУДополнительныеНачисления.СубконтоДтНУ3,
|		БУДополнительныеНачисления.ОтражениеВУСН,
|		БУДополнительныеНачисления.Результат,
|		БУДополнительныеНачисления.ПодразделениеДт,
|		БУДополнительныеНачисления.ПодразделениеКт,
|		ЛОЖЬ,
|		БУДополнительныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов,
|		БУДополнительныеНачисления.ПериодРегистрации
|	ИЗ
|		РегистрРасчета.БУДополнительныеНачисления КАК БУДополнительныеНачисления
|	ГДЕ
|		БУДополнительныеНачисления.ОбособленноеПодразделение = &amp;парамОбособленноеПодразделение
|		И НАЧАЛОПЕРИОДА(БУДополнительныеНачисления.ПериодРегистрации, МЕСЯЦ) В (&amp;парамМассивПериодовРегистрации)
|		И (&amp;парамНеОтбиратьФизлиц
|				ИЛИ БУДополнительныеНачисления.ФизЛицо В (&amp;парамМассивФизлиц))) КАК Доходы
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_УчетнаяПолитика КАК УчетнаяПолитикаНалоговыйУчет
|		ПО Доходы.ПериодРегистрации = УчетнаяПолитикаНалоговыйУчет.Месяц
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Счета84 КАК ВТ_Счета84
|		ПО Доходы.СчетДт = ВТ_Счета84.Ссылка
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Счета69 КАК ВТ_Счета69
|		ПО Доходы.СчетДт = ВТ_Счета69.Ссылка
|
|СГРУППИРОВАТЬ ПО
|	Доходы.Сотрудник,
|	Доходы.ВидРасчета,
|	Доходы.ПериодРегистрации,
|	Доходы.СчетДт,
|	Доходы.СчетДтНУ,
|	Доходы.СубконтоДт1,
|	Доходы.СубконтоДт2,
|	Доходы.СубконтоДт3,
|	Доходы.СубконтоДтНУ1,
|	Доходы.СубконтоДтНУ2,
|	Доходы.СубконтоДтНУ3,
|	Доходы.ОтражениеВУСН,
|	Доходы.ПериодДействия,
|	Доходы.ФизЛицо,
|	Доходы.ПодразделениеДт,
|	Доходы.ПодразделениеКт,
|	Доходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВТ_Счета84.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ,
|	ВЫБОР
|		КОГДА ВТ_Счета69.Ссылка ЕСТЬ NULL 
|			ТОГДА ЛОЖЬ
|		ИНАЧЕ ИСТИНА
|	КОНЕЦ,
|	Доходы.ЭтоОтпуск,
|	ВЫБОР
|		КОГДА (НЕ УчетнаяПолитикаНалоговыйУчет.ОрганизацияЯвляетсяПлательщикомЕНВД)
|			ТОГДА ЛОЖЬ
|		КОГДА ВЫБОР
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт1 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт1.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт2 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт2.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				КОГДА Доходы.СубконтоДт3 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
|					ТОГДА Доходы.СубконтоДт3.ОтнесениеРасходовКДеятельностиЕНВД
|				ИНАЧЕ NULL
|			КОНЕЦ = ЗНАЧЕНИЕ(Перечисление.ОтнесениеРасходовКДеятельностиЕНВД.РасходыОтносятсяКЕНВД)
|			ТОГДА ИСТИНА
|		ИНАЧЕ ЛОЖЬ
|	КОНЕЦ,
|	Доходы.ДатаНачала
|
|ИНДЕКСИРОВАТЬ ПО
|	Сотрудник,
|	ДатаАктуальности";
Запрос.Выполнить();

Если ИспользуетсяТрудЧленовЛетныхЭкипажей или ИспользуетсяТрудШахтеров или ИспользуютсяРаботыСДосрочнойПенсией Тогда
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ДатаАктуальности КАК ДатаАктуальности
	|ПОМЕСТИТЬ ВТ_СотрудникиДаты
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Сотрудник,
	|	ДатаАктуальности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
	|	Сотрудники.Сотрудник КАК Сотрудник,
	|	Сотрудники.ДатаАктуальности
	|ПОМЕСТИТЬ ВТСтрокиРегистра
	|ИЗ
	|	ВТ_СотрудникиДаты КАК Сотрудники
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
	|		ПО Сотрудники.Сотрудник = РаботникиОрганизаций.Сотрудник
	|			И Сотрудники.ДатаАктуальности &gt;= РаботникиОрганизаций.Период
	|
	|СГРУППИРОВАТЬ ПО
	|	Сотрудники.Сотрудник,
	|	Сотрудники.ДатаАктуальности
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Сотрудник,
	|	Период
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СтрокиРегистра.Сотрудник,
	|	СтрокиРегистра.ДатаАктуальности,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ЯвляетсяДолжностьюЛетногоЭкипажа
	|			ИНАЧЕ Работники.Должность.ЯвляетсяДолжностьюЛетногоЭкипажа
	|		КОНЕЦ, ЛОЖЬ) КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ЯвляетсяШахтерскойДолжностью
	|			ИНАЧЕ Работники.Должность.ЯвляетсяШахтерскойДолжностью
	|		КОНЕЦ, ЛОЖЬ) КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЕСТЬNULL(ВЫБОР
	|			КОГДА Работники.ПериодЗавершения &lt;= СтрокиРегистра.ДатаАктуальности
	|					И Работники.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
	|				ТОГДА Работники.ДолжностьЗавершения.ВзимаютсяВзносыЗаЗанятыхНаРаботахСДосрочнойПенсией
	|			ИНАЧЕ Работники.Должность.ВзимаютсяВзносыЗаЗанятыхНаРаботахСДосрочнойПенсией
	|		КОНЕЦ, ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка)) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТСотрудники
	|ИЗ
	|	ВТСтрокиРегистра КАК СтрокиРегистра
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК Работники
	|		ПО СтрокиРегистра.Сотрудник = Работники.Сотрудник
	|			И СтрокиРегистра.Период = Работники.Период
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяПоДополнительномуТарифу, ЛОЖЬ) КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам, ЛОЖЬ) КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЕСТЬNULL(СотрудникиДопДанные.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией, ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка)) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
	|	БУДоходы.ДатаАктуальности КАК ПериодДействияНачало
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТСотрудники КАК СотрудникиДопДанные
	|		ПО БУДоходы.Сотрудник = СотрудникиДопДанные.Сотрудник
	|			И БУДоходы.ДатаАктуальности = СотрудникиДопДанные.ДатаАктуальности";
	ТаблицаУчета = Запрос.Выполнить().Выгрузить();
	
	ДополнительныйЗапрос = Новый Запрос;
	ДополнительныйЗапрос.Текст = 
	"ВЫБРАТЬ
	|	ОсновныеНачисленияОрганизаций.Ссылка КАК ВидРасчета,
	|	ОсновныеНачисленияОрганизаций.ВидСтажаСЗВ4,
	|	ВЫБОР
	|		КОГДА НЕ ОсновныеНачисленияОрганизаций.ЗачетНормыВремени
	|				И ОсновныеНачисленияОрганизаций.НачисляетсяВЦеломЗаМесяц
	|				И ОсновныеНачисленияОрганизаций.ВидСтажаСЗВ4 &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыСтажаСЗВ4.ВключаетсяВСтажДляДосрочногоНазначенияПенсии)
	|			ТОГДА ИСТИНА
	|		ИНАЧЕ ЛОЖЬ
	|	КОНЕЦ КАК РаспределяетсяВоВсехСлучаях
	|ИЗ
	|	ПланВидовРасчета.ОсновныеНачисленияОрганизаций КАК ОсновныеНачисленияОрганизаций
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДополнительныеНачисленияОрганизаций.Ссылка,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыСтажаСЗВ4.ПустаяСсылка),
	|	ИСТИНА
	|ИЗ
	|	ПланВидовРасчета.ДополнительныеНачисленияОрганизаций КАК ДополнительныеНачисленияОрганизаций";
	Выборка = ДополнительныйЗапрос.Выполнить().Выбрать();
	ОписаниеНачислений = Новый Соответствие;
	Пока Выборка.Следующий() Цикл
		ОписаниеНачислений.Вставить(Выборка.ВидРасчета, Новый Структура("ВидСтажаСЗВ4,РаспределяетсяВоВсехСлучаях",Выборка.ВидСтажаСЗВ4,Выборка.РаспределяетсяВоВсехСлучаях))
	КонецЦикла;
	
	РасчетСтраховыхВзносов.УточнитьДанныеОРаботахСДосрочнойПенсией(
		ТаблицаУчета, 
		РасчетСтраховыхВзносов.ДолиДляРаспределенияВредности(Запрос.МенеджерВременныхТаблиц, ПериодРегистрации), 
		Истина, 
		ПериодРегистрации, 
		ОписаниеНачислений);

 	Запрос.УстановитьПараметр("БУДоходы",ТаблицаУчета);
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	БУДоходы.ОблагаетсяПоДополнительномуТарифу,
	|	БУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	БУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТВременная
	|ИЗ
	|	&amp;БУДоходы КАК БУДоходы
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Временная.Сотрудник,
	|	Временная.ФизЛицо,
	|	Временная.ВидРасчета,
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.СчетДт,
	|	Временная.СубконтоДт1,
	|	Временная.СубконтоДт2,
	|	Временная.СубконтоДт3,
	|	Временная.СчетДтНУ,
	|	Временная.СубконтоДтНУ1,
	|	Временная.СубконтоДтНУ2,
	|	Временная.СубконтоДтНУ3,
	|	Временная.ОтражениеВУСН,
	|	СУММА(Временная.Результат) КАК Результат,
	|	Временная.ПодразделениеДт,
	|	Временная.ПодразделениеКт,
	|	Временная.ПодменятьСчетДтНаРБП,
	|	Временная.ЭтоСчет84,
	|	Временная.ЭтоСчет69,
	|	Временная.ЭтоОтпуск,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТ_БУДоходыПоВР
	|ИЗ
	|	ВТВременная КАК Временная
	|
	|СГРУППИРОВАТЬ ПО
	|	Временная.Сотрудник,
	|	Временная.ФизЛицо,
	|	Временная.ВидРасчета,
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.СчетДт,
	|	Временная.СубконтоДт1,
	|	Временная.СубконтоДт2,
	|	Временная.СубконтоДт3,
	|	Временная.СчетДтНУ,
	|	Временная.СубконтоДтНУ1,
	|	Временная.СубконтоДтНУ2,
	|	Временная.СубконтоДтНУ3,
	|	Временная.ОтражениеВУСН,
	|	Временная.ПодразделениеДт,
	|	Временная.ПодразделениеКт,
	|	Временная.ПодменятьСчетДтНаРБП,
	|	Временная.ЭтоСчет84,
	|	Временная.ЭтоСчет69,
	|	Временная.ЭтоОтпуск,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Временная.ПериодРегистрации,
	|	Временная.ПериодДействия,
	|	Временная.Сотрудник,
	|	Временная.ВидРасчета,
	|	Временная.ОблагаетсяЕНВД,
	|	Временная.ОблагаетсяПоДополнительномуТарифу,
	|	Временная.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	Временная.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|УНИЧТОЖИТЬ ВТСотрудники
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|УНИЧТОЖИТЬ ВТВременная";
	
	Запрос.Выполнить();
	
Иначе
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	БУДоходы.Сотрудник КАК Сотрудник,
	|	БУДоходы.ФизЛицо,
	|	БУДоходы.ВидРасчета КАК ВидРасчета,
	|	БУДоходы.ПериодРегистрации КАК ПериодРегистрации,
	|	БУДоходы.ПериодДействия КАК ПериодДействия,
	|	БУДоходы.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
	|	БУДоходы.СчетДт,
	|	БУДоходы.СубконтоДт1,
	|	БУДоходы.СубконтоДт2,
	|	БУДоходы.СубконтоДт3,
	|	БУДоходы.СчетДтНУ,
	|	БУДоходы.СубконтоДтНУ1,
	|	БУДоходы.СубконтоДтНУ2,
	|	БУДоходы.СубконтоДтНУ3,
	|	БУДоходы.ОтражениеВУСН,
	|	БУДоходы.Результат,
	|	БУДоходы.ПодразделениеДт,
	|	БУДоходы.ПодразделениеКт,
	|	БУДоходы.ПодменятьСчетДтНаРБП,
	|	БУДоходы.ЭтоСчет84,
	|	БУДоходы.ЭтоСчет69,
	|	БУДоходы.ЭтоОтпуск,
	|	ЛОЖЬ КАК ОблагаетсяПоДополнительномуТарифу,
	|	ЛОЖЬ КАК ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПустаяСсылка) КАК ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
	|ПОМЕСТИТЬ ВТ_БУДоходыПоВР
	|ИЗ
	|	ВТ_БУДоходы КАК БУДоходы
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	ПериодРегистрации,
	|	ПериодДействия,
	|	Сотрудник,
	|	ВидРасчета,
	|	ОблагаетсяЕНВД,
	|	ОблагаетсяПоДополнительномуТарифу,
	|	ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
	|	ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";
	Запрос.Выполнить();
	
КонецЕсли;

Запрос.Текст = 
"ВЫБРАТЬ
|	ВзносыДоходыПоВР.Сотрудник,
|	ВзносыДоходыПоВР.ФизЛицо,
|	ВзносыДоходыПоВР.ВидРасчета,
|	ВзносыДоходыПоВР.ОблагаетсяЕНВД,
|	ВзносыДоходыПоВР.ОблагаетсяПоДополнительномуТарифу,
|	ВзносыДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	ВзносыДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией,
|	ВзносыДоходыПоВР.ПериодРегистрации,
|	ВзносыДоходыПоВР.ПериодДействия,
|	ВзносыДоходыПоВР.Результат,
|	БУДоходыПоВР.СчетДт,
|	БУДоходыПоВР.СубконтоДт1,
|	БУДоходыПоВР.СубконтоДт2,
|	БУДоходыПоВР.СубконтоДт3,
|	БУДоходыПоВР.СчетДтНУ,
|	БУДоходыПоВР.СубконтоДтНУ1,
|	БУДоходыПоВР.СубконтоДтНУ2,
|	БУДоходыПоВР.СубконтоДтНУ3,
|	БУДоходыПоВР.ОтражениеВУСН,
|	БУДоходыПоВР.Результат КАК РезультатБУ,
|	БУДоходыПоВР.ПодразделениеДт,
|	БУДоходыПоВР.ПодразделениеКт,
|	БУДоходыПоВР.ПодменятьСчетДтНаРБП,
|	ВзносыДоходыПоВР.ВходитВБазуПФР,
|	ВзносыДоходыПоВР.ВходитВБазуФСС,
|	ВзносыДоходыПоВР.ВходитВБазуФОМС,
|	БУДоходыПоВР.ЭтоСчет84,
|	БУДоходыПоВР.ЭтоСчет69,
|	БУДоходыПоВР.ЭтоОтпуск
|ПОМЕСТИТЬ ВТ_ВзносыДоходыБУДоходы
|ИЗ
|	ВТ_ВзносыДоходыПоВР КАК ВзносыДоходыПоВР
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_БУДоходыПоВР КАК БУДоходыПоВР
|		ПО ВзносыДоходыПоВР.Сотрудник = БУДоходыПоВР.Сотрудник
|			И ВзносыДоходыПоВР.ВидРасчета = БУДоходыПоВР.ВидРасчета
|			И ВзносыДоходыПоВР.ПериодРегистрации = БУДоходыПоВР.ПериодРегистрации
|			И ВзносыДоходыПоВР.ПериодДействия = БУДоходыПоВР.ПериодДействия
|			И ВзносыДоходыПоВР.ОблагаетсяЕНВД = БУДоходыПоВР.ОблагаетсяЕНВД
|			И ВзносыДоходыПоВР.ОблагаетсяПоДополнительномуТарифу = БУДоходыПоВР.ОблагаетсяПоДополнительномуТарифу
|			И ВзносыДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = БУДоходыПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И ВзносыДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = БУДоходыПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	БУДоходыСводПоВР.Сотрудник КАК Сотрудник,
|	БУДоходыСводПоВР.ФизЛицо,
|	БУДоходыСводПоВР.ВидРасчета КАК ВидРасчета,
|	БУДоходыСводПоВР.ПериодРегистрации КАК ПериодРегистрации,
|	БУДоходыСводПоВР.ПериодДействия КАК ПериодДействия,
|	СУММА(БУДоходыСводПоВР.Результат) КАК Результат,
|	БУДоходыСводПоВР.ОблагаетсяЕНВД КАК ОблагаетсяЕНВД,
|	БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|ПОМЕСТИТЬ ВТ_БУДоходыСводПоВР
|ИЗ
|	ВТ_БУДоходыПоВР КАК БУДоходыСводПоВР
|
|СГРУППИРОВАТЬ ПО
|	БУДоходыСводПоВР.Сотрудник,
|	БУДоходыСводПоВР.ФизЛицо,
|	БУДоходыСводПоВР.ВидРасчета,
|	БУДоходыСводПоВР.ОблагаетсяЕНВД,
|	БУДоходыСводПоВР.ПериодРегистрации,
|	БУДоходыСводПоВР.ПериодДействия,
|	БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам,
|	БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией
|
|ИНДЕКСИРОВАТЬ ПО
|	ПериодРегистрации,
|	ПериодДействия,
|	Сотрудник,
|	ВидРасчета,
|	ОблагаетсяЕНВД
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	БУДоходыСводПоВР.ФизЛицо,
|	ВзносыДоходыБУДоходы.СчетДт,
|	ВзносыДоходыБУДоходы.СубконтоДт1,
|	ВзносыДоходыБУДоходы.СубконтоДт2,
|	ВзносыДоходыБУДоходы.СубконтоДт3,
|	ВзносыДоходыБУДоходы.СчетДтНУ,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ1,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ2,
|	ВзносыДоходыБУДоходы.СубконтоДтНУ3,
|	ВзносыДоходыБУДоходы.ОтражениеВУСН,
|	ВзносыДоходыБУДоходы.ПодразделениеДт,
|	ВзносыДоходыБУДоходы.ПодразделениеКт,
|	ВзносыДоходыБУДоходы.ПодменятьСчетДтНаРБП,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаПФР,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаПФР_ЕНВД,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС_ЕНВД,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяЕНВД
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФОМС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФОМС,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяЕНВД)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФОМС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФОМС_ЕНВД,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяПоДополнительномуТарифу)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаДопТариф,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам)
|				ИЛИ (НЕ ВзносыДоходыБУДоходы.ВходитВБазуПФР)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаДопТарифШахтеры,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ПодземныеИВредныеРаботы)
|				И ВзносыДоходыБУДоходы.ВходитВБазуПФР
|				И БУДоходыСводПоВР.Результат &lt;&gt; 0
|			ТОГДА ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|		ИНАЧЕ 0
|	КОНЕЦ КАК БазаДопТарифПодземныеИВредныеРаботы,
|	ВЫБОР
|		КОГДА ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = ЗНАЧЕНИЕ(Перечисление.ВидыРаботСДосрочнойПенсией.ТяжелыеИПрочиеРаботы)
|				И ВзносыДоходыБУДоходы.ВходитВБазуПФР
|				И БУДоходыСводПоВР.Результат &lt;&gt; 0
|			ТОГДА ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|		ИНАЧЕ 0
|	КОНЕЦ КАК БазаДопТарифТяжелыеИПрочиеРаботы,
|	ВЫБОР
|		КОГДА (НЕ ВзносыДоходыБУДоходы.ВходитВБазуФСС)
|				ИЛИ БУДоходыСводПоВР.Результат = 0
|			ТОГДА 0
|		ИНАЧЕ ВзносыДоходыБУДоходы.Результат * ВзносыДоходыБУДоходы.РезультатБУ / БУДоходыСводПоВР.Результат
|	КОНЕЦ КАК БазаФСС_НС,
|	ВзносыДоходыБУДоходы.ПериодРегистрации,
|	ВзносыДоходыБУДоходы.ПериодДействия,
|	ВзносыДоходыБУДоходы.ОблагаетсяЕНВД,
|	ВзносыДоходыБУДоходы.ЭтоСчет84,
|	ВзносыДоходыБУДоходы.ЭтоСчет69,
|	ВзносыДоходыБУДоходы.ЭтоОтпуск
|ПОМЕСТИТЬ ВТ_Коэффициенты
|ИЗ
|	ВТ_ВзносыДоходыБУДоходы КАК ВзносыДоходыБУДоходы
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_БУДоходыСводПоВР КАК БУДоходыСводПоВР
|		ПО ВзносыДоходыБУДоходы.Сотрудник = БУДоходыСводПоВР.Сотрудник
|			И ВзносыДоходыБУДоходы.ПериодРегистрации = БУДоходыСводПоВР.ПериодРегистрации
|			И ВзносыДоходыБУДоходы.ПериодДействия = БУДоходыСводПоВР.ПериодДействия
|			И ВзносыДоходыБУДоходы.ОблагаетсяЕНВД = БУДоходыСводПоВР.ОблагаетсяЕНВД
|			И ВзносыДоходыБУДоходы.ВидРасчета = БУДоходыСводПоВР.ВидРасчета
|			И ВзносыДоходыБУДоходы.ОблагаетсяПоДополнительномуТарифу = БУДоходыСводПоВР.ОблагаетсяПоДополнительномуТарифу
|			И ВзносыДоходыБУДоходы.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам = БУДоходыСводПоВР.ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам
|			И ВзносыДоходыБУДоходы.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией = БУДоходыСводПоВР.ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией";

Запрос.Выполнить();

Если СворачиватьПериодДействия Тогда
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	СУММА(Коэффициенты.БазаПФР) КАК БазаПФР,
	|	СУММА(Коэффициенты.БазаПФР_ЕНВД) КАК БазаПФР_ЕНВД,
	|	СУММА(Коэффициенты.БазаФСС) КАК БазаФСС,
	|	СУММА(Коэффициенты.БазаФСС_ЕНВД) КАК БазаФСС_ЕНВД,
	|	СУММА(Коэффициенты.БазаФОМС) КАК БазаФОМС,
	|	СУММА(Коэффициенты.БазаФОМС_ЕНВД) КАК БазаФОМС_ЕНВД,
	|	СУММА(Коэффициенты.БазаДопТариф) КАК БазаДопТариф,
	|	СУММА(Коэффициенты.БазаДопТарифШахтеры) КАК БазаДопТарифШахтеры,
	|	СУММА(Коэффициенты.БазаДопТарифПодземныеИВредныеРаботы) КАК БазаДопТарифПодземныеИВредныеРаботы,
	|	СУММА(Коэффициенты.БазаДопТарифТяжелыеИПрочиеРаботы) КАК БазаДопТарифТяжелыеИПрочиеРаботы,
	|	СУММА(Коэффициенты.БазаФСС_НС) КАК БазаФСС_НС,
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69
	|ИЗ
	|	ВТ_Коэффициенты КАК Коэффициенты
	|
	|СГРУППИРОВАТЬ ПО
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69";
	
Иначе // для списания РБП в расходы нужен период действия
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	СУММА(Коэффициенты.БазаПФР) КАК БазаПФР,
	|	СУММА(Коэффициенты.БазаПФР_ЕНВД) КАК БазаПФР_ЕНВД,
	|	СУММА(Коэффициенты.БазаФСС) КАК БазаФСС,
	|	СУММА(Коэффициенты.БазаФСС_ЕНВД) КАК БазаФСС_ЕНВД,
	|	СУММА(Коэффициенты.БазаФОМС) КАК БазаФОМС,
	|	СУММА(Коэффициенты.БазаФОМС_ЕНВД) КАК БазаФОМС_ЕНВД,
	|	СУММА(Коэффициенты.БазаДопТариф) КАК БазаДопТариф,
	|	СУММА(Коэффициенты.БазаДопТарифШахтеры) КАК БазаДопТарифШахтеры,
	|	СУММА(Коэффициенты.БазаДопТарифПодземныеИВредныеРаботы) КАК БазаДопТарифПодземныеИВредныеРаботы,
	|	СУММА(Коэффициенты.БазаДопТарифТяжелыеИПрочиеРаботы) КАК БазаДопТарифТяжелыеИПрочиеРаботы,
	|	СУММА(Коэффициенты.БазаФСС_НС) КАК БазаФСС_НС,
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПериодДействия,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69
	|ИЗ
	|	ВТ_Коэффициенты КАК Коэффициенты
	|ГДЕ
	|	(НЕ Коэффициенты.СчетДт В (&amp;парамСчетаИсключенияРБП))
	|
	|СГРУППИРОВАТЬ ПО
	|	Коэффициенты.ПериодРегистрации,
	|	Коэффициенты.ПериодДействия,
	|	Коэффициенты.ПодменятьСчетДтНаРБП,
	|	Коэффициенты.ОблагаетсяЕНВД,
	|	Коэффициенты.ПодразделениеКт,
	|	Коэффициенты.ПодразделениеДт,
	|	Коэффициенты.ОтражениеВУСН,
	|	Коэффициенты.СубконтоДтНУ3,
	|	Коэффициенты.СубконтоДтНУ2,
	|	Коэффициенты.СубконтоДтНУ1,
	|	Коэффициенты.СчетДтНУ,
	|	Коэффициенты.СубконтоДт3,
	|	Коэффициенты.СубконтоДт2,
	|	Коэффициенты.ФизЛицо,
	|	Коэффициенты.СубконтоДт1,
	|	Коэффициенты.СчетДт,
	|	Коэффициенты.ЭтоОтпуск,
	|	Коэффициенты.ЭтоСчет84,
	|	Коэффициенты.ЭтоСчет69";
	
КонецЕсли;	

Параметры.ПараметрыАлгоритмов.ВзносыФизлиц = Запрос.Выполнить().Выгрузить();</Текст>
			<Параметры>МассивПериодовРегистрации, ГоловнаяОрганизация, ДокументОтражение</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьТаблицуСкидокКДоходам" ИспользуетсяПриЗагрузке="false">
			<Текст>ТаблицаСкидок = Новый ТаблицаЗначений;
ТаблицаСкидок.Колонки.Добавить("Сотрудник", Новый ОписаниеТипов("СправочникСсылка.СотрудникиОрганизаций"));
ТаблицаСкидок.Колонки.Добавить("ВидРасчета", Новый ОписаниеТипов("ПланВидовРасчетаСсылка.ДополнительныеНачисленияОрганизаций"));
ТаблицаСкидок.Колонки.Добавить("КодДоходаЕСН", Новый ОписаниеТипов("СправочникСсылка.ДоходыПоСтраховымВзносам"));
ТаблицаСкидок.Колонки.Добавить("ОблагаетсяЕНВД", Новый ОписаниеТипов("Булево")); 
ТаблицаСкидок.Колонки.Добавить("ОблагаетсяПоДополнительномуТарифу", Новый ОписаниеТипов("Булево"));
ТаблицаСкидок.Колонки.Добавить("ОблагаетсяВзносамиНаДоплатуКПенсииШахтерам", Новый ОписаниеТипов("Булево"));
ТаблицаСкидок.Колонки.Добавить("ОблагаетсяВзносамиЗаЗанятыхНаРаботахСДосрочнойПенсией", Новый ОписаниеТипов("ПеречислениеСсылка.ВидыРаботСДосрочнойПенсией"));
ТаблицаСкидок.Колонки.Добавить("ПериодРегистрации", Новый ОписаниеТипов("Дата"));
ТаблицаСкидок.Колонки.Добавить("Скидка", Новый ОписаниеТипов("Число")); 

Если РезультатЗапроса.Пустой() Тогда
	Параметры.ПараметрыАлгоритмов.ТаблицаСкидок = ТаблицаСкидок;
КонецЕсли;

ТаблицаРаспределения = ТаблицаСкидок.СкопироватьКолонки();
ТаблицаРаспределения.Колонки.Добавить("Результат", Новый ОписаниеТипов("Число"));

Выборка = РезультатЗапроса.Выбрать();
Пока Выборка.СледующийПоЗначениюПоля("Регистратор") Цикл
	
	Пока Выборка.СледующийПоЗначениюПоля("НомерСтроки") Цикл
		
		СкидкаКРаспределению = Выборка.Скидка;
		
		ТаблицаРаспределения.Очистить();
		Пока Выборка.Следующий() Цикл
			ЗаполнитьЗначенияСвойств(ТаблицаРаспределения.Добавить(),Выборка);
		КонецЦикла;
		
		МассивКоэффициентов = ТаблицаРаспределения.ВыгрузитьКолонку("Результат");
		МассивСуммКНачислению = ОбщегоНазначенияЗК.РаспределитьПропорционально(СкидкаКРаспределению,МассивКоэффициентов);
		
		Если МассивСуммКНачислению &lt;&gt; Неопределено Тогда
			
			Для каждого СтрокаТЗ Из ТаблицаРаспределения Цикл
				
				НоваяСтрока = ТаблицаСкидок.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрока,СтрокаТЗ);
				НоваяСтрока.Скидка = МассивСуммКНачислению[ТаблицаРаспределения.Индекс(СтрокаТЗ)];
				
			КонецЦикла;
			
		КонецЕсли;
		
	КонецЦикла;
	
КонецЦикла;

Параметры.ПараметрыАлгоритмов.ТаблицаСкидок = ТаблицаСкидок;</Текст>
			<Параметры>РезультатЗапроса</Параметры>
		</Алгоритм>
		<Алгоритм Имя="СкорректироватьКонтактнуюИнформацию" ИспользуетсяПриЗагрузке="true">
			<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СтараяКонтактнаяИнформация = Неопределено;
Объект.ДополнительныеСвойства.Свойство("СтараяКонтактнаяИнформация", СтараяКонтактнаяИнформация);


Если ЗначениеЗаполнено(ПараметрыОбъекта) Тогда

	Для Каждого СтрокаКИ Из Объект.КонтактнаяИнформация Цикл
		
		Если СтрокаКИ.Тип &lt;&gt; Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
			Продолжить;
		КонецЕсли;
		
		РезРеквизиты = Новый Структура;
		РезРеквизиты.Вставить("Страна", Неопределено);
		РезРеквизиты.Вставить("КодСтраны", Неопределено);
		РезРеквизиты.Вставить("Индекс", Неопределено);
		РезРеквизиты.Вставить("ТипДома", Неопределено);
		РезРеквизиты.Вставить("ТипКорпуса", Неопределено);
		РезРеквизиты.Вставить("ТипКвартиры", Неопределено);
		
		СписокВосстанавливаемыхЗначений = Новый Массив;
		Страна = Справочники.СтраныМира.Россия;
		ПараметрыНовойКИ = ПараметрыОбъекта["КонтактнаяИнформацияТабличнаяЧасть"][СтрокаКИ.НомерСтроки - 1];
		
		// Получим соответствующую строку из старой версии объекта
		СтрокаКИСтарая = Неопределено;
		Если ТипЗнч(СтараяКонтактнаяИнформация) = Тип("ТаблицаЗначений") Тогда
			СтрокаКИСтарая = СтараяКонтактнаяИнформация.Найти(СтрокаКИ.Вид, "Вид");
		КонецЕсли;
		
		// Для новой КИ и для формализованной КИ берем индекс из новых данных
		Если СтрокаКИСтарая = Неопределено ИЛИ НЕ ПараметрыНовойКИ.ЭтоПроизвольнаяСтрока Тогда
			РезРеквизиты.Вставить("Индекс", ПараметрыНовойКИ.Индекс);
		Иначе
			СписокВосстанавливаемыхЗначений.Добавить("Индекс");
		КонецЕсли;
		
		// Информацию о стране можно взять из неформализованного адреса
		Если ПараметрыНовойКИ.ЭтоПроизвольнаяСтрока Тогда
			РезРеквизиты.Вставить("Страна", СтрокаКИ.Страна);
			РезРеквизиты.Вставить("КодСтраны", ПараметрыНовойКИ.КодСтраны);
		Иначе
			СписокВосстанавливаемыхЗначений.Добавить("Страна");
			СписокВосстанавливаемыхЗначений.Добавить("КодСтраны");
		КонецЕсли;
		
		// Выполняем проверку адреса, который не поддерживается в БП 
		// и который был выгружены туда ранее как произвольный адрес
		// Если данные были изменены в БП, то перезаписываем адрес по данным БП
		СтароеПредставление = ?(СтрокаКИСтарая = Неопределено, "", СтрокаКИСтарая.Представление);
		Если ПараметрыНовойКИ.ЭтоПроизвольнаяСтрока И СтрокаКИ.Представление = СтароеПредставление Тогда
			СписокВосстанавливаемыхЗначений.Добавить("ТипДома");
			СписокВосстанавливаемыхЗначений.Добавить("ТипКорпуса");
			СписокВосстанавливаемыхЗначений.Добавить("ТипКвартиры");
		Иначе
			РезРеквизиты.Вставить("ТипДома", ПараметрыНовойКИ.ТипДома);
			РезРеквизиты.Вставить("ТипКорпуса", ПараметрыНовойКИ.ТипКорпуса);
			РезРеквизиты.Вставить("ТипКвартиры", ПараметрыНовойКИ.ТипКвартиры);
		КонецЕсли;

		СтарыйФорматХранения = Истина;
		
		Если СписокВосстанавливаемыхЗначений.Количество() &gt; 0 И СтрокаКИСтарая &lt;&gt; Неопределено Тогда
			
			// Делаем парсинг строки значений полей старой строки
			СтрокаПолей = СтрокаКИСтарая.ЗначенияПолей;
			Если УправлениеКонтактнойИнформациейКлиентСервер.ЭтоКонтактнаяИнформацияВXML(СтрокаПолей) Тогда
				СтарыйФорматХранения = Ложь;
				СтрокаПолей = УправлениеКонтактнойИнформацией.ПредыдущийФорматКонтактнойИнформацииXML(СтрокаПолей, Истина);
			КонецЕсли;
			
			// Алгоритм парсинга
			Результат = Новый СписокЗначений;
			ПоследнийЭлемент = Неопределено;
			
			Для Сч = 1 По СтрЧислоСтрок(СтрокаПолей) Цикл
				Стр = СтрПолучитьСтроку(СтрокаПолей, Сч);
				Если Лев(Стр, 1) = Символы.Таб Тогда
					Если ПоследнийЭлемент &lt;&gt; Неопределено Тогда
						ПоследнийЭлемент.Значение = ПоследнийЭлемент.Значение + Символы.ПС + Сред(Стр, 2);
					КонецЕсли;
				Иначе
					Поз = Найти(Стр, "=");
					Если Поз &lt;&gt; 0 Тогда
						ПоследнийЭлемент = Результат.Добавить(Сред(Стр, Поз+1), Лев(Стр, Поз-1));
					КонецЕсли;
				КонецЕсли;
			КонецЦикла;
			
			// Преобразуем в соответствие
			ПараметрыСтаройКИ = Новый Соответствие;
			Для Каждого Элемент Из Результат Цикл
				ПараметрыСтаройКИ.Вставить(Элемент.Представление, Элемент.Значение);
			КонецЦикла;
			
			Для Каждого Элемент Из СписокВосстанавливаемыхЗначений Цикл
				
				Если Элемент = "ТипДома" ИЛИ Элемент = "ТипКорпуса" ИЛИ Элемент = "ТипКвартиры" ИЛИ Элемент = "Индекс" ИЛИ Элемент = "КодСтраны" Тогда
					РезРеквизиты.Вставить(Элемент, ПараметрыСтаройКИ.Получить(Элемент));
				Иначе
					РезРеквизиты.Вставить(Элемент, СтрокаКИСтарая[Элемент]);
				КонецЕсли;
				
			КонецЦикла;
			
		КонецЕсли;
			
		// Определяем страну по имеющейся информации
		НайдСтрана = Неопределено;
		Если ЗначениеЗаполнено(РезРеквизиты.КодСтраны)  Тогда
			НайдСтрана = Справочники.СтраныМира.НайтиПоКоду(РезРеквизиты.КодСтраны);
		ИначеЕсли ЗначениеЗаполнено(РезРеквизиты.Страна) Тогда
			НайдСтрана = Справочники.СтраныМира.НайтиПоНаименованию(РезРеквизиты.Страна, Истина);
		КонецЕсли;
		
		Если ЗначениеЗаполнено(НайдСтрана) Тогда
			Страна = НайдСтрана;
			Если НЕ ЗначениеЗаполнено(РезРеквизиты.Страна) Тогда
				РезРеквизиты.Вставить("Страна", Строка(Страна));
			КонецЕсли;
			Если НЕ ЗначениеЗаполнено(РезРеквизиты.КодСтраны) Тогда
				РезРеквизиты.Вставить("КодСтраны", ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Страна, "Код"));
			КонецЕсли;
		КонецЕсли;
		
		ЗначенияПолей = Новый Структура;
		ЗначенияПолей.Вставить("Регион", СтрокаКИ.Регион);
		ЗначенияПолей.Вставить("Район", ПараметрыНовойКИ.Район);
		ЗначенияПолей.Вставить("Город", СтрокаКИ.Город);
		ЗначенияПолей.Вставить("НаселенныйПункт", ПараметрыНовойКИ.НаселенныйПункт);
		ЗначенияПолей.Вставить("Улица", ПараметрыНовойКИ.Улица);
		ЗначенияПолей.Вставить("Дом", ПараметрыНовойКИ.Дом);
		ЗначенияПолей.Вставить("Корпус", ПараметрыНовойКИ.Корпус);
		ЗначенияПолей.Вставить("Квартира", ПараметрыНовойКИ.Квартира);
		ЗначенияПолей.Вставить("КодСтраны", РезРеквизиты.КодСтраны);
		ЗначенияПолей.Вставить("Индекс", РезРеквизиты.Индекс);
		ЗначенияПолей.Вставить("ТипДома", РезРеквизиты.ТипДома);
		ЗначенияПолей.Вставить("ТипКорпуса", РезРеквизиты.ТипКорпуса);
		ЗначенияПолей.Вставить("ТипКвартиры", РезРеквизиты.ТипКвартиры);
		
		
		СтрокаКИ.ЗначенияПолей = "";
		Для Каждого Элемент Из ЗначенияПолей Цикл
			СтрокаКИ.ЗначенияПолей = СтрокаКИ.ЗначенияПолей + ?(ЗначениеЗаполнено(Элемент.Значение), Элемент.Ключ + "=" + Элемент.Значение + Символы.ПС, "");
		КонецЦикла;
		СтрокаКИ.ЗначенияПолей = Лев(СтрокаКИ.ЗначенияПолей, СтрДлина(СтрокаКИ.ЗначенияПолей) - 1);
		
		СтрокаКИ.Страна = РезРеквизиты.Страна;
		
		// Формируем представление для формализованного адреса
		Если НЕ ПараметрыНовойКИ.ЭтоПроизвольнаяСтрока Тогда
			
			Представление = "";
			Если Страна &lt;&gt; Справочники.СтраныМира.Россия Тогда
				Представление = Представление + ?(ЗначениеЗаполнено(Строка(Страна)), ", " + Строка(Страна), "");
			КонецЕсли;
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Индекс)), ", " + СокрЛП(ЗначенияПолей.Индекс), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Регион)), ", " + СокрЛП(ЗначенияПолей.Регион), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Район)), ", " + СокрЛП(ЗначенияПолей.Район), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Город)), ", " + СокрЛП(ЗначенияПолей.Город), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.НаселенныйПункт)), ", " + СокрЛП(ЗначенияПолей.НаселенныйПункт), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Улица)), ", " + СокрЛП(ЗначенияПолей.Улица), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Дом)), ", " + ЗначенияПолей.ТипДома + " № " + СокрЛП(ЗначенияПолей.Дом), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Корпус)), ", " + ЗначенияПолей.ТипКорпуса + " " + СокрЛП(ЗначенияПолей.Корпус), "");
			Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(ЗначенияПолей.Квартира)), ", " + ЗначенияПолей.ТипКвартиры + " " + СокрЛП(ЗначенияПолей.Квартира), "");
			
			Если СтрДлина(Представление) &gt; 2 Тогда
				Представление = Сред(Представление, 3);
			КонецЕсли;
			
			СтрокаКИ.Представление = Представление;
			
		КонецЕсли;
		
		Если Не СтарыйФорматХранения Тогда
			
			XDTOОбъект = УправлениеКонтактнойИнформациейСлужебный.АдресXMLВXDTO(СтрокаКИ.ЗначенияПолей, СтрокаКИ.Представление, СтрокаКИ.Тип);
			СтрокаКИ.ЗначенияПолей = УправлениеКонтактнойИнформациейСлужебный.КонтактнаяИнформацияXDTOВXML(XDTOОбъект);
			
		КонецЕсли;
		
	КонецЦикла;
	
КонецЕсли;
// Преобразование значения КИ в новый формат
Для Каждого СтрокаКИ Из Объект.КонтактнаяИнформация Цикл
	Если Лев(СокрЛ(СтрокаКИ.ЗначенияПолей),1) = "&lt;" Тогда
	    // КИ в правильном формате.
		Продолжить;
	КонецЕсли;
	ЗначенияПолей = "";
    // Попытка №1.
	Если ЗначениеЗаполнено(СокрЛП(СтрокаКИ.ЗначенияПолей)) Тогда 
		Попытка
    		ЗначенияПолей = УправлениеКонтактнойИнформацией.КонтактнаяИнформацияВXML(СокрЛП(СтрокаКИ.ЗначенияПолей), СокрЛП(СтрокаКИ.Представление), СтрокаКИ.Вид);
		Исключение
		КонецПопытки;
    КонецЕсли;
    Если Лев(СокрЛ(ЗначенияПолей),1) &lt;&gt; "&lt;" Тогда
    	// Попытка №2.
		Попытка
        	ЗначенияПолей = УправлениеКонтактнойИнформацией.КонтактнаяИнформацияXMLПоПредставлению(СокрЛП(СтрокаКИ.Представление), СтрокаКИ.Вид);
		Исключение
		КонецПопытки;
	КонецЕсли;
	Если Лев(СокрЛ(ЗначенияПолей),1) = "&lt;" Тогда
    	СтрокаКИ.ЗначенияПолей = ЗначенияПолей;
	КонецЕсли;
КонецЦикла;</Текст>
			<Параметры>Объект, ПараметрыОбъекта</Параметры>
		</Алгоритм>
		<Алгоритм Имя="СтатьяДоходовПоУмолчанию" ИспользуетсяПриЗагрузке="true">
			<Текст>СтатьяАналитикаДоходов = Документы.ОтражениеЗарплатыВФинансовомУчете.СтатьяДоходовПоУмолчанию(ФизическоеЛицо, ПодразделениеПредприятия, ТекущийДокумент, ДатаАктуальности);</Текст>
			<Параметры>ФизическоеЛицо, ПодразделениеПредприятия, ТекущийДокумент, ДатаАктуальности</Параметры>
		</Алгоритм>
		<Алгоритм Имя="СтраховыеВзносыИсчисленные" ИспользуетсяПриЗагрузке="false">
			<Текст>Запрос = Новый Запрос;
Запрос.Текст = Запросы.СтраховыеВзносыИсчисленные.Текст;

Запрос.УстановитьПараметр("ПериодРегистрации",      НачалоМесяца(ДокументОтражение.ПериодРегистрации));
Запрос.УстановитьПараметр("КонецПериодРегистрации", КонецМесяца(ДокументОтражение.ПериодРегистрации));
Запрос.УстановитьПараметр("Организация",            ДокументОтражение.Организация);

РезультатЗапроса = Запрос.ВыполнитьПакет();
Параметры.ПараметрыАлгоритмов.ВзносыФизлиц = РезультатЗапроса[0].Выгрузить();
Параметры.ПараметрыАлгоритмов.НачисленияФизлицДляВзносов = РезультатЗапроса[1].Выгрузить();</Текст>
			<Параметры>ДокументОтражение</Параметры>
		</Алгоритм>
		<Алгоритм Имя="УстановитьЗначениеРеквизитаУпорядочивания" ИспользуетсяПриЗагрузке="true">
			<Текст>// Вычислим новое значение для порядка элемента
Информация = НастройкаПорядкаЭлементовСлужебный.ПолучитьИнформациюДляПеремещения(Объект.Ссылка.Метаданные());
Если Объект.РеквизитДопУпорядочивания = 0 Тогда
	Объект.РеквизитДопУпорядочивания =
		НастройкаПорядкаЭлементовСлужебный.ПолучитьНовоеЗначениеРеквизитаДопУпорядочивания(
				Информация,
				?(Информация.ЕстьРодитель, Объект.Родитель, Неопределено),
				?(Информация.ЕстьВладелец, Объект.Владелец, Неопределено));
КонецЕсли;</Текст>
			<Параметры>Объект</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ЭлементПоУмолчаниюДляОбмена_ГруппаДоступаПартнера" ИспользуетсяПриЗагрузке="true">
			<Текст>Если Параметры.ГруппаДоступаПартнеровПоУмолчанию = Неопределено Тогда
	
	НеобходимоСоздатьЭлемент = Ложь;
	
	НаименованиеЭлементаДляОбменаПоУмолчанию = "Группа доступа по умолчанию";
	
	Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 2
		|	ГруппыДоступаПартнеров.Ссылка КАК ГруппаДоступаПартнера,
		|	ВЫБОР
		|		КОГДА ГруппыДоступаПартнеров.Наименование = &amp;НаименованиеЭлементаДляОбменаПоУмолчанию
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ЭтоЭлементПоУмолчаниюДляОбмена
		|ИЗ
		|	Справочник.ГруппыДоступаПартнеров КАК ГруппыДоступаПартнеров
		|ГДЕ
		|	НЕ ГруппыДоступаПартнеров.ПометкаУдаления
		|
		|УПОРЯДОЧИТЬ ПО
		|	ЭтоЭлементПоУмолчаниюДляОбмена УБЫВ");
	
	Запрос.УстановитьПараметр("НаименованиеЭлементаДляОбменаПоУмолчанию", НаименованиеЭлементаДляОбменаПоУмолчанию);
	РезультатЗапроса = Запрос.Выполнить();
	
	Выборка = РезультатЗапроса.Выбрать();
	Если Выборка.Следующий() Тогда
		Если Выборка.Количество() = 1 Или Выборка.ЭтоЭлементПоУмолчаниюДляОбмена Тогда
			ГруппаДоступа = Выборка.ГруппаДоступаПартнера;
		Иначе
			НеобходимоСоздатьЭлемент = Истина;
		КонецЕсли;
	Иначе
		НеобходимоСоздатьЭлемент = Истина;
	КонецЕсли;
	
	// Создание элемента для обмена с заданными параметрами
	Если НеобходимоСоздатьЭлемент Тогда
		
		ГруппаДоступаОбъект = Справочники.ГруппыДоступаПартнеров.СоздатьЭлемент();
		ГруппаДоступаОбъект.Наименование = НаименованиеЭлементаДляОбменаПоУмолчанию;
		
		Попытка
			ГруппаДоступаОбъект.Записать();
			ГруппаДоступа = ГруппаДоступаОбъект.Ссылка;
		Исключение
			ГруппаДоступа = Справочники.ГруппыДоступаПартнеров.ПустаяСсылка();
		КонецПопытки
	КонецЕсли;
	
	Параметры.ГруппаДоступаПартнеровПоУмолчанию = ГруппаДоступа;
	
Иначе
	ГруппаДоступа = Параметры.ГруппаДоступаПартнеровПоУмолчанию;
КонецЕсли;</Текст>
			<Параметры>ГруппаДоступа</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ЭлементПоУмолчаниюДляОбмена_ГруппаДоступаФизЛиц" ИспользуетсяПриЗагрузке="true">
			<Текст>Если Параметры.ГруппаДоступаФизЛицПоУмолчанию = Неопределено Тогда
	
	НеобходимоСоздатьЭлемент = Ложь;
	
	НаименованиеЭлементаДляОбменаПоУмолчанию = "Группа доступа по умолчанию";
	
	Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 2
		|	ГруппыДоступаФизическихЛиц.Ссылка КАК ГруппыДоступаФизическихЛиц,
		|	ВЫБОР
		|		КОГДА ГруппыДоступаФизическихЛиц.Наименование = &amp;НаименованиеЭлементаДляОбменаПоУмолчанию
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ЭтоЭлементПоУмолчаниюДляОбмена
		|ИЗ
		|	Справочник.ГруппыДоступаФизическихЛиц КАК ГруппыДоступаФизическихЛиц
		|ГДЕ
		|	НЕ ГруппыДоступаФизическихЛиц.ПометкаУдаления
		|
		|УПОРЯДОЧИТЬ ПО
		|	ЭтоЭлементПоУмолчаниюДляОбмена УБЫВ");
	
	Запрос.УстановитьПараметр("НаименованиеЭлементаДляОбменаПоУмолчанию", НаименованиеЭлементаДляОбменаПоУмолчанию);
	РезультатЗапроса = Запрос.Выполнить();
	
	Выборка = РезультатЗапроса.Выбрать();
	Если Выборка.Следующий() Тогда
		Если Выборка.Количество() = 1 Или Выборка.ЭтоЭлементПоУмолчаниюДляОбмена Тогда
			ГруппаДоступа = Выборка.ГруппыДоступаФизическихЛиц;
		Иначе
			НеобходимоСоздатьЭлемент = Истина;
		КонецЕсли;
	Иначе
		НеобходимоСоздатьЭлемент = Истина;
	КонецЕсли;
	
	// Создание элемента для обмена с заданными параметрами
	Если НеобходимоСоздатьЭлемент Тогда
		
		ГруппаДоступаОбъект = Справочники.ГруппыДоступаФизическихЛиц.СоздатьЭлемент();
		ГруппаДоступаОбъект.Наименование = НаименованиеЭлементаДляОбменаПоУмолчанию;
		
		Попытка
			ГруппаДоступаОбъект.Записать();
			ГруппаДоступа = ГруппаДоступаОбъект.Ссылка;
		Исключение
			ГруппаДоступа = Справочники.ГруппыДоступаФизическихЛиц.ПустаяСсылка();
		КонецПопытки
	КонецЕсли;
	
	Параметры.ГруппаДоступаФизЛицПоУмолчанию = ГруппаДоступа;
	
Иначе
	ГруппаДоступа = Параметры.ГруппаДоступаФизЛицПоУмолчанию;
КонецЕсли;</Текст>
			<Параметры>ГруппаДоступа</Параметры>
		</Алгоритм>
	</Алгоритмы>
	<Запросы>
		<Запрос Имя="НачислениеОценочныхОбязательств" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ВЫБОР
		КОГДА Док.ПодразделениеДт &lt;&gt; ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА Док.ПодразделениеДт
		КОГДА Док.СубконтоДт1 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт1
		КОГДА Док.СубконтоДт2 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт2
		КОГДА Док.СубконтоДт3 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт3
		ИНАЧЕ NULL
	КОНЕЦ КАК Подразделение,
	ВЫБОР
		КОГДА Док.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт1
		КОГДА Док.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт2
		КОГДА Док.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт3
		ИНАЧЕ NULL
	КОНЕЦ КАК СтатьяРасходов,
	РегСоответствие.Подразделение КАК ПодразделениеПредприятия,
	СУММА(Док.Сумма) КАК СуммаРезерва,
	СУММА(Док.Сумма) КАК СуммаРезерваНУ
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ОтражениеВУчете КАК Док
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК РегСоответствие
		ПО (РегСоответствие.Организация = Док.Ссылка.Организация)
			И (РегСоответствие.Подразделение.ПометкаУдаления = ЛОЖЬ)
			И (РегСоответствие.ПодразделениеОрганизации = Док.ПодразделениеДт
				ИЛИ РегСоответствие.ПодразделениеОрганизации = Док.СубконтоДт1
				ИЛИ РегСоответствие.ПодразделениеОрганизации = Док.СубконтоДт2
				ИЛИ РегСоответствие.ПодразделениеОрганизации = Док.СубконтоДт3)
ГДЕ
	Док.Ссылка = &amp;Ссылка
	И Док.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РезервыПредстоящихРасходов))

СГРУППИРОВАТЬ ПО
	ВЫБОР
		КОГДА Док.ПодразделениеДт &lt;&gt; ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА Док.ПодразделениеДт
		КОГДА Док.СубконтоДт1 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт1
		КОГДА Док.СубконтоДт2 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт2
		КОГДА Док.СубконтоДт3 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт3
		ИНАЧЕ NULL
	КОНЕЦ,
	ВЫБОР
		КОГДА Док.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт1
		КОГДА Док.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт2
		КОГДА Док.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
			ТОГДА Док.СубконтоДт3
		ИНАЧЕ NULL
	КОНЕЦ,
	РегСоответствие.Подразделение</Текст>
		</Запрос>
		<Запрос Имя="НачисленияФизлиц" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ ПЕРВЫЕ 1
	ИСТИНА КАК ИспользуютсяОценочные
ПОМЕСТИТЬ ПризнакОценочныхОбязательств
ИЗ
	РегистрСведений.УчетнаяПолитикаПоОценочнымОбязательствам.СрезПоследних(
			,
			Организация = &amp;Организация
				И ФормироватьБУ
				И ОценочноеОбязательствоДляОтпуска &lt;&gt; ЗНАЧЕНИЕ(Справочник.Резервы.ПустаяСсылка)) КАК УчетнаяПолитикаПоОценочнымОбязательствамСрезПоследних
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	БУОсновныеНачисления.ПериодРегистрации,
	БУОсновныеНачисления.ВидРасчета,
	БУОсновныеНачисления.ПериодРегистрации КАК Дата,
	БУОсновныеНачисления.ФизЛицо,
	БУОсновныеНачисления.Организация,
	БУОсновныеНачисления.Результат КАК Сумма,
	ВЫБОР
		КОГДА БУОсновныеНачисления.ПодразделениеДт = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка))
		ИНАЧЕ БУОсновныеНачисления.ПодразделениеДт
	КОНЕЦ КАК ПодразделениеОрганизации,
	БУОсновныеНачисления.Сотрудник,
	БУОсновныеНачисления.СубконтоДт1,
	БУОсновныеНачисления.СубконтоДт2,
	БУОсновныеНачисления.СубконтоДт3,
	БУОсновныеНачисления.СчетДт
ПОМЕСТИТЬ НачисленияДокумента
ИЗ
	РегистрРасчета.БУОсновныеНачисления КАК БУОсновныеНачисления
		ЛЕВОЕ СОЕДИНЕНИЕ ПризнакОценочныхОбязательств КАК ПризнакОценочныхОбязательств
		ПО (ИСТИНА)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериодаРегистрации, Организация = &amp;Организация) КАК РаботникиОрганизацийСрезПоследних
		ПО (РаботникиОрганизацийСрезПоследних.Сотрудник = БУОсновныеНачисления.Сотрудник)
			И (РаботникиОрганизацийСрезПоследних.Организация = БУОсновныеНачисления.Организация)
ГДЕ
	БУОсновныеНачисления.Регистратор = &amp;Регистратор
	И НЕ БУОсновныеНачисления.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РезервыПредстоящихРасходов))
	И (НЕ ПризнакОценочныхОбязательств.ИспользуютсяОценочные
			ИЛИ НЕ БУОсновныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	БУОсновныеНачисления.ПериодРегистрации,
	БУОсновныеНачисления.ВидРасчета,
	БУОсновныеНачисления.ПериодРегистрации,
	БУОсновныеНачисления.ФизЛицо,
	БУОсновныеНачисления.Организация,
	БУОсновныеНачисления.Результат,
	ВЫБОР
		КОГДА БУОсновныеНачисления.ПодразделениеДт = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка))
		ИНАЧЕ БУОсновныеНачисления.ПодразделениеДт
	КОНЕЦ,
	БУОсновныеНачисления.Сотрудник,
	БУОсновныеНачисления.СубконтоДт1,
	БУОсновныеНачисления.СубконтоДт2,
	БУОсновныеНачисления.СубконтоДт3,
	БУОсновныеНачисления.СчетДт
ИЗ
	РегистрРасчета.БУОсновныеНачисления КАК БУОсновныеНачисления
		ЛЕВОЕ СОЕДИНЕНИЕ ПризнакОценочныхОбязательств КАК ПризнакОценочныхОбязательств
		ПО (ИСТИНА)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериодаРегистрации, Организация = &amp;Организация) КАК РаботникиОрганизацийСрезПоследних
		ПО (РаботникиОрганизацийСрезПоследних.Сотрудник = БУОсновныеНачисления.Сотрудник)
			И (РаботникиОрганизацийСрезПоследних.Организация = БУОсновныеНачисления.Организация)
ГДЕ
	(БУОсновныеНачисления.Регистратор ССЫЛКА Документ.СдельныйНаряд
			ИЛИ БУОсновныеНачисления.Регистратор ССЫЛКА Документ.НачислениеПоБольничномуЛисту)
	И БУОсновныеНачисления.ПериодРегистрации МЕЖДУ &amp;ПериодРегистрации И &amp;КонецПериодаРегистрации
	И БУОсновныеНачисления.Организация = &amp;Организация
	И НЕ БУОсновныеНачисления.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РезервыПредстоящихРасходов))
	И (НЕ ПризнакОценочныхОбязательств.ИспользуютсяОценочные
			ИЛИ НЕ БУОсновныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	БУДополнительныеНачисления.ПериодРегистрации,
	БУДополнительныеНачисления.ВидРасчета,
	БУДополнительныеНачисления.ПериодРегистрации,
	БУДополнительныеНачисления.ФизЛицо,
	БУДополнительныеНачисления.Организация,
	БУДополнительныеНачисления.Результат,
	ВЫБОР
		КОГДА БУДополнительныеНачисления.ПодразделениеДт = ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА ЕСТЬNULL(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации, ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка))
		ИНАЧЕ БУДополнительныеНачисления.ПодразделениеДт
	КОНЕЦ,
	БУДополнительныеНачисления.Сотрудник,
	БУДополнительныеНачисления.СубконтоДт1,
	БУДополнительныеНачисления.СубконтоДт2,
	БУДополнительныеНачисления.СубконтоДт3,
	БУДополнительныеНачисления.СчетДт
ИЗ
	РегистрРасчета.БУДополнительныеНачисления КАК БУДополнительныеНачисления
		ЛЕВОЕ СОЕДИНЕНИЕ ПризнакОценочныхОбязательств КАК ПризнакОценочныхОбязательств
		ПО (ИСТИНА)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериодаРегистрации, Организация = &amp;Организация) КАК РаботникиОрганизацийСрезПоследних
		ПО (РаботникиОрганизацийСрезПоследних.Сотрудник = БУДополнительныеНачисления.Сотрудник)
			И (РаботникиОрганизацийСрезПоследних.Организация = БУДополнительныеНачисления.Организация)
ГДЕ
	БУДополнительныеНачисления.Регистратор = &amp;Регистратор
	И НЕ БУДополнительныеНачисления.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РезервыПредстоящихРасходов))
	И (НЕ ПризнакОценочныхОбязательств.ИспользуютсяОценочные
			ИЛИ НЕ БУДополнительныеНачисления.ВидРасчета.ЕжегодныйОтпускДляРезервов)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НачисленияДокумента.ПериодРегистрации,
	НачисленияДокумента.ВидРасчета,
	НачисленияДокумента.Дата,
	НачисленияДокумента.ФизЛицо,
	НачисленияДокумента.Организация,
	НачисленияДокумента.Сумма,
	НачисленияДокумента.ПодразделениеОрганизации,
	НачисленияДокумента.Сотрудник,
	ВЫБОР
		КОГДА НачисленияДокумента.ВидРасчета.ЯвляетсяДоходомВНатуральнойФорме
			ТОГДА "НатуральныйДоход"
		КОГДА НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.ПустаяСсылка)
				И НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.НетрудоспособностьПрофзаболевание)
				И НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.НетрудоспособностьНесчастныйСлучай)
				И НачисленияДокумента.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию))
			ТОГДА "РасходыПоСтрахованиюФСС"
		КОГДА (НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования = ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.НетрудоспособностьПрофзаболевание)
				ИЛИ НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования = ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.НетрудоспособностьНесчастныйСлучай))
				И НачисленияДокумента.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РасчетыПоСоциальномуСтрахованию))
			ТОГДА "РасходыПоСтрахованиюФССНС"
		КОГДА НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.МатпомощьПриРожденииРебенкаПрокуроров)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.МатпомощьПриРожденииРебенка)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.МатпомощьПрокуроров)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.Матпомощь)
			ТОГДА "МатериальнаяПомощь"
		КОГДА НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеОткрытия)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеАудиовизуальныеПроизведения)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеДругиеМузыкальныеПроизведения)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеЛитературныеПроизведения)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеМузыкальноСценическиеПроизведение)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеНаучныеТруды)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеСкульптуры)
				ИЛИ НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.АвторскиеГрафическиеПроизведения)
			ТОГДА "ДоговорАвторскогоЗаказа"
		КОГДА НачисленияДокумента.ВидРасчета.КодДоходаСтраховыеВзносы = ЗНАЧЕНИЕ(Справочник.ДоходыПоСтраховымВзносам.ДоговорыГПХ)
			ТОГДА "ДоговорРаботыУслуги"
		КОГДА НачисленияДокумента.ВидРасчета.СпособРасчета = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаОплатыТруда.ПоСреднемуЗаработкуФСС)
				И НачисленияДокумента.ВидРасчета.ВидПособияСоциальногоСтрахования = ЗНАЧЕНИЕ(Перечисление.ВидыПособийСоциальногоСтрахования.ПустаяСсылка)
			ТОГДА "РасходыПоСтрахованиюРаботодатель"
		КОГДА НачисленияДокумента.ВидРасчета.СпособРасчета = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаОплатыТруда.СдельныйЗаработок)
			ТОГДА "НачисленоСдельноДоход"
		ИНАЧЕ "НачисленоДоход"
	КОНЕЦ КАК ВидОперации,
	ВЫБОР
		КОГДА НачисленияДокумента.СубконтоДт3 ССЫЛКА Справочник.СтатьиЗатрат
				ИЛИ НачисленияДокумента.СубконтоДт3 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
				ИЛИ НачисленияДокумента.СубконтоДт3 ССЫЛКА Справочник.РасходыБудущихПериодов
				ИЛИ ТИПЗНАЧЕНИЯ(НачисленияДокумента.СубконтоДт3) = ТИП(Перечисление.ВидыПлатежейВГосБюджет)
			ТОГДА НачисленияДокумента.СубконтоДт3
		ИНАЧЕ ВЫБОР
				КОГДА НачисленияДокумента.СубконтоДт2 ССЫЛКА Справочник.СтатьиЗатрат
						ИЛИ НачисленияДокумента.СубконтоДт2 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
						ИЛИ НачисленияДокумента.СубконтоДт2 ССЫЛКА Справочник.РасходыБудущихПериодов
						ИЛИ ТИПЗНАЧЕНИЯ(НачисленияДокумента.СубконтоДт2) = ТИП(Перечисление.ВидыПлатежейВГосБюджет)
					ТОГДА НачисленияДокумента.СубконтоДт2
				ИНАЧЕ ВЫБОР
						КОГДА НачисленияДокумента.СубконтоДт1 ССЫЛКА Справочник.СтатьиЗатрат
								ИЛИ НачисленияДокумента.СубконтоДт1 ССЫЛКА Справочник.ПрочиеДоходыИРасходы
								ИЛИ НачисленияДокумента.СубконтоДт1 ССЫЛКА Справочник.РасходыБудущихПериодов
								ИЛИ ТИПЗНАЧЕНИЯ(НачисленияДокумента.СубконтоДт1) = ТИП(Перечисление.ВидыПлатежейВГосБюджет)
							ТОГДА НачисленияДокумента.СубконтоДт1
						ИНАЧЕ NULL
					КОНЕЦ
			КОНЕЦ
	КОНЕЦ КАК СтатьяРасходов
ПОМЕСТИТЬ НачисленияДокументаСоСтатьями
ИЗ
	НачисленияДокумента КАК НачисленияДокумента
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ ПризнакОценочныхОбязательств
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ НачисленияДокумента
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	МИНИМУМ(СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение) КАК Подразделение
ПОМЕСТИТЬ СоответствиеПодразделенийИПодразделенийОрганизаций
ИЗ
	РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
ГДЕ
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация = &amp;Организация

СГРУППИРОВАТЬ ПО
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо КАК Физлицо,
	МИНИМУМ(СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение) КАК Подразделение
ПОМЕСТИТЬ РаботникиПредприятияСрезПоследних
ИЗ
	РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;КонецПериодаРегистрации, Организация = &amp;Организация) КАК РаботникиОрганизацийСрезПоследних
		ЛЕВОЕ СОЕДИНЕНИЕ СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
		ПО РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации

СГРУППИРОВАТЬ ПО
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НачисленияДокументаСоСтатьями.ПериодРегистрации,
	НачисленияДокументаСоСтатьями.Дата,
	НачисленияДокументаСоСтатьями.ФизЛицо КАК ФизическоеЛицо,
	НачисленияДокументаСоСтатьями.Организация,
	СУММА(НачисленияДокументаСоСтатьями.Сумма) КАК Сумма,
	НачисленияДокументаСоСтатьями.ВидОперации,
	НачисленияДокументаСоСтатьями.ВидРасчета,
	НачисленияДокументаСоСтатьями.СтатьяРасходов КАК СтатьяРасходов,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение
	КОНЕЦ КАК ПодразделениеПредприятия,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение
	КОНЕЦ КАК АналитикаРасходов,
	НачисленияДокументаСоСтатьями.ФизЛицо.Наименование КАК ФизЛицоНаименование,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение.Наименование
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение.Наименование
	КОНЕЦ КАК НаименованиеПодразделения
ИЗ
	НачисленияДокументаСоСтатьями КАК НачисленияДокументаСоСтатьями
		ЛЕВОЕ СОЕДИНЕНИЕ СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
		ПО НачисленияДокументаСоСтатьями.ПодразделениеОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
		ЛЕВОЕ СОЕДИНЕНИЕ РаботникиПредприятияСрезПоследних КАК РаботникиПредприятияСрезПоследних
		ПО НачисленияДокументаСоСтатьями.ФизЛицо = РаботникиПредприятияСрезПоследних.Физлицо

СГРУППИРОВАТЬ ПО
	НачисленияДокументаСоСтатьями.ПериодРегистрации,
	НачисленияДокументаСоСтатьями.ФизЛицо,
	НачисленияДокументаСоСтатьями.ВидОперации,
	НачисленияДокументаСоСтатьями.ВидРасчета,
	НачисленияДокументаСоСтатьями.Организация,
	НачисленияДокументаСоСтатьями.Дата,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение
	КОНЕЦ,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение.Наименование
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение.Наименование
	КОНЕЦ,
	НачисленияДокументаСоСтатьями.СтатьяРасходов,
	НачисленияДокументаСоСтатьями.ФизЛицо.Наименование,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
				И СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение &lt;&gt; ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ РаботникиПредприятияСрезПоследних.Подразделение
	КОНЕЦ

УПОРЯДОЧИТЬ ПО
	НаименованиеПодразделения,
	ФизЛицоНаименование</Текст>
		</Запрос>
		<Запрос Имя="НДФЛФизлиц" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо КАК Физлицо,
	РаботникиОрганизацийСрезПоследних.Организация КАК Организация,
	МИНИМУМ(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации) КАК ПодразделениеОрганизации
ПОМЕСТИТЬ РаботникиОрганизацийСрезПоследних
ИЗ
	РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ПериодРегистрации, ) КАК РаботникиОрганизацийСрезПоследних
ГДЕ
	РаботникиОрганизацийСрезПоследних.Организация = &amp;Организация

СГРУППИРОВАТЬ ПО
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо,
	РаботникиОрганизацийСрезПоследних.Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация КАК Организация,
	МИНИМУМ(СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение) КАК Подразделение
ПОМЕСТИТЬ СоответствиеПодразделенийИПодразделенийОрганизаций
ИЗ
	РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
ГДЕ
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация = &amp;Организация

СГРУППИРОВАТЬ ПО
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.Ссылка,
	&amp;Организация КАК Организация,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.НомерСтроки,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СчетДт,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоДт1 КАК ФизическоеЛицо,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоДт2,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоДт3,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СчетКт,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоКт1,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоКт2,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоКт3,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СчетКтУСН,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.ОтражениеВУСН,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.Сумма,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.ВидНачисленияУдержания,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.ВидНачисленийОплатыТрудаПоСтатье255НК,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.КодПоОКАТО,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.КодПоОКТМО,
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.КПП,
	РаботникиСрезПоследних.Подразделение КАК ПодразделениеКомпанииКадровойИсторииРаботника
ПОМЕСТИТЬ НДФЛСПодразделениемРаботниковКомпании
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ОтражениеВУчете КАК ОтражениеЗарплатыВРеглУчетеОтражениеВУчете
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Работники.СрезПоследних(&amp;ПериодРегистрации, ) КАК РаботникиСрезПоследних
		ПО ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СубконтоДт1 = РаботникиСрезПоследних.ФизЛицо
ГДЕ
	ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.НДФЛ))
	И ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.СчетДт = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РасчетыСПерсоналомПоОплатеТруда)
	И ОтражениеЗарплатыВРеглУчетеОтражениеВУчете.Ссылка = &amp;Регистратор
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НДФЛСПодразделениемРаботниковКомпании.Ссылка,
	НДФЛСПодразделениемРаботниковКомпании.Организация,
	НДФЛСПодразделениемРаботниковКомпании.НомерСтроки,
	НДФЛСПодразделениемРаботниковКомпании.СчетДт,
	НДФЛСПодразделениемРаботниковКомпании.ФизическоеЛицо,
	НДФЛСПодразделениемРаботниковКомпании.СубконтоДт2,
	НДФЛСПодразделениемРаботниковКомпании.СубконтоДт3,
	НДФЛСПодразделениемРаботниковКомпании.СчетКт,
	НДФЛСПодразделениемРаботниковКомпании.СубконтоКт1,
	НДФЛСПодразделениемРаботниковКомпании.СубконтоКт2,
	НДФЛСПодразделениемРаботниковКомпании.СубконтоКт3,
	НДФЛСПодразделениемРаботниковКомпании.СчетКтУСН,
	НДФЛСПодразделениемРаботниковКомпании.ОтражениеВУСН,
	НДФЛСПодразделениемРаботниковКомпании.Сумма,
	НДФЛСПодразделениемРаботниковКомпании.ВидНачисленияУдержания,
	НДФЛСПодразделениемРаботниковКомпании.ВидНачисленийОплатыТрудаПоСтатье255НК,
	НДФЛСПодразделениемРаботниковКомпании.КодПоОКАТО,
	НДФЛСПодразделениемРаботниковКомпании.КодПоОКТМО,
	НДФЛСПодразделениемРаботниковКомпании.КПП,
	НДФЛСПодразделениемРаботниковКомпании.ПодразделениеКомпанииКадровойИсторииРаботника,
	РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации КАК ПодразделениеОрганизацииРаботникаОрганизации
ПОМЕСТИТЬ НДФЛСПодразделениямиРаботниковОрганизации
ИЗ
	НДФЛСПодразделениемРаботниковКомпании КАК НДФЛСПодразделениемРаботниковКомпании
		ЛЕВОЕ СОЕДИНЕНИЕ РаботникиОрганизацийСрезПоследних КАК РаботникиОрганизацийСрезПоследних
		ПО НДФЛСПодразделениемРаботниковКомпании.Организация = РаботникиОрганизацийСрезПоследних.Организация
			И НДФЛСПодразделениемРаботниковКомпании.ФизическоеЛицо = РаботникиОрганизацийСрезПоследних.Физлицо
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ РаботникиОрганизацийСрезПоследних
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ НДФЛСПодразделениемРаботниковКомпании
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НДФЛСПодразделениямиРаботниковОрганизации.Ссылка,
	НДФЛСПодразделениямиРаботниковОрганизации.Организация,
	НДФЛСПодразделениямиРаботниковОрганизации.НомерСтроки,
	НДФЛСПодразделениямиРаботниковОрганизации.СчетДт,
	НДФЛСПодразделениямиРаботниковОрганизации.ФизическоеЛицо,
	НДФЛСПодразделениямиРаботниковОрганизации.СубконтоДт2,
	НДФЛСПодразделениямиРаботниковОрганизации.СубконтоДт3,
	НДФЛСПодразделениямиРаботниковОрганизации.СчетКт,
	НДФЛСПодразделениямиРаботниковОрганизации.СубконтоКт1,
	НДФЛСПодразделениямиРаботниковОрганизации.СубконтоКт2,
	НДФЛСПодразделениямиРаботниковОрганизации.СубконтоКт3,
	НДФЛСПодразделениямиРаботниковОрганизации.СчетКтУСН,
	НДФЛСПодразделениямиРаботниковОрганизации.ОтражениеВУСН,
	НДФЛСПодразделениямиРаботниковОрганизации.Сумма,
	НДФЛСПодразделениямиРаботниковОрганизации.ВидНачисленияУдержания,
	НДФЛСПодразделениямиРаботниковОрганизации.ВидНачисленийОплатыТрудаПоСтатье255НК,
	НДФЛСПодразделениямиРаботниковОрганизации.КодПоОКАТО,
	НДФЛСПодразделениямиРаботниковОрганизации.КодПоОКТМО,
	НДФЛСПодразделениямиРаботниковОрганизации.КПП,
	НДФЛСПодразделениямиРаботниковОрганизации.ПодразделениеКомпанииКадровойИсторииРаботника,
	НДФЛСПодразделениямиРаботниковОрганизации.ПодразделениеОрганизацииРаботникаОрганизации,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ НДФЛСПодразделениямиРаботниковОрганизации.ПодразделениеКомпанииКадровойИсторииРаботника
	КОНЕЦ КАК ПодразделениеПредприятия
ПОМЕСТИТЬ НДФЛСПодразделениями
ИЗ
	НДФЛСПодразделениямиРаботниковОрганизации КАК НДФЛСПодразделениямиРаботниковОрганизации
		ЛЕВОЕ СОЕДИНЕНИЕ СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
		ПО НДФЛСПодразделениямиРаботниковОрганизации.ПодразделениеОрганизацииРаботникаОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
			И НДФЛСПодразделениямиРаботниковОрганизации.Организация = СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ СоответствиеПодразделенийИПодразделенийОрганизаций
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ НДФЛСПодразделениямиРаботниковОрганизации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НДФЛСПодразделениями.Ссылка,
	НДФЛСПодразделениями.Организация,
	НДФЛСПодразделениями.НомерСтроки,
	НДФЛСПодразделениями.СчетДт,
	НДФЛСПодразделениями.ФизическоеЛицо,
	НДФЛСПодразделениями.СубконтоДт2,
	НДФЛСПодразделениями.СубконтоДт3,
	НДФЛСПодразделениями.СчетКт,
	НДФЛСПодразделениями.СубконтоКт1 КАК Контрагент,
	НДФЛСПодразделениями.СубконтоКт2,
	НДФЛСПодразделениями.СубконтоКт3,
	НДФЛСПодразделениями.СчетКтУСН,
	НДФЛСПодразделениями.ОтражениеВУСН,
	НДФЛСПодразделениями.Сумма,
	НДФЛСПодразделениями.ВидНачисленияУдержания КАК ВидОперации,
	НДФЛСПодразделениями.ВидНачисленийОплатыТрудаПоСтатье255НК,
	НДФЛСПодразделениями.КодПоОКАТО,
	НДФЛСПодразделениями.КодПоОКТМО,
	НДФЛСПодразделениями.КПП,
	НДФЛСПодразделениями.ПодразделениеКомпанииКадровойИсторииРаботника,
	НДФЛСПодразделениями.ПодразделениеОрганизацииРаботникаОрганизации,
	НДФЛСПодразделениями.ПодразделениеПредприятия,
	ВЫБОР
		КОГДА СтатусФизЛицКакНалогоплательщиковНДФЛСрезПоследних.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыНалогоплательщиковПоНДФЛ.Нерезидент)
			ТОГДА "Ставка30"
		ИНАЧЕ "Ставка13"
	КОНЕЦ КАК СтавкаНДФЛ
ИЗ
	НДФЛСПодразделениями КАК НДФЛСПодразделениями
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СтатусФизЛицКакНалогоплательщиковНДФЛ.СрезПоследних(&amp;ПериодРегистрации, ) КАК СтатусФизЛицКакНалогоплательщиковНДФЛСрезПоследних
		ПО НДФЛСПодразделениями.ФизическоеЛицо = СтатусФизЛицКакНалогоплательщиковНДФЛСрезПоследних.ФизЛицо</Текст>
		</Запрос>
		<Запрос Имя="ОтветственныеЛицаОрганизаций" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ОтветственныеЛицаОрганизаций.*
ИЗ
	РегистрСведений.ОтветственныеЛицаОрганизаций КАК ОтветственныеЛицаОрганизаций
ГДЕ
	ОтветственныеЛицаОрганизаций.СтруктурнаяЕдиница ССЫЛКА Справочник.Организации

УПОРЯДОЧИТЬ ПО
	СтруктурнаяЕдиница,
	Период</Текст>
		</Запрос>
		<Запрос Имя="ОтветственныеЛицаОрганизаций_Выборка" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ОтветственныеЛицаОрганизаций.*
ИЗ
	РегистрСведений.ОтветственныеЛицаОрганизаций КАК ОтветственныеЛицаОрганизаций
ГДЕ
	ОтветственныеЛицаОрганизаций.СтруктурнаяЕдиница ССЫЛКА #ИмяОбъекта

УПОРЯДОЧИТЬ ПО
	СтруктурнаяЕдиница,
	Период</Текст>
		</Запрос>
		<Запрос Имя="ПаспортныеДанныеФизлиц_ВыборкаРегистра" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.ФизическоеЛицо
ПОМЕСТИТЬ ВТФизическиеЛица
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ФизическиеЛица КАК ОтражениеЗарплатыВРеглУчетеФизическиеЛица
ГДЕ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.Ссылка = &amp;Регистратор
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПаспортныеДанныеФизЛиц.Период,
	ПаспортныеДанныеФизЛиц.ФизЛицо КАК ФизЛицо,
	ПаспортныеДанныеФизЛиц.ДокументВид,
	ПаспортныеДанныеФизЛиц.ДокументСерия,
	ПаспортныеДанныеФизЛиц.ДокументНомер,
	ПаспортныеДанныеФизЛиц.ДокументДатаВыдачи,
	ПаспортныеДанныеФизЛиц.ДокументКемВыдан,
	ПаспортныеДанныеФизЛиц.ДокументКодПодразделения,
	ПаспортныеДанныеФизЛиц.ДатаРегистрацииПоМестуЖительства
ИЗ
	ВТФизическиеЛица КАК ВТФизическиеЛица
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ПаспортныеДанныеФизЛиц КАК ПаспортныеДанныеФизЛиц
		ПО ВТФизическиеЛица.ФизическоеЛицо = ПаспортныеДанныеФизЛиц.ФизЛицо

УПОРЯДОЧИТЬ ПО
	ФизЛицо</Текст>
		</Запрос>
		<Запрос Имя="ПогашениеЗаймов" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо КАК Физлицо,
	МИНИМУМ(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации) КАК ПодразделениеОрганизации
ПОМЕСТИТЬ РаботникиОрганизацийСрезПоследних
ИЗ
	РегистрСведений.РаботникиОрганизаций.СрезПоследних КАК РаботникиОрганизацийСрезПоследних
ГДЕ  РаботникиОрганизацийСрезПоследних.Организация = &amp;Организация
СГРУППИРОВАТЬ ПО
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо
;
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	МИНИМУМ(СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение) КАК Подразделение
ПОМЕСТИТЬ СоответствиеПодразделенийИПодразделенийОрганизаций
ИЗ
	РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
ГДЕ  СоответствиеПодразделенийИПодразделенийОрганизаций.Организация = &amp;Организация
СГРУППИРОВАТЬ ПО
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
;
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	РаботникиОрганизацийСрезПоследних.ФизЛицо,
	РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
ПОМЕСТИТЬ РаботникиОрганизацийСПодразделениями
ИЗ РаботникиОрганизацийСрезПоследних КАК РаботникиОрганизацийСрезПоследних
ЛЕВОЕ СОЕДИНЕНИЕ СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
ПО  РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПогашениеЗаймов.ФизЛицо КАК ФизическоеЛицо,
	РаботникиОрганизацийСПодразделениями.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	РаботникиОрганизацийСПодразделениями.Подразделение КАК ПодразделениеПредприятия,
	Сумма(ПогашениеЗаймов.ОсновнойДолгРасход) КАК ОсновнойДолг,
	Сумма(ПогашениеЗаймов.ПроцентыРасход) КАК Проценты
ИЗ РегистрНакопления.ПогашениеЗаймовРаботникамиОрганизаций.Обороты(&amp;НачДата, &amp;КонДата,,Организация = &amp;Организация) КАК ПогашениеЗаймов
ЛЕВОЕ СОЕДИНЕНИЕ РаботникиОрганизацийСПодразделениями КАК РаботникиОрганизацийСПодразделениями
ПО РаботникиОрганизацийСПодразделениями.ФизЛицо = ПогашениеЗаймов.ФизЛицо
ГДЕ ПогашениеЗаймов.ОсновнойДолгРасход &gt; 0 ИЛИ ПогашениеЗаймов.ПроцентыРасход &gt; 0
СГРУППИРОВАТЬ ПО 
	ПогашениеЗаймов.ФизЛицо, 
	РаботникиОрганизацийСПодразделениями.ПодразделениеОрганизации, 
	РаботникиОрганизацийСПодразделениями.Подразделение</Текст>
		</Запрос>
		<Запрос Имя="ПрикрепленныеФайлыФизическихЛиц_Выборка" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.ФизическоеЛицо
ПОМЕСТИТЬ ВТФизическиеЛица
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ФизическиеЛица КАК ОтражениеЗарплатыВРеглУчетеФизическиеЛица
ГДЕ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.Ссылка = &amp;Регистратор
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ХранилищеДополнительнойИнформации.Ссылка,
	ХранилищеДополнительнойИнформации.ВерсияДанных,
	ХранилищеДополнительнойИнформации.ПометкаУдаления,
	ХранилищеДополнительнойИнформации.Предопределенный,
	ХранилищеДополнительнойИнформации.Наименование,
	ХранилищеДополнительнойИнформации.ВидДанных,
	ХранилищеДополнительнойИнформации.ИмяФайла,
	ХранилищеДополнительнойИнформации.Объект,
	ХранилищеДополнительнойИнформации.Хранилище,
	ХранилищеДополнительнойИнформации.ТекстФайла,
	ХранилищеДополнительнойИнформации.УдалитьИДФайлаПочтовогоПисьма,
	ХранилищеДополнительнойИнформации.УдалитьЗначениеРазделенияДоступа,
	ХранилищеДополнительнойИнформации.Представление
ИЗ
	ВТФизическиеЛица КАК ВТФизическиеЛица
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
		ПО ВТФизическиеЛица.ФизическоеЛицо = ХранилищеДополнительнойИнформации.Объект</Текст>
		</Запрос>
		<Запрос Имя="СписаниеОценочныхОбязательств" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ВЫБОР
		КОГДА Док.СубконтоКт1 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт1
		КОГДА Док.СубконтоКт2 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт2
		КОГДА Док.СубконтоКт3 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт3
		ИНАЧЕ NULL
	КОНЕЦ КАК ФизЛицо,
	Док.СубконтоДт1 КАК Резерв,
	Док.ПодразделениеДт КАК ПодразделениеДт,
	Док.СчетКт КАК СчетКт,
	СУММА(Док.Сумма) КАК СуммаРезерва
ПОМЕСТИТЬ РезервыПоСотрудникам
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ОтражениеВУчете КАК Док
ГДЕ
	Док.Ссылка = &amp;Ссылка
	И Док.СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РезервыПредстоящихРасходов))

СГРУППИРОВАТЬ ПО
	ВЫБОР
		КОГДА Док.СубконтоКт1 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт1
		КОГДА Док.СубконтоКт2 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт2
		КОГДА Док.СубконтоКт3 ССЫЛКА Справочник.ФизическиеЛица
			ТОГДА Док.СубконтоКт3
		ИНАЧЕ NULL
	КОНЕЦ,
	Док.СубконтоДт1,
	Док.СчетКт,
	Док.ПодразделениеДт
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	РезервыПоСотрудникам.ФизЛицо,
	РезервыПоСотрудникам.СуммаРезерва,
	ВЫБОР
		КОГДА РезервыПоСотрудникам.ПодразделениеДт &lt;&gt; ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка)
			ТОГДА РезервыПоСотрудникам.ПодразделениеДт
		КОГДА Док.Ссылка ЕСТЬ NULL
			ТОГДА NULL
		КОГДА Док.СубконтоДт1 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт1
		КОГДА Док.СубконтоДт2 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт2
		КОГДА Док.СубконтоДт3 ССЫЛКА Справочник.ПодразделенияОрганизаций
			ТОГДА Док.СубконтоДт3
		ИНАЧЕ NULL
	КОНЕЦ КАК Подразделение
ПОМЕСТИТЬ РезервыПоСотрудникамСПодразделением
ИЗ
	РезервыПоСотрудникам КАК РезервыПоСотрудникам
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ОтражениеЗарплатыВРеглУчете.ОсновныеНачисления КАК Док
			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Резервы.БазовыеВидыРасчета КАК РезервыБазовыеВидыРасчета
			ПО (РезервыБазовыеВидыРасчета.ВидРасчета = Док.ВидРасчета)
		ПО (Док.Ссылка = &amp;Ссылка)
			И (РезервыБазовыеВидыРасчета.Ссылка = РезервыПоСотрудникам.Резерв)
			И (Док.ФизЛицо = РезервыПоСотрудникам.ФизЛицо)
ГДЕ
	РезервыПоСотрудникам.ФизЛицо ЕСТЬ НЕ NULL 
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	РезервыПоСотрудникамСПодразделением.ФизЛицо,
	МАКСИМУМ(РезервыПоСотрудникамСПодразделением.СуммаРезерва) КАК СуммаРезерва,
	МАКСИМУМ(РезервыПоСотрудникамСПодразделением.Подразделение) КАК Подразделение
ПОМЕСТИТЬ РезервыПоСотрудникамСПодразделениемСвернуто
ИЗ
	РезервыПоСотрудникамСПодразделением КАК РезервыПоСотрудникамСПодразделением

СГРУППИРОВАТЬ ПО
	РезервыПоСотрудникамСПодразделением.ФизЛицо
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВзносыЗаСчетОцОб.ПодразделениеПредприятия КАК ПодразделениеПредприятия,
	СУММА(ВзносыЗаСчетОцОб.ПФРСтраховая) КАК ПФРСтраховая,
	СУММА(ВзносыЗаСчетОцОб.ПФРНакопительная) КАК ПФРНакопительная,
	СУММА(ВзносыЗаСчетОцОб.ПФРПоСуммарномуТарифу) КАК ПФРПоСуммарномуТарифу,
	СУММА(ВзносыЗаСчетОцОб.ПФРНаДоплатуЛетчикам) КАК ПФРНаДоплатуЛетчикам,
	СУММА(ВзносыЗаСчетОцОб.ПФРНаДоплатуШахтерам) КАК ПФРНаДоплатуШахтерам,
	СУММА(ВзносыЗаСчетОцОб.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах) КАК ПФРЗаЗанятыхНаПодземныхИВредныхРаботах,
	СУММА(ВзносыЗаСчетОцОб.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах) КАК ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах,
	СУММА(ВзносыЗаСчетОцОб.ФСС) КАК ФСС,
	СУММА(ВзносыЗаСчетОцОб.ФФОМС) КАК ФФОМС,
	СУММА(ВзносыЗаСчетОцОб.ТФОМС) КАК ТФОМС,
	СУММА(ВзносыЗаСчетОцОб.ФССНесчастныеСлучаи) КАК ФССНесчастныеСлучаи,
	СУММА(ВзносыЗаСчетОцОб.ПФРДоПредельнойВеличины) КАК ПФРДоПредельнойВеличины,
	СУММА(ВзносыЗаСчетОцОб.ПФРСПревышения) КАК ПФРСПревышения,
	СУММА(ВзносыЗаСчетОцОб.ВзносыВсего) КАК ВзносыВсего
ИЗ
	(ВЫБРАТЬ
		РегСоответствие.Подразделение КАК ПодразделениеПредприятия,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_страх))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРСтраховая,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_нак))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРНакопительная,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_ОПС))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРПоСуммарномуТарифу,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_доп))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРНаДоплатуЛетчикам,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_доп_шахтеры))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРНаДоплатуШахтерам,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_доп_ВредныеУсловияТруда))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРЗаЗанятыхНаПодземныхИВредныхРаботах,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПФР_доп_ТяжелыеУсловияТруда))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ФСС))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ФСС,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ФФОМС))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ФФОМС,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ТФОМС))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ТФОМС,
		ВЫБОР
			КОГДА Таб.СчетКт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ФСС_НСиПЗ))
				ТОГДА Таб.СуммаРезерва
			ИНАЧЕ 0
		КОНЕЦ КАК ФССНесчастныеСлучаи,
		0 КАК ПФРДоПредельнойВеличины,
		0 КАК ПФРСПревышения,
		Таб.СуммаРезерва КАК ВзносыВсего
	ИЗ
		РезервыПоСотрудникам КАК Таб
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК РегСоответствие
			ПО (РегСоответствие.Организация = &amp;Организация)
				И (РегСоответствие.Подразделение.ПометкаУдаления = ЛОЖЬ)
				И (РегСоответствие.ПодразделениеОрганизации = Таб.ПодразделениеДт)
	ГДЕ
		Таб.ФизЛицо ЕСТЬ NULL) КАК ВзносыЗаСчетОцОб

СГРУППИРОВАТЬ ПО
	ВзносыЗаСчетОцОб.ПодразделениеПредприятия
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Таб.Подразделение,
	Таб.ФизЛицо КАК ФизическоеЛицо,
	Таб.СуммаРезерва КАК Сумма,
	РегСоответствие.Подразделение КАК ПодразделениеПредприятия
ИЗ
	РезервыПоСотрудникамСПодразделениемСвернуто КАК Таб
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК РегСоответствие
		ПО (РегСоответствие.Организация = &amp;Организация)
			И (РегСоответствие.Подразделение.ПометкаУдаления = ЛОЖЬ)
			И (РегСоответствие.ПодразделениеОрганизации = Таб.Подразделение)</Текст>
		</Запрос>
		<Запрос Имя="СтатьиЗатратВзносов" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	СоответствиеСтатейЗатратОтраженияЗарплатыВРеглУчете.СтатьяЗатратНачисления,
	СоответствиеСтатейЗатратОтраженияЗарплатыВРеглУчете.СтатьяЗатрат
ИЗ
	РегистрСведений.СоответствиеСтатейЗатратОтраженияЗарплатыВРеглУчете КАК СоответствиеСтатейЗатратОтраженияЗарплатыВРеглУчете</Текст>
		</Запрос>
		<Запрос Имя="СтраховыеВзносыИсчисленные" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	Взносы.ОбособленноеПодразделение,
	Взносы.ФизЛицо,
	Взносы.ОблагаетсяЕНВД,
	СУММА(Взносы.ПФРСтраховая) КАК ПФРСтраховая,
	СУММА(Взносы.ПФРНакопительная) КАК ПФРНакопительная,
	СУММА(Взносы.ПФРПоСуммарномуТарифу) КАК ПФРПоСуммарномуТарифу,
	СУММА(Взносы.ПФРНаДоплатуЛетчикам) КАК ПФРНаДоплатуЛетчикам,
	СУММА(Взносы.ПФРНаДоплатуШахтерам) КАК ПФРНаДоплатуШахтерам,
	СУММА(Взносы.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах) КАК ПФРЗаЗанятыхНаПодземныхИВредныхРаботах,
	СУММА(Взносы.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах) КАК ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах,
	СУММА(Взносы.ФСС) КАК ФСС,
	СУММА(Взносы.ФФОМС) КАК ФФОМС,
	СУММА(Взносы.ТФОМС) КАК ТФОМС,
	СУММА(Взносы.ФССНесчастныеСлучаи) КАК ФССНесчастныеСлучаи,
	СУММА(Взносы.ПФРДоПредельнойВеличины) КАК ПФРДоПредельнойВеличины,
	СУММА(Взносы.ПФРСПревышения) КАК ПФРСПревышения,
	СУММА(Взносы.ВзносыВсего) КАК ВзносыВсего
ИЗ
	(ВЫБРАТЬ
		СтраховыеВзносыИсчисленные.ОбособленноеПодразделение КАК ОбособленноеПодразделение,
		СтраховыеВзносыИсчисленные.ФизЛицо КАК ФизЛицо,
		ЛОЖЬ КАК ОблагаетсяЕНВД,
		СУММА(СтраховыеВзносыИсчисленные.ПФРСтраховая) КАК ПФРСтраховая,
		СУММА(СтраховыеВзносыИсчисленные.ПФРНакопительная) КАК ПФРНакопительная,
		СУММА(СтраховыеВзносыИсчисленные.ПФРПоСуммарномуТарифу) КАК ПФРПоСуммарномуТарифу,
		СУММА(СтраховыеВзносыИсчисленные.ПФРПоДополнительномуТарифу) КАК ПФРНаДоплатуЛетчикам,
		СУММА(СтраховыеВзносыИсчисленные.ПФРНаДоплатуКПенсииШахтерам) КАК ПФРНаДоплатуШахтерам,
		СУММА(СтраховыеВзносыИсчисленные.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах) КАК ПФРЗаЗанятыхНаПодземныхИВредныхРаботах,
		СУММА(СтраховыеВзносыИсчисленные.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах) КАК ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах,
		СУММА(СтраховыеВзносыИсчисленные.ФСС) КАК ФСС,
		СУММА(СтраховыеВзносыИсчисленные.ФФОМС) КАК ФФОМС,
		СУММА(СтраховыеВзносыИсчисленные.ТФОМС) КАК ТФОМС,
		СУММА(СтраховыеВзносыИсчисленные.ФССНесчастныеСлучаи) КАК ФССНесчастныеСлучаи,
		СУММА(СтраховыеВзносыИсчисленные.ПФРДоПредельнойВеличины) КАК ПФРДоПредельнойВеличины,
		СУММА(СтраховыеВзносыИсчисленные.ПФРСПревышения) КАК ПФРСПревышения,
		СУММА(СтраховыеВзносыИсчисленные.ПФРСтраховая) + СУММА(СтраховыеВзносыИсчисленные.ПФРНакопительная) + СУММА(СтраховыеВзносыИсчисленные.ПФРПоСуммарномуТарифу) + СУММА(СтраховыеВзносыИсчисленные.ПФРПоДополнительномуТарифу) + СУММА(СтраховыеВзносыИсчисленные.ПФРНаДоплатуКПенсииШахтерам) + СУММА(СтраховыеВзносыИсчисленные.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах) + СУММА(СтраховыеВзносыИсчисленные.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах) + СУММА(СтраховыеВзносыИсчисленные.ФСС) + СУММА(СтраховыеВзносыИсчисленные.ФФОМС) + СУММА(СтраховыеВзносыИсчисленные.ТФОМС) + СУММА(СтраховыеВзносыИсчисленные.ФССНесчастныеСлучаи) + СУММА(СтраховыеВзносыИсчисленные.ПФРДоПредельнойВеличины) + СУММА(СтраховыеВзносыИсчисленные.ПФРСПревышения) КАК ВзносыВсего
	ИЗ
		РегистрНакопления.СтраховыеВзносыИсчисленные КАК СтраховыеВзносыИсчисленные
	ГДЕ
		СтраховыеВзносыИсчисленные.Период МЕЖДУ &amp;ПериодРегистрации И &amp;КонецПериодРегистрации
		И СтраховыеВзносыИсчисленные.ОбособленноеПодразделение = &amp;Организация
	
	СГРУППИРОВАТЬ ПО
		СтраховыеВзносыИсчисленные.ФизЛицо,
		СтраховыеВзносыИсчисленные.ОбособленноеПодразделение
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		СтраховыеВзносыИсчисленные.ОбособленноеПодразделение,
		СтраховыеВзносыИсчисленные.ФизЛицо,
		ИСТИНА,
		СУММА(СтраховыеВзносыИсчисленные.ПФРСтраховаяЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ПФРНакопительнаяЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ПФРПоСуммарномуТарифуЕНВД),
		0,
		0,
		0,
		0,
		СУММА(СтраховыеВзносыИсчисленные.ФССЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ФФОМСЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ТФОМСЕНВД),
		0,
		СУММА(СтраховыеВзносыИсчисленные.ПФРДоПредельнойВеличиныЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ПФРСПревышенияЕНВД),
		СУММА(СтраховыеВзносыИсчисленные.ПФРСтраховаяЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ПФРНакопительнаяЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ПФРПоСуммарномуТарифуЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ФССЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ФФОМСЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ТФОМСЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ПФРДоПредельнойВеличиныЕНВД) + СУММА(СтраховыеВзносыИсчисленные.ПФРСПревышенияЕНВД)
	ИЗ
		РегистрНакопления.СтраховыеВзносыИсчисленные КАК СтраховыеВзносыИсчисленные
	ГДЕ
		СтраховыеВзносыИсчисленные.Период МЕЖДУ &amp;ПериодРегистрации И &amp;КонецПериодРегистрации
		И СтраховыеВзносыИсчисленные.ОбособленноеПодразделение = &amp;Организация
	
	СГРУППИРОВАТЬ ПО
		СтраховыеВзносыИсчисленные.ФизЛицо,
		СтраховыеВзносыИсчисленные.ОбособленноеПодразделение) КАК Взносы
ГДЕ
	(Взносы.ПФРСтраховая &lt;&gt; 0
			ИЛИ Взносы.ПФРНакопительная &lt;&gt; 0
			ИЛИ Взносы.ФСС &lt;&gt; 0
			ИЛИ Взносы.ФФОМС &lt;&gt; 0
			ИЛИ Взносы.ТФОМС &lt;&gt; 0
			ИЛИ Взносы.ФССНесчастныеСлучаи &lt;&gt; 0
			ИЛИ Взносы.ПФРПоСуммарномуТарифу &lt;&gt; 0
			ИЛИ Взносы.ПФРНаДоплатуЛетчикам &lt;&gt; 0
			ИЛИ Взносы.ПФРНаДоплатуШахтерам &lt;&gt; 0
			ИЛИ Взносы.ПФРЗаЗанятыхНаПодземныхИВредныхРаботах &lt;&gt; 0
			ИЛИ Взносы.ПФРЗаЗанятыхНаТяжелыхИПрочихРаботах &lt;&gt; 0
			ИЛИ Взносы.ПФРДоПредельнойВеличины &lt;&gt; 0
			ИЛИ Взносы.ПФРСПревышения &lt;&gt; 0)

СГРУППИРОВАТЬ ПО
	Взносы.ОбособленноеПодразделение,
	Взносы.ФизЛицо,
	Взносы.ОблагаетсяЕНВД

УПОРЯДОЧИТЬ ПО
	Взносы.ОбособленноеПодразделение,
	Взносы.ФизЛицо
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СтраховыеВзносыСведенияОДоходах.Период,
	СтраховыеВзносыСведенияОДоходах.ОбособленноеПодразделение,
	СтраховыеВзносыСведенияОДоходах.ФизЛицо,
	СтраховыеВзносыСведенияОДоходах.ОблагаетсяЕНВД,
	СтраховыеВзносыСведенияОДоходах.ВидРасчета,
	СУММА(СтраховыеВзносыСведенияОДоходах.Результат) КАК Результат,
	СУММА(СтраховыеВзносыСведенияОДоходах.Скидка) КАК Скидка,
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуФОМС, ЛОЖЬ) КАК ВходитВБазуФОМС,
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуФСС, ЛОЖЬ) КАК ВходитВБазуФСС,
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуПФР, ЛОЖЬ) КАК ВходитВБазуПФР,
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.ЕжегодныйОтпускДляРезервов, ЛОЖЬ) КАК ЕжегодныйОтпускДляРезервов
ИЗ
	РегистрНакопления.СтраховыеВзносыСведенияОДоходах КАК СтраховыеВзносыСведенияОДоходах
ГДЕ
	СтраховыеВзносыСведенияОДоходах.Период МЕЖДУ &amp;ПериодРегистрации И &amp;КонецПериодРегистрации
	И СтраховыеВзносыСведенияОДоходах.Организация = &amp;Организация

СГРУППИРОВАТЬ ПО
	СтраховыеВзносыСведенияОДоходах.Период,
	СтраховыеВзносыСведенияОДоходах.ОбособленноеПодразделение,
	СтраховыеВзносыСведенияОДоходах.ФизЛицо,
	СтраховыеВзносыСведенияОДоходах.ОблагаетсяЕНВД,
	СтраховыеВзносыСведенияОДоходах.ВидРасчета,
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуФОМС, ЛОЖЬ),
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуФСС, ЛОЖЬ),
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.КодДоходаСтраховыеВзносы.ВходитВБазуПФР, ЛОЖЬ),
	ЕСТЬNULL(СтраховыеВзносыСведенияОДоходах.ВидРасчета.ЕжегодныйОтпускДляРезервов, ЛОЖЬ)</Текст>
		</Запрос>
		<Запрос Имя="ТекущаяВерсияФайла" ИспользуетсяПриЗагрузке="true">
			<Текст>ВЫБРАТЬ ПЕРВЫЕ 1
	ВерсииФайлов.Ссылка
ИЗ
	Справочник.ВерсииФайлов КАК ВерсииФайлов
ГДЕ
	ВерсииФайлов.Владелец = &amp;Владелец
УПОРЯДОЧИТЬ ПО ВерсииФайлов.ДатаМодификацииУниверсальная УБЫВ</Текст>
		</Запрос>
		<Запрос Имя="УдержанияФизлиц" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо КАК Физлицо,
	РаботникиОрганизацийСрезПоследних.Организация КАК Организация,
	МИНИМУМ(РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации) КАК ПодразделениеОрганизации
ПОМЕСТИТЬ РаботникиОрганизацийСрезПоследних
ИЗ
	РегистрСведений.РаботникиОрганизаций.СрезПоследних КАК РаботникиОрганизацийСрезПоследних

СГРУППИРОВАТЬ ПО
	РаботникиОрганизацийСрезПоследних.Сотрудник.Физлицо,
	РаботникиОрганизацийСрезПоследних.Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация КАК Организация,
	МИНИМУМ(СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение) КАК Подразделение
ПОМЕСТИТЬ СоответствиеПодразделенийИПодразделенийОрганизаций
ИЗ
	РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций

СГРУППИРОВАТЬ ПО
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	УдержанияРаботниковОрганизаций.ПериодРегистрации,
	УдержанияРаботниковОрганизаций.ДокументОснование.Получатель КАК ПолучательОснования,
	ВЫБОР
		КОГДА ЕСТЬNULL(УдержанияРаботниковОрганизаций.ВидРасчета.ЯвляетсяДСВ, ЛОЖЬ)
			ТОГДА "ДСВ"
		КОГДА ЕСТЬNULL(УдержанияРаботниковОрганизаций.ВидРасчета.СпособОтраженияВБухучете.СчетКт, ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)) = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РасчетыПоИсполнительнымДокументамРаботников)
			ТОГДА "АлиментыПрочиеИсполнительныеЛисты"
		ИНАЧЕ УдержанияРаботниковОрганизаций.ВидРасчета.СпособРасчета
	КОНЕЦ КАК ВидОперации,
	УдержанияРаботниковОрганизаций.ФизЛицо КАК ФизическоеЛицо,
	УдержанияРаботниковОрганизаций.Организация,
	УдержанияРаботниковОрганизаций.Результат КАК Сумма,
	УдержанияРаботниковОрганизаций.Получатель КАК ПолучательИзРегистра,
	ВЫБОР
		КОГДА УдержанияРаботниковОрганизаций.Получатель ССЫЛКА Справочник.Контрагенты
				И УдержанияРаботниковОрганизаций.Получатель &lt;&gt; ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
			ТОГДА УдержанияРаботниковОрганизаций.Получатель
		ИНАЧЕ УдержанияРаботниковОрганизаций.ДокументОснование.Получатель
	КОНЕЦ КАК Получатель,
	РаботникиСрезПоследних.Подразделение КАК ПодразделениеРаботникаСтруктурыПредприятия
ПОМЕСТИТЬ УдержанияСПодразделениемРаботникаПредприятия
ИЗ
	РегистрРасчета.УдержанияРаботниковОрганизаций КАК УдержанияРаботниковОрганизаций
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Работники.СрезПоследних(&amp;ПериодРегистрации, ) КАК РаботникиСрезПоследних
		ПО (РаботникиСрезПоследних.ФизЛицо = УдержанияРаботниковОрганизаций.ФизЛицо)
ГДЕ
	УдержанияРаботниковОрганизаций.Организация = &amp;Организация
	И УдержанияРаботниковОрганизаций.ПериодРегистрации = &amp;ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	УдержанияСПодразделениемРаботникаПредприятия.ПериодРегистрации,
	УдержанияСПодразделениемРаботникаПредприятия.ПолучательОснования,
	УдержанияСПодразделениемРаботникаПредприятия.ВидОперации,
	УдержанияСПодразделениемРаботникаПредприятия.ФизическоеЛицо,
	УдержанияСПодразделениемРаботникаПредприятия.Организация,
	УдержанияСПодразделениемРаботникаПредприятия.Сумма,
	УдержанияСПодразделениемРаботникаПредприятия.ПолучательИзРегистра,
	УдержанияСПодразделениемРаботникаПредприятия.Получатель,
	УдержанияСПодразделениемРаботникаПредприятия.ПодразделениеРаботникаСтруктурыПредприятия,
	РаботникиОрганизацийСрезПоследних.ПодразделениеОрганизации КАК ПодразделениеОрганизацииРаботникаОрганизации
ПОМЕСТИТЬ УдержанияСПодразделениямиРаботниковОрганизаций
ИЗ
	УдержанияСПодразделениемРаботникаПредприятия КАК УдержанияСПодразделениемРаботникаПредприятия
		ЛЕВОЕ СОЕДИНЕНИЕ РаботникиОрганизацийСрезПоследних КАК РаботникиОрганизацийСрезПоследних
		ПО УдержанияСПодразделениемРаботникаПредприятия.Организация = РаботникиОрганизацийСрезПоследних.Организация
			И УдержанияСПодразделениемРаботникаПредприятия.ФизическоеЛицо = РаботникиОрганизацийСрезПоследних.Физлицо
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ РаботникиОрганизацийСрезПоследних
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ УдержанияСПодразделениемРаботникаПредприятия
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	УдержанияСПодразделениямиРаботниковОрганизаций.ПериодРегистрации,
	УдержанияСПодразделениямиРаботниковОрганизаций.ПолучательОснования,
	УдержанияСПодразделениямиРаботниковОрганизаций.ВидОперации,
	УдержанияСПодразделениямиРаботниковОрганизаций.ФизическоеЛицо,
	УдержанияСПодразделениямиРаботниковОрганизаций.Организация,
	УдержанияСПодразделениямиРаботниковОрганизаций.Сумма,
	УдержанияСПодразделениямиРаботниковОрганизаций.ПолучательИзРегистра,
	УдержанияСПодразделениямиРаботниковОрганизаций.Получатель КАК Контрагент,
	УдержанияСПодразделениямиРаботниковОрганизаций.ПодразделениеРаботникаСтруктурыПредприятия,
	УдержанияСПодразделениямиРаботниковОрганизаций.ПодразделениеОрганизацииРаботникаОрганизации,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ УдержанияСПодразделениямиРаботниковОрганизаций.ПодразделениеРаботникаСтруктурыПредприятия
	КОНЕЦ КАК ПодразделениеПредприятия,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение ССЫЛКА Справочник.Подразделения
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ИНАЧЕ УдержанияСПодразделениямиРаботниковОрганизаций.ПодразделениеРаботникаСтруктурыПредприятия
	КОНЕЦ КАК АналитикаРасходов
ИЗ
	УдержанияСПодразделениямиРаботниковОрганизаций КАК УдержанияСПодразделениямиРаботниковОрганизаций
		ЛЕВОЕ СОЕДИНЕНИЕ СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
		ПО УдержанияСПодразделениямиРаботниковОрганизаций.Организация = СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
			И УдержанияСПодразделениямиРаботниковОрганизаций.ПодразделениеОрганизацииРаботникаОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации</Текст>
		</Запрос>
		<Запрос Имя="ФИОФизическихЛиц_ВыборкаРегистра" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.ФизическоеЛицо
ПОМЕСТИТЬ ВТФизическиеЛица
ИЗ
	Документ.ОтражениеЗарплатыВРеглУчете.ФизическиеЛица КАК ОтражениеЗарплатыВРеглУчетеФизическиеЛица
ГДЕ
	ОтражениеЗарплатыВРеглУчетеФизическиеЛица.Ссылка = &amp;Регистратор
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ФИОФизЛиц.Период,
	ФИОФизЛиц.ФизЛицо КАК ФизЛицо,
	ФИОФизЛиц.Фамилия,
	ФИОФизЛиц.Имя,
	ФИОФизЛиц.Отчество,
	ИСТИНА КАК Активность
ИЗ
	ВТФизическиеЛица КАК ВТФизическиеЛица
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ФИОФизЛиц КАК ФИОФизЛиц
		ПО ВТФизическиеЛица.ФизическоеЛицо = ФИОФизЛиц.ФизЛицо

УПОРЯДОЧИТЬ ПО
	ФизическоеЛицо</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>