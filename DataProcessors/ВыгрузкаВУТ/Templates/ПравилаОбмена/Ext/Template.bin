<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>21dbc65c-88a8-4892-9fe6-bb1d479322f4    </Ид>
	<Наименование>ЗарплатаИУправлениеПерсоналом --&gt; УправлениеТорговлей</Наименование>
	<ДатаВремяСоздания>2015-05-26T12:17:26</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.5.52.5" СинонимКонфигурации="Зарплата и Управление Персоналом для Беларуси, редакция 2.5">ЗарплатаИУправлениеПерсоналомДляБеларуси</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.0.31.2" СинонимКонфигурации="Управление торговлей для Беларуси, редакция 2.0">УправлениеТорговлейДляБеларуси</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>СправочникСсылка.ФизическиеЛица --&gt; СправочникСсылка.ФизическиеЛица</Наименование>
				<Порядок>100</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<ПередВыгрузкой>Значение = Источник.ДатаРождения</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Код;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой> Значение = Источник.Комментарий;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой> Значение = Источник.Наименование;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ОсновноеИзображение --&gt; ОсновноеИзображение</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ОсновноеИзображение" Вид="Реквизит" Тип="СправочникСсылка.ХранилищеДополнительнойИнформации"/>
						<Приемник Имя="ОсновноеИзображение" Вид="Реквизит" Тип="СправочникСсылка.ХранилищеДополнительнойИнформации"/>
						<КодПравилаКонвертации>ХранилищеДополнительнойИнформации                 </КодПравилаКонвертации>
						<ПередВыгрузкой> Значение = Источник.ОсновноеИзображение;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой> Значение = Источник.ПометкаУдаления;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ПередВыгрузкой> Значение = Источник.Родитель;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой> Значение = Источник.ЭтоГруппа;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ХранилищеДополнительнойИнформации</Код>
				<Наименование>СправочникСсылка.ХранилищеДополнительнойИнформации --&gt; СправочникСсылка.ХранилищеДополнительнойИнфор</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
				<Приемник>СправочникСсылка.ХранилищеДополнительнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидДанных --&gt; ВидДанных</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВидДанных" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДополнительнойИнформацииОбъектов"/>
						<Приемник Имя="ВидДанных" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДополнительнойИнформацииОбъектов"/>
						<КодПравилаКонвертации>ВидыДополнительнойИнформацииОбъектов              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ИмяФайла --&gt; ИмяФайла</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Объект --&gt; Объект</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Объект" Вид="Реквизит"/>
						<Приемник Имя="Объект" Вид="Реквизит"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Хранилище --&gt; Хранилище</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
						<Приемник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>СправочникСсылка.Пользователи --&gt; СправочникСсылка.Пользователи</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДокументыУдостоверяющиеЛичность</Код>
				<Наименование>СправочникСсылка.ДокументыУдостоверяющиеЛичность --&gt; СправочникСсылка.ДокументыУдостоверяющиеЛичност</Наименование>
				<Порядок>600</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ДокументыУдостоверяющиеЛичность</Источник>
				<Приемник>СправочникСсылка.ДокументыУдостоверяющиеЛичность</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>КодИМНС --&gt; КодИМНС</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодИМНС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодИМНС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КодПФР --&gt; КодПФР</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>СправочникСсылка.ВидыКонтактнойИнформации --&gt; СправочникСсылка.ВидыКонтактнойИнформации</Наименование>
				<Порядок>700</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидОбъектаКонтактнойИнформации --&gt; ВидОбъектаКонтактнойИнформации</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВидОбъектаКонтактнойИнформации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации"/>
						<Приемник Имя="ВидОбъектаКонтактнойИнформации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыОбъектовКонтактнойИнформации                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>АдресИнострОрганизацииУчред --&gt; АдресИнострОрганиз</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресИнострОрганизацииУчред</Источник>
						<Приемник>АдресИнострОрганизацииУчред</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресОрганизацииПочтовый --&gt; АдресОрганизацииПочто</Наименование>
						<Порядок>200</Порядок>
						<Источник>АдресОрганизацииПочтовый</Источник>
						<Приемник>АдресОрганизацииПочтовый</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ИнострАдресФизЛица --&gt; ИнострАдресФизЛица</Наименование>
						<Порядок>300</Порядок>
						<Источник>ИнострАдресФизЛица</Источник>
						<Приемник>ИнострАдресФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ИнформАдресФизЛица --&gt; ИнформАдресФизЛица</Наименование>
						<Порядок>400</Порядок>
						<Источник>ИнформАдресФизЛица</Источник>
						<Приемник>ИнформАдресФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>КонтактнТелефонКандидата --&gt; КонтактнТелефонКандид</Наименование>
						<Порядок>500</Порядок>
						<Источник>КонтактнТелефонКандидата</Источник>
						<Приемник>КонтактнТелефонКандидата</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>СлужебныйАдресЭлектроннойПочтыПользователя --&gt; Слу</Наименование>
						<Порядок>600</Порядок>
						<Источник>СлужебныйАдресЭлектроннойПочтыПользователя</Источник>
						<Приемник>СлужебныйАдресЭлектроннойПочтыПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>700</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>800</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
						<Порядок>900</Порядок>
						<Источник>ФактАдресКонтрагента</Источник>
						<Приемник>ФактАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>1000</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ФактАдресФизЛица --&gt; ФактАдресФизЛица</Наименование>
						<Порядок>1100</Порядок>
						<Источник>ФактАдресФизЛица</Источник>
						<Приемник>ФактАдресФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>12</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>1200</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>13</Код>
						<Наименование>ЮрАдресФизЛица --&gt; ЮрАдресФизЛица</Наименование>
						<Порядок>1300</Порядок>
						<Источник>ЮрАдресФизЛица</Источник>
						<Приемник>ЮрАдресФизЛица</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ВидыДополнительнойИнформацииОбъектов</Код>
				<Наименование>ПеречислениеСсылка.ВидыДополнительнойИнформацииОбъектов --&gt; ПеречислениеСсылка.ВидыДополнительнойИнф</Наименование>
				<Порядок>100</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПеречислениеСсылка.ВидыДополнительнойИнформацииОбъектов</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДополнительнойИнформацииОбъектов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Изображение --&gt; Изображение</Наименование>
						<Порядок>100</Порядок>
						<Источник>Изображение</Источник>
						<Приемник>Изображение</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Файл --&gt; Файл</Наименование>
						<Порядок>200</Порядок>
						<Источник>Файл</Источник>
						<Приемник>Файл</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>ПеречислениеСсылка.ТипыКонтактнойИнформации --&gt; ПеречислениеСсылка.ТипыКонтактнойИнформации</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>100</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>200</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>300</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>400</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>500</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОбъектовКонтактнойИнформации</Код>
				<Наименование>ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации --&gt; ПеречислениеСсылка.ВидыОбъектовКонтактнойИнф</Наименование>
				<Порядок>500</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Контрагенты --&gt; Контрагенты</Наименование>
						<Порядок>100</Порядок>
						<Источник>Контрагенты</Источник>
						<Приемник>Контрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Организации --&gt; Организации</Наименование>
						<Порядок>200</Порядок>
						<Источник>Организации</Источник>
						<Приемник>Организации</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Пользователи --&gt; Пользователи</Наименование>
						<Порядок>300</Порядок>
						<Источник>Пользователи</Источник>
						<Приемник>Пользователи</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ФизическиеЛица --&gt; ФизическиеЛица</Наименование>
						<Порядок>400</Порядок>
						<Источник>ФизическиеЛица</Источник>
						<Приемник>ФизическиеЛица</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>500</Порядок>
			<Правило>
				<Код>КонтактнаяИнформация</Код>
				<Наименование>РегистрСведенийЗапись.КонтактнаяИнформация --&gt; РегистрСведенийЗапись.КонтактнаяИнформация</Наименование>
				<Порядок>100</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Приемник>РегистрСведенийЗапись.КонтактнаяИнформация</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой> Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Вид</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Вид" Вид="Измерение"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Вид;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ЗначениеПоУмолчанию --&gt; ЗначениеПоУмолчанию</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЗначениеПоУмолчанию" Вид="Ресурс" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Объект</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Объект" Вид="Измерение"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Поле1 --&gt; Поле1</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле1" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Поле10 --&gt; Поле10</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле10" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Поле2 --&gt; Поле2</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле2" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Поле3 --&gt; Поле3</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле3" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Поле4 --&gt; Поле4</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле4" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Поле5 --&gt; Поле5</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле5" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Поле6 --&gt; Поле6</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле6" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Поле7 --&gt; Поле7</Наименование>
						<Порядок>1300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле7" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Поле8 --&gt; Поле8</Наименование>
						<Порядок>1400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле8" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Поле9 --&gt; Поле9</Наименование>
						<Порядок>1500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле9" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Представление --&gt; Представление</Наименование>
						<Порядок>1600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Представление" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>1700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Тип" Вид="Измерение" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФИОФизЛиц</Код>
				<Наименование>РегистрСведенийЗапись.ФИОФизЛиц --&gt; РегистрСведенийЗапись.ФИОФизЛиц</Наименование>
				<Порядок>400</Порядок>
				<Приемник>РегистрСведенийЗапись.ФИОФизЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Имя</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Отчество</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<ПередВыгрузкой>Значение = Источник.Период</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Фамилия</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ФизЛицо</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ФизЛицо" Вид="Измерение"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ФизЛицо</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПаспортныеДанныеФизЛиц</Код>
				<Наименование>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц --&gt; РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</Наименование>
				<Порядок>500</Порядок>
				<Приемник>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; ДокументВид</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументВид" Вид="Ресурс" Тип="СправочникСсылка.ДокументыУдостоверяющиеЛичность"/>
						<КодПравилаКонвертации>ДокументыУдостоверяющиеЛичность                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ДокументДатаВыдачи --&gt; ДокументДатаВыдачи</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ДокументКемВыдан --&gt; ДокументКемВыдан</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументКемВыдан" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДокументКодПодразделения --&gt; ДокументКодПодразделения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументКодПодразделения" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДокументНомер --&gt; ДокументНомер</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументНомер" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ДокументСерия --&gt; ДокументСерия</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДокументСерия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; ФизЛицо</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ФизЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Правило Отключить="false">
			<Код>ФизическиеЛица</Код>
			<Наименование>ФизическиеЛица</Наименование>
			<Порядок>100</Порядок>
			<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
			<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
			<ПередОбработкойПравила>Запрос = Новый Запрос;
	
ВидУчета			= Параметры.ВыгружатьДанныеПоУчету;
Организация			= Параметры.Организация;
ГоловнаяОрганизация	= Параметры.ГоловнаяОрганизация;
Подразделение		= Параметры.Подразделение;
Должность			= Параметры.Должность;

ВидСравненияОрганизация		= Параметры.ВидСравненияОрганизация;
ВидСравненияПодразделение	= Параметры.ВидСравненияПодразделение;
ВидСравненияДолжность		= Параметры.ВидСравненияДолжность;

ОтборОрганизация	= Параметры.ОтборОрганизация;
ОтборПодразделение	= Параметры.ОтборПодразделение;
ОтборДолжность		= Параметры.ОтборДолжность;


Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " = &amp;ГоловнаяОрганизация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " &lt;&gt; &amp;ГоловнаяОрганизация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " В (&amp;ГоловнаяОрганизация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " НЕ В (&amp;ГоловнаяОрганизация)"
Иначе
	ЗапросВидСравненияГоловнаяОрганизация = "";
КонецЕсли; 

Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияОрганизация = " = &amp;Организация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияОрганизация = " &lt;&gt; &amp;Организация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияОрганизация = " В (&amp;Организация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияОрганизация = " НЕ В (&amp;Организация)"
Иначе
	ЗапросВидСравненияОрганизация = "";
КонецЕсли; 

Если ВидСравненияПодразделение = ВидСравнения.Равно Тогда
	ЗапросВидСравненияПодразделение = " = &amp;Подразделение" 
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияПодразделение = " &lt;&gt; &amp;Подразделение"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияПодразделение = " В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияПодразделение = " НЕ В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.ВИерархии Тогда
	ЗапросВидСравненияПодразделение = " В ИЕРАРХИИ (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.НеВИерархии Тогда
	ЗапросВидСравненияПодразделение = " НЕ В ИЕРАРХИИ (&amp;Подразделение)"
КонецЕсли; 


Если ВидСравненияДолжность = ВидСравнения.Равно Тогда
	ЗапросВидСравненияДолжность = " = &amp;Должность" 
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияДолжность = " &lt;&gt; &amp;Должность"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияДолжность = " В (&amp;Должность)"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияДолжность = " НЕ В (&amp;Должность)"
КонецЕсли; 

Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровСФизЛицами.ДоговорУправленческий);

Запрос.УстановитьПараметр("ДатаОкончания", ?(ДатаОкончания = Дата("00010101000000"), '00010101000000', КонецДня(ДатаОкончания)));
Запрос.УстановитьПараметр("Организация", Организация);
Запрос.УстановитьПараметр("Подразделение", Подразделение);
Запрос.УстановитьПараметр("Должность", Должность);
Запрос.УстановитьПараметр("ТекущийПользователь", ПараметрыСеанса.ТекущийПользователь);                   
Запрос.УстановитьПараметр("ГоловнаяОрганизация", ГоловнаяОрганизация);

Если ВидУчета = Перечисления.ВидыОрганизационнойСтруктурыПредприятия.ПоСтруктуреЮридическихЛиц Тогда		

	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Ссылка КАК Сотрудник
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	Если Константы.ИспользоватьОграниченияПравДоступаНаУровнеЗаписей.Получить() Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация В
		|		(ВЫБРАТЬ
		|			ВЫРАЗИТЬ(НастройкиПравДоступаПользователей.ОбъектДоступа КАК Справочник.Организации) КАК Организация
		|		ИЗ
		|			РегистрСведений.НастройкиПравДоступаПользователей КАК НастройкиПравДоступаПользователей
		|		ГДЕ
		|			НастройкиПравДоступаПользователей.ОбъектДоступа ССЫЛКА Справочник.Организации
		|			И НастройкиПравДоступаПользователей.ВидОбъектаДоступа = ЗНАЧЕНИЕ(Перечисление.ВидыОбъектовДоступа.Организации)
		|			И НастройкиПравДоступаПользователей.Пользователь В
		|				(ВЫБРАТЬ
		|					ГруппыПользователей.Ссылка
		|				ИЗ
		|					Справочник.ГруппыПользователей КАК ГруппыПользователей
		|				ГДЕ
		|					ГруппыПользователей.ПользователиГруппы.Пользователь = &amp;ТекущийПользователь)
		|			И НастройкиПравДоступаПользователей.Запись)";
	КонецЕсли;		
	ТекстЗапроса = ТекстЗапроса + "
	|	И СотрудникиОрганизаций.ВидДоговора &lt;&gt; &amp;ВидДоговора";
	Если ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация " + ЗапросВидСравненияОрганизация;
	КонецЕсли;	
	СЗСотрудники = Новый СписокЗначений;	
	Запрос.Текст = ТекстЗапроса;
	Выборка = Запрос.Выполнить().Выбрать();		
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Сотрудник);
	КонецЦикла;
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.Сотрудник.Физлицо КАК Физлицо
	|ИЗ";
	Если ОтборОрганизация И  ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
		
	ИначеЕсли ОтборОрганизация И ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборОрганизация И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Должность = &amp;Должность) КАК Работники";
	ИначеЕсли ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +") КАК Работники";		
	Иначе		
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники)) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.Сотрудник.ЭтоГруппа";	
	
Иначе	
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.ФизЛицо КАК ФизЛицо
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	
	СЗСотрудники = Новый СписокЗначений;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Физлицо);
	КонецЦикла;	
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.ФизЛицо КАК Физлицо
	|ИЗ";
	Если ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	Иначе
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.ФизЛицо.ЭтоГруппа";
	
КонецЕсли;

Запрос.УстановитьПараметр("ПарамСотрудники",СЗСотрудники);	


Запрос.Текст = ТекстЗапроса;

ВыборкаДанных = Новый ТаблицаЗначений;
	
ВыборкаДанных.Колонки.Добавить("Физлицо");

ВыборкаДанных.Колонки.Добавить("ДатаРождения");
ВыборкаДанных.Колонки.Добавить("Код");
ВыборкаДанных.Колонки.Добавить("Комментарий");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ОсновноеИзображение");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("Родитель");
ВыборкаДанных.Колонки.Добавить("ЭтоГруппа");

Выборка = Запрос.Выполнить().Выбрать();

Пока Выборка.Следующий() Цикл
	Если Выборка.Физлицо = Неопределено ИЛИ Выборка.Физлицо = Null Тогда
		Продолжить;
	КонецЕсли;
	
	СтрокаВыборкиДанных = ВыборкаДанных.Добавить();	
	СтрокаВыборкиДанных.Физлицо 			= Выборка.Физлицо;
	СтрокаВыборкиДанных.ДатаРождения		= Выборка.Физлицо.ДатаРождения;
	СтрокаВыборкиДанных.Код					= Выборка.Физлицо.Код;
	СтрокаВыборкиДанных.Комментарий			= Выборка.Физлицо.Комментарий;
	СтрокаВыборкиДанных.Наименование		= Выборка.Физлицо.Наименование;	
	СтрокаВыборкиДанных.ОсновноеИзображение = Выборка.Физлицо.ОсновноеИзображение;
	СтрокаВыборкиДанных.ПометкаУдаления		= Выборка.Физлицо.ПометкаУдаления;	
	СтрокаВыборкиДанных.Родитель			= Выборка.Физлицо.Родитель;	
	СтрокаВыборкиДанных.ЭтоГруппа			= Выборка.Физлицо.ЭтоГруппа;	
	
КонецЦикла;</ПередОбработкойПравила>
		</Правило>
		<Правило Отключить="false">
			<Код>ХранилищеДополнительнойИнформации</Код>
			<Наименование>ХранилищеДополнительнойИнформации</Наименование>
			<Порядок>200</Порядок>
			<КодПравилаКонвертации>ХранилищеДополнительнойИнформации                 </КодПравилаКонвертации>
			<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
			<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
		</Правило>
		<Правило Отключить="false">
			<Код>ФИОФизЛиц</Код>
			<Наименование>ФИОФизЛиц</Наименование>
			<Порядок>600</Порядок>
			<КодПравилаКонвертации>ФИОФизЛиц                                         </КодПравилаКонвертации>
			<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
			<ПередОбработкойПравила>Запрос = Новый Запрос;
	
ВидУчета			= Параметры.ВыгружатьДанныеПоУчету;
Организация			= Параметры.Организация;
ГоловнаяОрганизация	= Параметры.ГоловнаяОрганизация;
Подразделение		= Параметры.Подразделение;
Должность			= Параметры.Должность;

ВидСравненияОрганизация		= Параметры.ВидСравненияОрганизация;
ВидСравненияПодразделение	= Параметры.ВидСравненияПодразделение;
ВидСравненияДолжность		= Параметры.ВидСравненияДолжность;

ОтборОрганизация	= Параметры.ОтборОрганизация;
ОтборПодразделение	= Параметры.ОтборПодразделение;
ОтборДолжность		= Параметры.ОтборДолжность;


Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " = &amp;ГоловнаяОрганизация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " &lt;&gt; &amp;ГоловнаяОрганизация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " В (&amp;ГоловнаяОрганизация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " НЕ В (&amp;ГоловнаяОрганизация)"
Иначе
	ЗапросВидСравненияГоловнаяОрганизация = "";
КонецЕсли; 

Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияОрганизация = " = &amp;Организация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияОрганизация = " &lt;&gt; &amp;Организация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияОрганизация = " В (&amp;Организация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияОрганизация = " НЕ В (&amp;Организация)"
Иначе
	ЗапросВидСравненияОрганизация = "";
КонецЕсли; 


Если ВидСравненияПодразделение = ВидСравнения.Равно Тогда
	ЗапросВидСравненияПодразделение = " = &amp;Подразделение" 
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияПодразделение = " &lt;&gt; &amp;Подразделение"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияПодразделение = " В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияПодразделение = " НЕ В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.ВИерархии Тогда
	ЗапросВидСравненияПодразделение = " В ИЕРАРХИИ (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.НеВИерархии Тогда
	ЗапросВидСравненияПодразделение = " НЕ В ИЕРАРХИИ (&amp;Подразделение)"
КонецЕсли; 


Если ВидСравненияДолжность = ВидСравнения.Равно Тогда
	ЗапросВидСравненияДолжность = " = &amp;Должность" 
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияДолжность = " &lt;&gt; &amp;Должность"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияДолжность = " В (&amp;Должность)"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияДолжность = " НЕ В (&amp;Должность)"
КонецЕсли; 

Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровСФизЛицами.ДоговорУправленческий);

Запрос.УстановитьПараметр("ДатаОкончания", ?(ДатаОкончания = Дата("00010101000000"), '00010101000000', КонецДня(ДатаОкончания)));
Запрос.УстановитьПараметр("Организация", Организация);
Запрос.УстановитьПараметр("Подразделение", Подразделение);
Запрос.УстановитьПараметр("Должность", Должность);
Запрос.УстановитьПараметр("ТекущийПользователь", ПараметрыСеанса.ТекущийПользователь);                   
Запрос.УстановитьПараметр("ГоловнаяОрганизация", ГоловнаяОрганизация);


Если ВидУчета = Перечисления.ВидыОрганизационнойСтруктурыПредприятия.ПоСтруктуреЮридическихЛиц Тогда	
	
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Ссылка КАК Сотрудник
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	Если Константы.ИспользоватьОграниченияПравДоступаНаУровнеЗаписей.Получить() Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация В
		|		(ВЫБРАТЬ
		|			ВЫРАЗИТЬ(НастройкиПравДоступаПользователей.ОбъектДоступа КАК Справочник.Организации) КАК Организация
		|		ИЗ
		|			РегистрСведений.НастройкиПравДоступаПользователей КАК НастройкиПравДоступаПользователей
		|		ГДЕ
		|			НастройкиПравДоступаПользователей.ОбъектДоступа ССЫЛКА Справочник.Организации
		|			И НастройкиПравДоступаПользователей.ВидОбъектаДоступа = ЗНАЧЕНИЕ(Перечисление.ВидыОбъектовДоступа.Организации)
		|			И НастройкиПравДоступаПользователей.Пользователь В
		|				(ВЫБРАТЬ
		|					ГруппыПользователей.Ссылка
		|				ИЗ
		|					Справочник.ГруппыПользователей КАК ГруппыПользователей
		|				ГДЕ
		|					ГруппыПользователей.ПользователиГруппы.Пользователь = &amp;ТекущийПользователь)
		|			И НастройкиПравДоступаПользователей.Запись)";
	КонецЕсли;		
	ТекстЗапроса = ТекстЗапроса + "
	|	И СотрудникиОрганизаций.ВидДоговора &lt;&gt; &amp;ВидДоговора";
	Если ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация " + ЗапросВидСравненияОрганизация;
	КонецЕсли;	
	
	СЗСотрудники = Новый СписокЗначений;
	Запрос.Текст = ТекстЗапроса;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Сотрудник);
	КонецЦикла;
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.Сотрудник.Физлицо КАК Физлицо
	|ИЗ";
	Если ОтборОрганизация И  ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
		
	ИначеЕсли ОтборОрганизация И ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборОрганизация И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Должность = &amp;Должность) КАК Работники";
	ИначеЕсли ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +") КАК Работники";		
	Иначе		
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.Сотрудник.ЭтоГруппа";	
	
Иначе	
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Физлицо КАК Физлицо
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	
	СЗСотрудники = Новый СписокЗначений;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Физлицо);
	КонецЦикла;	
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.ФизЛицо КАК Физлицо
	|ИЗ";
	Если ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	Иначе
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.ФизЛицо.ЭтоГруппа";
	
КонецЕсли;

Запрос.УстановитьПараметр("ПарамСотрудники",СЗСотрудники);	

Запрос.Текст = ТекстЗапроса;

Выборка = Запрос.Выполнить().Выбрать();

СписокФизЛиц = Новый СписокЗначений;

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Если Не Выборка.ФизЛицо.ЭтоГруппа И Выборка.ФизЛицо&lt;&gt;Null Тогда
		СписокФизЛиц.Добавить(Выборка.ФизЛицо);
	КонецЕсли;
КонецЦикла;

ЗапросПоФизЛицам = Новый Запрос(
"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
|	ФИОФизЛиц.ФизЛицо,
|	ФИОФизЛиц.Фамилия,
|	ФИОФизЛиц.Имя,
|	ФИОФизЛиц.Отчество,
|	ФИОФизЛиц.Период
|ИЗ
|	РегистрСведений.ФИОФизЛиц КАК ФИОФизЛиц
|ГДЕ
|	ФИОФизЛиц.ФизЛицо В(&amp;СписокФизЛиц)
|	И ФИОФизЛиц.ФизЛицо ЕСТЬ НЕ NULL");

ЗапросПоФизЛицам.УстановитьПараметр("СписокФизЛиц", СписокФизЛиц);

ВыборкаДанных = ЗапросПоФизЛицам.Выполнить().Выгрузить();</ПередОбработкойПравила>
		</Правило>
		<Правило Отключить="false">
			<Код>КонтактнаяИнформация</Код>
			<Наименование>КонтактнаяИнформация</Наименование>
			<Порядок>700</Порядок>
			<КодПравилаКонвертации>КонтактнаяИнформация                              </КодПравилаКонвертации>
			<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
			<ПередОбработкойПравила>Запрос = Новый Запрос;
	
ВидУчета			= Параметры.ВыгружатьДанныеПоУчету;
Организация			= Параметры.Организация;
ГоловнаяОрганизация	= Параметры.ГоловнаяОрганизация;
Подразделение		= Параметры.Подразделение;
Должность			= Параметры.Должность;

ВидСравненияОрганизация		= Параметры.ВидСравненияОрганизация;
ВидСравненияПодразделение	= Параметры.ВидСравненияПодразделение;
ВидСравненияДолжность		= Параметры.ВидСравненияДолжность;

ОтборОрганизация	= Параметры.ОтборОрганизация;
ОтборПодразделение	= Параметры.ОтборПодразделение;
ОтборДолжность		= Параметры.ОтборДолжность;


Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " = &amp;ГоловнаяОрганизация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " &lt;&gt; &amp;ГоловнаяОрганизация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " В (&amp;ГоловнаяОрганизация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " НЕ В (&amp;ГоловнаяОрганизация)"
Иначе
	ЗапросВидСравненияГоловнаяОрганизация = "";
КонецЕсли; 

Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияОрганизация = " = &amp;Организация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияОрганизация = " &lt;&gt; &amp;Организация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияОрганизация = " В (&amp;Организация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияОрганизация = " НЕ В (&amp;Организация)"
Иначе
	ЗапросВидСравненияОрганизация = "";
КонецЕсли; 


Если ВидСравненияПодразделение = ВидСравнения.Равно Тогда
	ЗапросВидСравненияПодразделение = " = &amp;Подразделение" 
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияПодразделение = " &lt;&gt; &amp;Подразделение"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияПодразделение = " В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияПодразделение = " НЕ В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.ВИерархии Тогда
	ЗапросВидСравненияПодразделение = " В ИЕРАРХИИ (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.НеВИерархии Тогда
	ЗапросВидСравненияПодразделение = " НЕ В ИЕРАРХИИ (&amp;Подразделение)"
КонецЕсли; 


Если ВидСравненияДолжность = ВидСравнения.Равно Тогда
	ЗапросВидСравненияДолжность = " = &amp;Должность" 
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияДолжность = " &lt;&gt; &amp;Должность"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияДолжность = " В (&amp;Должность)"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияДолжность = " НЕ В (&amp;Должность)"
КонецЕсли; 

Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровСФизЛицами.ДоговорУправленческий);

Запрос.УстановитьПараметр("ДатаОкончания", ?(ДатаОкончания = Дата("00010101000000"), '00010101000000', КонецДня(ДатаОкончания)));
Запрос.УстановитьПараметр("Организация", Организация);
Запрос.УстановитьПараметр("Подразделение", Подразделение);
Запрос.УстановитьПараметр("Должность", Должность);
Запрос.УстановитьПараметр("ТекущийПользователь", ПараметрыСеанса.ТекущийПользователь);                   
Запрос.УстановитьПараметр("ГоловнаяОрганизация", ГоловнаяОрганизация);


Если ВидУчета = Перечисления.ВидыОрганизационнойСтруктурыПредприятия.ПоСтруктуреЮридическихЛиц Тогда	
	
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Ссылка КАК Сотрудник
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	Если Константы.ИспользоватьОграниченияПравДоступаНаУровнеЗаписей.Получить() Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация В
		|		(ВЫБРАТЬ
		|			ВЫРАЗИТЬ(НастройкиПравДоступаПользователей.ОбъектДоступа КАК Справочник.Организации) КАК Организация
		|		ИЗ
		|			РегистрСведений.НастройкиПравДоступаПользователей КАК НастройкиПравДоступаПользователей
		|		ГДЕ
		|			НастройкиПравДоступаПользователей.ОбъектДоступа ССЫЛКА Справочник.Организации
		|			И НастройкиПравДоступаПользователей.ВидОбъектаДоступа = ЗНАЧЕНИЕ(Перечисление.ВидыОбъектовДоступа.Организации)
		|			И НастройкиПравДоступаПользователей.Пользователь В
		|				(ВЫБРАТЬ
		|					ГруппыПользователей.Ссылка
		|				ИЗ
		|					Справочник.ГруппыПользователей КАК ГруппыПользователей
		|				ГДЕ
		|					ГруппыПользователей.ПользователиГруппы.Пользователь = &amp;ТекущийПользователь)
		|			И НастройкиПравДоступаПользователей.Запись)";
	КонецЕсли;		
	ТекстЗапроса = ТекстЗапроса + "
	|	И СотрудникиОрганизаций.ВидДоговора &lt;&gt; &amp;ВидДоговора";
	Если ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация " + ЗапросВидСравненияОрганизация;
	КонецЕсли;	
	
	
	СЗСотрудники = Новый СписокЗначений;
	Запрос.Текст = ТекстЗапроса;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Сотрудник);
	КонецЦикла;
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.Сотрудник.Физлицо КАК Физлицо
	|ИЗ";
	Если ОтборОрганизация И  ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
		
	ИначеЕсли ОтборОрганизация И ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборОрганизация И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Должность = &amp;Должность) КАК Работники";
	ИначеЕсли ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +") КАК Работники";		
	Иначе		
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.Сотрудник.ЭтоГруппа";	
	
Иначе	
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Физлицо КАК Физлицо
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность
	|	И СотрудникиОрганизаций.ВидДоговора = &amp;ВидДоговора";
	
	СЗСотрудники = Новый СписокЗначений;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Физлицо);
	КонецЦикла;	
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.ФизЛицо КАК Физлицо
	|ИЗ";
	Если ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	Иначе
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.ФизЛицо.ЭтоГруппа";
	
КонецЕсли;

Запрос.УстановитьПараметр("ПарамСотрудники",СЗСотрудники);	

ВыборкаДанных = Новый ТаблицаЗначений;
	
ВыборкаДанных.Колонки.Добавить("Физлицо");

ВыборкаДанных.Колонки.Добавить("ДатаРождения");
ВыборкаДанных.Колонки.Добавить("Код");
ВыборкаДанных.Колонки.Добавить("Комментарий");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ОсновноеИзображение");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("Родитель");
ВыборкаДанных.Колонки.Добавить("ЭтоГруппа");

Запрос.Текст = ТекстЗапроса;

СписокФизЛиц = Новый СписокЗначений;

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Если Не Выборка.ФизЛицо.ЭтоГруппа И Выборка.ФизЛицо&lt;&gt;Null Тогда
		СписокФизЛиц.Добавить(Выборка.ФизЛицо);
	КонецЕсли;
КонецЦикла;

ЗапросПоФизЛицам = Новый Запрос(
"ВЫБРАТЬ РАЗРЕШЕННЫЕ
|	КонтактнаяИнформация.Объект,
|	КонтактнаяИнформация.Тип,
|	КонтактнаяИнформация.Вид,
|	КонтактнаяИнформация.Представление,
|	КонтактнаяИнформация.Поле1,
|	КонтактнаяИнформация.Поле2,
|	КонтактнаяИнформация.Поле3,
|	КонтактнаяИнформация.Поле4,
|	КонтактнаяИнформация.Поле5,
|	КонтактнаяИнформация.Поле6,
|	КонтактнаяИнформация.Поле7,
|	КонтактнаяИнформация.Поле8,
|	КонтактнаяИнформация.Поле9,
|	КонтактнаяИнформация.Поле10,
|	КонтактнаяИнформация.Комментарий,
|	КонтактнаяИнформация.ЗначениеПоУмолчанию
|ИЗ
|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
|ГДЕ
|	КонтактнаяИнформация.Объект В(&amp;СписокФизЛиц)
|	И КонтактнаяИнформация.Тип ЕСТЬ НЕ NULL
|	И КонтактнаяИнформация.Вид ЕСТЬ НЕ NULL");


ЗапросПоФизЛицам.УстановитьПараметр("СписокФизЛиц", СписокФизЛиц);

ВыборкаДанных = ЗапросПоФизЛицам.Выполнить().Выгрузить();</ПередОбработкойПравила>
		</Правило>
		<Правило Отключить="false">
			<Код>ПаспортныеДанныеФизЛиц</Код>
			<Наименование>ПаспортныеДанныеФизЛиц</Наименование>
			<Порядок>800</Порядок>
			<КодПравилаКонвертации>ПаспортныеДанныеФизЛиц                            </КодПравилаКонвертации>
			<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
			<ПередОбработкойПравила>Запрос = Новый Запрос;
	
ВидУчета			= Параметры.ВыгружатьДанныеПоУчету;
Организация			= Параметры.Организация;
ГоловнаяОрганизация	= Параметры.ГоловнаяОрганизация;
Подразделение		= Параметры.Подразделение;
Должность			= Параметры.Должность;

ВидСравненияОрганизация		= Параметры.ВидСравненияОрганизация;
ВидСравненияПодразделение	= Параметры.ВидСравненияПодразделение;
ВидСравненияДолжность		= Параметры.ВидСравненияДолжность;

ОтборОрганизация	= Параметры.ОтборОрганизация;
ОтборПодразделение	= Параметры.ОтборПодразделение;
ОтборДолжность		= Параметры.ОтборДолжность;


Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " = &amp;ГоловнаяОрганизация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " &lt;&gt; &amp;ГоловнаяОрганизация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " В (&amp;ГоловнаяОрганизация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияГоловнаяОрганизация = " НЕ В (&amp;ГоловнаяОрганизация)"
Иначе
	ЗапросВидСравненияГоловнаяОрганизация = "";
КонецЕсли; 

Если ВидСравненияОрганизация = ВидСравнения.Равно Тогда
	ЗапросВидСравненияОрганизация = " = &amp;Организация" 
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияОрганизация = " &lt;&gt; &amp;Организация"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияОрганизация = " В (&amp;Организация)"
ИначеЕсли ВидСравненияОрганизация = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияОрганизация = " НЕ В (&amp;Организация)"
Иначе
	ЗапросВидСравненияОрганизация = "";
КонецЕсли; 


Если ВидСравненияПодразделение = ВидСравнения.Равно Тогда
	ЗапросВидСравненияПодразделение = " = &amp;Подразделение" 
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияПодразделение = " &lt;&gt; &amp;Подразделение"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияПодразделение = " В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияПодразделение = " НЕ В (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.ВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.ВИерархии Тогда
	ЗапросВидСравненияПодразделение = " В ИЕРАРХИИ (&amp;Подразделение)"
ИначеЕсли ВидСравненияПодразделение = ВидСравнения.НеВСпискеПоИерархии ИЛИ 
	ЗапросВидСравненияПодразделение = ВидСравнения.НеВИерархии Тогда
	ЗапросВидСравненияПодразделение = " НЕ В ИЕРАРХИИ (&amp;Подразделение)"
КонецЕсли; 


Если ВидСравненияДолжность = ВидСравнения.Равно Тогда
	ЗапросВидСравненияДолжность = " = &amp;Должность" 
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеРавно Тогда
	ЗапросВидСравненияДолжность = " &lt;&gt; &amp;Должность"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.ВСписке Тогда
	ЗапросВидСравненияДолжность = " В (&amp;Должность)"
ИначеЕсли ВидСравненияДолжность = ВидСравнения.НеВСписке Тогда
	ЗапросВидСравненияДолжность = " НЕ В (&amp;Должность)"
КонецЕсли; 

Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровСФизЛицами.ДоговорУправленческий);

Запрос.УстановитьПараметр("ДатаОкончания", ?(ДатаОкончания = Дата("00010101000000"), '00010101000000', КонецДня(ДатаОкончания)));
Запрос.УстановитьПараметр("Организация", Организация);
Запрос.УстановитьПараметр("Подразделение", Подразделение);
Запрос.УстановитьПараметр("Должность", Должность);
Запрос.УстановитьПараметр("ТекущийПользователь", ПараметрыСеанса.ТекущийПользователь);                   
Запрос.УстановитьПараметр("ГоловнаяОрганизация", ГоловнаяОрганизация);


Если ВидУчета = Перечисления.ВидыОрганизационнойСтруктурыПредприятия.ПоСтруктуреЮридическихЛиц Тогда	
	
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Ссылка КАК Сотрудник
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность";
	Если Константы.ИспользоватьОграниченияПравДоступаНаУровнеЗаписей.Получить() Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация В
		|		(ВЫБРАТЬ
		|			ВЫРАЗИТЬ(НастройкиПравДоступаПользователей.ОбъектДоступа КАК Справочник.Организации) КАК Организация
		|		ИЗ
		|			РегистрСведений.НастройкиПравДоступаПользователей КАК НастройкиПравДоступаПользователей
		|		ГДЕ
		|			НастройкиПравДоступаПользователей.ОбъектДоступа ССЫЛКА Справочник.Организации
		|			И НастройкиПравДоступаПользователей.ВидОбъектаДоступа = ЗНАЧЕНИЕ(Перечисление.ВидыОбъектовДоступа.Организации)
		|			И НастройкиПравДоступаПользователей.Пользователь В
		|				(ВЫБРАТЬ
		|					ГруппыПользователей.Ссылка
		|				ИЗ
		|					Справочник.ГруппыПользователей КАК ГруппыПользователей
		|				ГДЕ
		|					ГруппыПользователей.ПользователиГруппы.Пользователь = &amp;ТекущийПользователь)
		|			И НастройкиПравДоступаПользователей.Запись)";
	КонецЕсли;		
	ТекстЗапроса = ТекстЗапроса + "
	|	И СотрудникиОрганизаций.ВидДоговора &lt;&gt; &amp;ВидДоговора";
	Если ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|	И СотрудникиОрганизаций.Организация " + ЗапросВидСравненияОрганизация;
	КонецЕсли;	
	
	
	СЗСотрудники = Новый СписокЗначений;
	Запрос.Текст = ТекстЗапроса;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Сотрудник);
	КонецЦикла;
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.Сотрудник.Физлицо КАК Физлицо
	|ИЗ";
	Если ОтборОрганизация И  ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
		
	ИначеЕсли ОтборОрганизация И ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборОрганизация И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И ПодразделениеОрганизации"  + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Должность = &amp;Должность) КАК Работники";
	ИначеЕсли ОтборОрганизация Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) И Организация " + ЗапросВидСравненияОрганизация +") КАК Работники";		
	Иначе		
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.РаботникиОрганизаций.СрезПоследних(&amp;ДатаОкончания, Сотрудник В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.Сотрудник.ЭтоГруппа";	
	
Иначе	
	
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	СотрудникиОрганизаций.Физлицо КАК Физлицо
	|ИЗ
	|	Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
	|ГДЕ
	|	СотрудникиОрганизаций.Актуальность
	|	И СотрудникиОрганизаций.ВидДоговора = &amp;ВидДоговора";
	
	СЗСотрудники = Новый СписокЗначений;
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		СЗСотрудники.Добавить(Выборка.Физлицо);
	КонецЦикла;	
	
	Если СЗСотрудники.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;	
	
	ТекстЗапроса = 	
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	Работники.ФизЛицо КАК Физлицо
	|ИЗ";
	Если ОтборПодразделение И ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +" И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	ИначеЕсли ОтборПодразделение Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Подразделение " + ЗапросВидСравненияПодразделение +") КАК Работники";
	ИначеЕсли ОтборДолжность Тогда
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) И Должность "+ЗапросВидСравненияДолжность+ ") КАК Работники";
	Иначе
		ТекстЗапроса = ТекстЗапроса + "
		|РегистрСведений.Работники.СрезПоследних(&amp;ДатаОкончания, ФизЛицо В (&amp;ПарамСотрудники) ) КАК Работники";
	КонецЕсли;
	
	ТекстЗапроса = ТекстЗапроса + "
	|ГДЕ
	|	НЕ Работники.ФизЛицо.ЭтоГруппа";
	
КонецЕсли;

Запрос.УстановитьПараметр("ПарамСотрудники",СЗСотрудники);	

Запрос.Текст = ТекстЗапроса;

ВыборкаДанных = Новый ТаблицаЗначений;
	
ВыборкаДанных.Колонки.Добавить("Физлицо");

ВыборкаДанных.Колонки.Добавить("ДатаРождения");
ВыборкаДанных.Колонки.Добавить("Код");
ВыборкаДанных.Колонки.Добавить("Комментарий");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ОсновноеИзображение");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("Родитель");
ВыборкаДанных.Колонки.Добавить("ЭтоГруппа");

Запрос.Текст = ТекстЗапроса;

СписокФизЛиц = Новый СписокЗначений;

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Если Не Выборка.ФизЛицо.ЭтоГруппа И Выборка.ФизЛицо&lt;&gt;Null Тогда
		СписокФизЛиц.Добавить(Выборка.ФизЛицо);
	КонецЕсли;
КонецЦикла;

ЗапросПоФизЛицам = Новый Запрос(
"ВЫБРАТЬ РАЗРЕШЕННЫЕ
|	ПаспортныеДанныеФизЛиц.ФизЛицо,
|	ПаспортныеДанныеФизЛиц.Период,
|	ПаспортныеДанныеФизЛиц.ДокументВид,
|	ПаспортныеДанныеФизЛиц.ДокументСерия,
|	ПаспортныеДанныеФизЛиц.ДокументНомер,
|	ПаспортныеДанныеФизЛиц.ДокументДатаВыдачи,
|	ПаспортныеДанныеФизЛиц.ДокументКемВыдан,
|	ПаспортныеДанныеФизЛиц.ДокументКодПодразделения,
|	ПаспортныеДанныеФизЛиц.ДатаРегистрацииПоМестуЖительства
|ИЗ
|	РегистрСведений.ПаспортныеДанныеФизЛиц КАК ПаспортныеДанныеФизЛиц
|ГДЕ
|	ПаспортныеДанныеФизЛиц.ФизЛицо В (&amp;СписокФизЛиц)
|	И ПаспортныеДанныеФизЛиц.ФизЛицо ЕСТЬ НЕ NULL");


ЗапросПоФизЛицам.УстановитьПараметр("СписокФизЛиц", СписокФизЛиц);

ВыборкаДанных = ЗапросПоФизЛицам.Выполнить().Выгрузить();</ПередОбработкойПравила>
		</Правило>
		<Правило Отключить="false">
			<Код>ДокументыУдостоверяющиеЛичность</Код>
			<Наименование>ДокументыУдостоверяющиеЛичность</Наименование>
			<Порядок>900</Порядок>
			<КодПравилаКонвертации>ДокументыУдостоверяющиеЛичность                   </КодПравилаКонвертации>
			<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
			<ОбъектВыборки>СправочникСсылка.ДокументыУдостоверяющиеЛичность</ОбъектВыборки>
		</Правило>
		<Правило Отключить="false">
			<Код>ВидыКонтактнойИнформации</Код>
			<Наименование>ВидыКонтактнойИнформации</Наименование>
			<Порядок>1000</Порядок>
			<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
			<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
			<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
		</Правило>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>