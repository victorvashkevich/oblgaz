<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИнформационнаяБаза</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>РаботникиОрганизации</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодразделениеОрганизации</dataPath>
			<field>ПодразделениеОрганизации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение организации</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Физлицо</dataPath>
			<field>Физлицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физлицо</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Сотрудник</dataPath>
			<field>Сотрудник</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сотрудник</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ГоловнаяОрганизация</dataPath>
			<field>ГоловнаяОрганизация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Головная организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Должность</dataPath>
			<field>Должность</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Должность</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период регистрации</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИнформационнаяБаза</dataSource>
		<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК ПериодРегистрации
ПОМЕСТИТЬ Периоды
ИЗ
	РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
ГДЕ
	РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
;

ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	ОсновныеНачисленияРаботниковОрганизаций.ФизЛицо,
	ОсновныеНачисленияРаботниковОрганизаций.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизаций.ОбособленноеПодразделение КАК Организация,
	ОсновныеНачисленияРаботниковОрганизаций.Организация КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации, МЕСЯЦ) КАК ПериодРегистрации,
	ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяССылка) КАК ПодразделениеОрганизации,
	ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяССылка) КАК Должность
ПОМЕСТИТЬ НеСотрудники
ИЗ
	РегистрРасчета.ОсновныеНачисленияРаботниковОрганизаций КАК ОсновныеНачисленияРаботниковОрганизаций
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ОсновныеНачисленияРаботниковОрганизаций.Сотрудник = РаботникиОрганизаций.Сотрудник
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ОсновныеНачисленияРаботниковОрганизаций.Сотрудник = ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник
			И (ДоговорНаВыполнениеРаботСФизЛицом.Проведен)
ГДЕ
	РаботникиОрганизаций.Сотрудник ЕСТЬ NULL 
	И ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL 
	И ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ДополнительныеНачисленияРаботниковОрганизаций.ФизЛицо,
	ДополнительныеНачисленияРаботниковОрганизаций.Сотрудник,
	ДополнительныеНачисленияРаботниковОрганизаций.ОбособленноеПодразделение,
	ДополнительныеНачисленияРаботниковОрганизаций.Организация,
	НАЧАЛОПЕРИОДА(ДополнительныеНачисленияРаботниковОрганизаций.ПериодРегистрации, МЕСЯЦ),
	ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяССылка),
	ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяССылка)
ИЗ
	РегистрРасчета.ДополнительныеНачисленияРаботниковОрганизаций КАК ДополнительныеНачисленияРаботниковОрганизаций
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ДополнительныеНачисленияРаботниковОрганизаций.Сотрудник = РаботникиОрганизаций.Сотрудник
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ДополнительныеНачисленияРаботниковОрганизаций.Сотрудник = ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник
			И (ДоговорНаВыполнениеРаботСФизЛицом.Проведен)
ГДЕ
	РаботникиОрганизаций.Сотрудник ЕСТЬ NULL 
	И ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL 
	И ДополнительныеНачисленияРаботниковОрганизаций.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ДатыПоследнихДвижений.ПериодРегистрации КАК ПериодРегистрации,
	ДатыПоследнихДвижений.Физлицо КАК Физлицо,
	ДатыПоследнихДвижений.Организация КАК ГоловнаяОрганизация,
	ВЫБОР
		КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Работающие.ОбособленноеПодразделениеЗавершения
					ИНАЧЕ Работающие.ОбособленноеПодразделение
				КОНЕЦ
		КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Уволенные.ОбособленноеПодразделениеЗавершения
					ИНАЧЕ Уволенные.ОбособленноеПодразделение
				КОНЕЦ
		ИНАЧЕ NULL
	КОНЕЦ КАК Организация,
	ВЫБОР
		КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Работающие.ПодразделениеОрганизацииЗавершения
					ИНАЧЕ Работающие.ПодразделениеОрганизации
				КОНЕЦ
		КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Уволенные.ПодразделениеОрганизацииЗавершения
					ИНАЧЕ Уволенные.ПодразделениеОрганизации
				КОНЕЦ
		ИНАЧЕ NULL
	КОНЕЦ КАК Подразделение,
	ВЫБОР
		КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Работающие.ДолжностьЗавершения
					ИНАЧЕ Работающие.Должность
				КОНЕЦ
		КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
						ТОГДА Уволенные.ДолжностьЗавершения
					ИНАЧЕ Уволенные.Должность
				КОНЕЦ
		ИНАЧЕ NULL
	КОНЕЦ КАК Должность,
	ВЫБОР
		КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
							И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							И Работающие.ПричинаИзмененияСостоянияЗавершения = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
						ТОГДА Работающие.ПериодЗавершения
					ИНАЧЕ ДАТАВРЕМЯ(1, 1, 1)
				КОНЕЦ
		КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
				И Работающие.Сотрудник ЕСТЬ NULL 
			ТОГДА Уволенные.Период
		ИНАЧЕ ДАТАВРЕМЯ(1, 1, 1)
	КОНЕЦ КАК ДатаУвольнения,
	ВЫБОР
		КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
			ТОГДА Работающие.Сотрудник
		КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
				И Работающие.Сотрудник ЕСТЬ NULL 
			ТОГДА Уволенные.Сотрудник
		ИНАЧЕ NULL
	КОНЕЦ КАК Сотрудник
ПОМЕСТИТЬ Работники
ИЗ
	(ВЫБРАТЬ
		Периоды.ПериодРегистрации КАК ПериодРегистрации,
		МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
		РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
		РаботникиОрганизаций.Организация КАК Организация
	ИЗ
		Периоды КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
			ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
	ГДЕ
		РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
	{ГДЕ
		РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
	
	СГРУППИРОВАТЬ ПО
		Периоды.ПериодРегистрации,
		РаботникиОрганизаций.Сотрудник.Физлицо,
		РаботникиОрганизаций.Организация) КАК ДатыПоследнихДвижений
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК Работающие
		ПО ДатыПоследнихДвижений.Организация = Работающие.Организация
			И ДатыПоследнихДвижений.Физлицо = Работающие.Сотрудник.Физлицо
			И ДатыПоследнихДвижений.Период = Работающие.Период
			И (Работающие.ПричинаИзмененияСостояния &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение))
			И (Работающие.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство))
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК Уволенные
		ПО ДатыПоследнихДвижений.Организация = Уволенные.Организация
			И ДатыПоследнихДвижений.Физлицо = Уволенные.Сотрудник.Физлицо
			И ДатыПоследнихДвижений.Период = Уволенные.Период
			И (Уволенные.ПричинаИзмененияСостояния = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение))
			И (Уволенные.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство))
{ГДЕ
	Работающие.Сотрудник.Физлицо.* КАК Физлицо,
	ДатыПоследнихДвижений.ПериодРегистрации,
	ДатыПоследнихДвижений.Физлицо.*,
	ДатыПоследнихДвижений.Организация.*,
	(ВЫБОР
			КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Работающие.ОбособленноеПодразделениеЗавершения
						ИНАЧЕ Работающие.ОбособленноеПодразделение
					КОНЕЦ
			КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Уволенные.ОбособленноеПодразделениеЗавершения
						ИНАЧЕ Уволенные.ОбособленноеПодразделение
					КОНЕЦ
			ИНАЧЕ NULL
		КОНЕЦ).* КАК Организация,
	(ВЫБОР
			КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Работающие.ПодразделениеОрганизацииЗавершения
						ИНАЧЕ Работающие.ПодразделениеОрганизации
					КОНЕЦ
			КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Уволенные.ПодразделениеОрганизацииЗавершения
						ИНАЧЕ Уволенные.ПодразделениеОрганизации
					КОНЕЦ
			ИНАЧЕ NULL
		КОНЕЦ).* КАК ПодразделениеОрганизации,
	(ВЫБОР
			КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Работающие.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Работающие.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Работающие.ДолжностьЗавершения
						ИНАЧЕ Работающие.Должность
					КОНЕЦ
			КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА ВЫБОР
						КОГДА Уволенные.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ДатыПоследнихДвижений.ПериодРегистрации, МЕСЯЦ)
								И Уволенные.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
							ТОГДА Уволенные.ДолжностьЗавершения
						ИНАЧЕ Уволенные.Должность
					КОНЕЦ
			ИНАЧЕ NULL
		КОНЕЦ).* КАК Должность,
	(ВЫБОР
			КОГДА Работающие.Сотрудник ЕСТЬ НЕ NULL 
				ТОГДА Работающие.Сотрудник
			КОГДА Уволенные.Сотрудник ЕСТЬ НЕ NULL 
					И Работающие.Сотрудник ЕСТЬ NULL 
				ТОГДА Уволенные.Сотрудник
			ИНАЧЕ NULL
		КОНЕЦ).* КАК Сотрудник}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Договор.ПериодРегистрации,
	Договор.Организация,
	Договор.Физлицо,
	Договор.Должность КАК Должность,
	Договор.ГоловнаяОрганизация,
	ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации,
	ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник
ПОМЕСТИТЬ Договорники
ИЗ
	(ВЫБРАТЬ
		ДатыПоследнихДоговоров.ПериодРегистрации КАК ПериодРегистрации,
		ДатыПоследнихДоговоров.Организация КАК Организация,
		ДатыПоследнихДоговоров.Физлицо КАК Физлицо,
		ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяСсылка) КАК Должность,
		ВЫБОР
			КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
			ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
		КОНЕЦ КАК ГоловнаяОрганизация,
		МАКСИМУМ(ДоговорНаВыполнениеРаботСФизЛицом.Ссылка) КАК Ссылка
	ИЗ
		(ВЫБРАТЬ
			Договора.Физлицо КАК Физлицо,
			Договора.Организация КАК Организация,
			МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала,
			Периоды.ПериодРегистрации КАК ПериодРегистрации
		ИЗ
			Периоды КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
				ИЗ
					Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
				ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
					И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
				{ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация.*}) КАК Договора
				ПО (Договора.ДатаНачала &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
		
		СГРУППИРОВАТЬ ПО
			Договора.Физлицо,
			Договора.Организация,
			Периоды.ПериодРегистрации) КАК ДатыПоследнихДоговоров
			ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
			ПО ДатыПоследнихДоговоров.Физлицо = ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо
				И ДатыПоследнихДоговоров.Организация = ДоговорНаВыполнениеРаботСФизЛицом.Организация
				И ДатыПоследнихДоговоров.ДатаНачала = ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала
	{ГДЕ
		ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*,
		ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
		ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
		ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации.*}
	
	СГРУППИРОВАТЬ ПО
		ДатыПоследнихДоговоров.Физлицо,
		ДатыПоследнихДоговоров.Организация,
		ДатыПоследнихДоговоров.ПериодРегистрации,
		ВЫБОР
			КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
			ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
		КОНЕЦ) КАК Договор
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО Договор.Ссылка = ДоговорНаВыполнениеРаботСФизЛицом.Ссылка
{ГДЕ
	Договор.ПериодРегистрации,
	Договор.Организация.*,
	Договор.Физлицо.*,
	Договор.Должность.*,
	Договор.ГоловнаяОрганизация.*,
	ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации.*,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Работники.ПериодРегистрации КАК ПериодРегистрации,
	Работники.Физлицо КАК Физлицо,
	Работники.ГоловнаяОрганизация КАК ГоловнаяОрганизация,
	Работники.Организация КАК Организация,
	Работники.Подразделение КАК Подразделение,
	Работники.Должность КАК Должность,
	Работники.Сотрудник КАК Сотрудник
{ВЫБРАТЬ
	ПериодРегистрации,
	Физлицо.*,
	ГоловнаяОрганизация.*,
	Организация.*,
	Подразделение.* КАК ПодразделениеОрганизации,
	Должность.*,
	Сотрудник.*}
ИЗ
	Работники КАК Работники
		ЛЕВОЕ СОЕДИНЕНИЕ Договорники КАК Договорники
		ПО Работники.Физлицо = Договорники.Физлицо
			И Работники.ГоловнаяОрганизация = Договорники.ГоловнаяОрганизация
			И Работники.ПериодРегистрации = Договорники.ПериодРегистрации
ГДЕ
	(Работники.ДатаУвольнения = ДАТАВРЕМЯ(1, 1, 1)
			ИЛИ Работники.ДатаУвольнения &gt; Работники.ПериодРегистрации
			ИЛИ Договорники.Физлицо ЕСТЬ NULL 
			ИЛИ Договорники.ДатаОкончания &lt; Работники.ДатаУвольнения)
{ГДЕ
	Работники.ПериодРегистрации,
	Работники.Физлицо.*,
	Работники.ГоловнаяОрганизация.*,
	Работники.Организация.*,
	Работники.Подразделение.* КАК ПодразделениеОрганизации,
	Работники.Должность.*,
	Работники.Сотрудник.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	Договорники.ПериодРегистрации,
	Договорники.Физлицо,
	Договорники.ГоловнаяОрганизация,
	Договорники.Организация,
	Договорники.ПодразделениеОрганизации,
	Договорники.Должность,
	Договорники.Сотрудник
ИЗ
	Договорники КАК Договорники
		ЛЕВОЕ СОЕДИНЕНИЕ Работники КАК Работники
		ПО Договорники.Физлицо = Работники.Физлицо
			И Договорники.ГоловнаяОрганизация = Работники.ГоловнаяОрганизация
			И Договорники.ПериодРегистрации = Работники.ПериодРегистрации
ГДЕ
	(Договорники.ДатаОкончания &gt; Договорники.ПериодРегистрации
				И Работники.Физлицо ЕСТЬ NULL 
			ИЛИ Работники.Физлицо ЕСТЬ NULL 
			ИЛИ Договорники.ДатаОкончания &gt;= Работники.ДатаУвольнения
				И Работники.ДатаУвольнения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1))
{ГДЕ
	Договорники.ПериодРегистрации,
	Договорники.Физлицо.*,
	Договорники.ГоловнаяОрганизация.*,
	Договорники.Организация.*,
	Договорники.ПодразделениеОрганизации.*,
	Договорники.Должность.*,
	Договорники.Сотрудник.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	НеСотрудники.ПериодРегистрации,
	НеСотрудники.ФизЛицо,
	НеСотрудники.ГоловнаяОрганизация,
	НеСотрудники.Организация,
	НеСотрудники.ПодразделениеОрганизации,
	НеСотрудники.Должность,
	НеСотрудники.Сотрудник
ИЗ
	НеСотрудники КАК НеСотрудники
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ДолжностиОрганизаций)
	СПИСОК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ДолжностиОрганизаций)
			И (НЕ СвойстваОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ТИПЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯ РегистрСведений.ЗначенияСвойствОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Свойство
	ЗНАЧЕНИЕ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ДолжностиОрганизаций)
	СПИСОК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ДолжностиОрганизаций)
			И (НЕ КатегорииОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ЗНАЧЕНИЯ РегистрСведений.КатегорииОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	СПИСОК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ПодразделенияОрганизаций)
			И (НЕ СвойстваОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ТИПЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯ РегистрСведений.ЗначенияСвойствОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Свойство
	ЗНАЧЕНИЕ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.СотрудникиОрганизаций)
	СПИСОК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_СотрудникиОрганизаций)
			И (НЕ СвойстваОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ТИПЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯ РегистрСведений.ЗначенияСвойствОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Свойство
	ЗНАЧЕНИЕ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	СПИСОК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ПодразделенияОрганизаций)
			И (НЕ КатегорииОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ЗНАЧЕНИЯ РегистрСведений.КатегорииОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.СотрудникиОрганизаций)
	СПИСОК (ВЫБРАТЬ
			КатегорииОбъектов.Ссылка,
			" Дополнительная категория: " + КатегорииОбъектов.Наименование КАК Наименование
		ИЗ
			Справочник.КатегорииОбъектов КАК КатегорииОбъектов
		ГДЕ
			КатегорииОбъектов.НазначениеКатегории = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_СотрудникиОрганизаций)
			И (НЕ КатегорииОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ЗНАЧЕНИЯ РегистрСведений.КатегорииОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Категория }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ФизическиеЛица)
	СПИСОК (ВЫБРАТЬ
			СвойстваОбъектов.Ссылка,
			" Дополнительное свойство: " + СвойстваОбъектов.Наименование КАК Наименование,
			СвойстваОбъектов.ТипЗначения
		ИЗ
			ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		ГДЕ
			СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ФизическиеЛица)
			И (НЕ СвойстваОбъектов.ПометкаУдаления))
	ИДЕНТИФИКАТОР Ссылка
	ИМЯ Наименование
	ТИПЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯ РегистрСведений.ЗначенияСвойствОбъектов
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Свойство
	ЗНАЧЕНИЕ Значение }
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.ПодразделенияОрганизаций)
	СПИСОК (ВЫБРАТЬ
			"Ответственное лицо" КАК Идентификатор,
			"Ответственное лицо" КАК ИмяХарактеристики)
	ИДЕНТИФИКАТОР Идентификатор
	ИМЯ ИмяХарактеристики
	ЗНАЧЕНИЯ (ВЫБРАТЬ
			ОтветственныеЛицаСрезПоследних.СтруктурнаяЕдиница КАК Объект,
			"Ответственное лицо" КАК Идентификатор,
			ОтветственныеЛицаСрезПоследних.ФизическоеЛицо КАК Значение
		ИЗ
			РегистрСведений.ОтветственныеЛицаОрганизаций.СрезПоследних КАК ОтветственныеЛицаСрезПоследних
		ГДЕ
			ОтветственныеЛицаСрезПоследних.СтруктурнаяЕдиница ССЫЛКА Справочник.ПодразделенияОрганизаций
			И ОтветственныеЛицаСрезПоследних.ОтветственноеЛицо = ЗНАЧЕНИЕ(Перечисление.ОтветственныеЛицаОрганизаций.Руководитель))
	ОБЪЕКТ Объект
	ХАРАКТЕРИСТИКА Идентификатор
	ЗНАЧЕНИЕ Значение }</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<dataSet xsi:type="DataSetQuery">
		<name>ФИОРаботников</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период регистрации</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФизЛицо</dataPath>
			<field>ФизЛицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физ лицо</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФИО</dataPath>
			<field>ФИО</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>ФИО</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
		</field>
		<dataSource>ИнформационнаяБаза</dataSource>
		<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК ПериодРегистрации
ПОМЕСТИТЬ Периоды
ИЗ
	РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
ГДЕ
	РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
;
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ФИОФизЛиц.ФизЛицо КАК ФизЛицо,
	ДатыПоследнихДвижений.ПериодРегистрации КАК ПериодРегистрации,
	ФИОФизЛиц.Фамилия + " " + ФИОФизЛиц.Имя + " " + ФИОФизЛиц.Отчество КАК ФИО
{ВЫБРАТЬ
	ФИО,
	ФизЛицо.*,
	ПериодРегистрации}
ИЗ
	(ВЫБРАТЬ
		Периоды.ПериодРегистрации КАК ПериодРегистрации,
		ФИОФизЛиц.ФизЛицо КАК ФизЛицо,
		МАКСИМУМ(ФИОФизЛиц.Период) КАК Период
	ИЗ
		Периоды КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ФИОФизЛиц КАК ФИОФизЛиц
			ПО (КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ) &gt;= ФИОФизЛиц.Период
					И &amp;ЕстьГруппировкаПоПериодуРегистрации) ИЛИ (Не &amp;ЕстьГруппировкаПоПериодуРегистрации 
						И &amp;КонецПериода &gt;= ФИОФизЛиц.Период)
	{ГДЕ
		Периоды.ПериодРегистрации,
		ФИОФизЛиц.ФизЛицо.*}
	
	СГРУППИРОВАТЬ ПО
		Периоды.ПериодРегистрации,
		ФИОФизЛиц.ФизЛицо) КАК ДатыПоследнихДвижений
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ФИОФизЛиц КАК ФИОФизЛиц
		ПО ДатыПоследнихДвижений.ФизЛицо = ФИОФизЛиц.ФизЛицо
			И ДатыПоследнихДвижений.Период = ФИОФизЛиц.Период

{ГДЕ
	ФИОФизЛиц.ФизЛицо.*,
	ДатыПоследнихДвижений.ПериодРегистрации,
	(ФИОФизЛиц.Фамилия + " " + ФИОФизЛиц.Имя + " " + ФИОФизЛиц.Отчество) КАК ФИО}</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<dataSet xsi:type="DataSetQuery">
		<name>Выплаты</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ГоловнаяОрганизация</dataPath>
			<field>ГоловнаяОрганизация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Головная организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Месяц начисления</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Регистратор</dataPath>
			<field>Регистратор</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Результат</dataPath>
			<field>Результат</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма выплаты</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФизЛицо</dataPath>
			<field>ФизЛицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физ лицо</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Ведомость</dataPath>
			<field>Ведомость</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ведомость</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Банк</dataPath>
			<field>Банк</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Банк</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИнформационнаяБаза</dataSource>
		<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо КАК ФизЛицо,
	ВзаиморасчетыСРаботникамиОрганизаций.Организация КАК Организация,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
		ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ КАК ГоловнаяОрганизация,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ) КАК ПериодРегистрации,
	СУММА(ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов) КАК Результат,
	ВзаиморасчетыСРаботникамиОрганизаций.Регистратор КАК Регистратор,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость КАК Ведомость,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Банк КАК ВедомостьБанк
{ВЫБРАТЬ
	ФизЛицо.*,
	Организация.*,
	ПериодРегистрации,
	Результат,
	Регистратор.*,
	ГоловнаяОрганизация.*,
	Ведомость.*,
	ВедомостьБанк.* КАК Банк}
ИЗ
	РегистрНакопления.ВзаиморасчетыСРаботникамиОрганизаций КАК ВзаиморасчетыСРаботникамиОрганизаций
ГДЕ
	ВзаиморасчетыСРаботникамиОрганизаций.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
	И ВзаиморасчетыСРаботникамиОрганизаций.Период МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов &lt;&gt; 0
	И ВзаиморасчетыСРаботникамиОрганизаций.СпособВыплаты = ЗНАЧЕНИЕ(Перечисление.СпособыВыплатыЗарплаты.ЧерезБанк)
{ГДЕ
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо.*,
	(ВЫБОР
			КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
			ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
		КОНЕЦ).* КАК ГоловнаяОрганизация,
	ВзаиморасчетыСРаботникамиОрганизаций.Организация.*,
	(НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ)) КАК ПериодРегистрации,
	ВзаиморасчетыСРаботникамиОрганизаций.СуммаВзаиморасчетов КАК Результат,
	ВзаиморасчетыСРаботникамиОрганизаций.Регистратор.*,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.*,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Банк.* КАК Банк}

СГРУППИРОВАТЬ ПО
	ВзаиморасчетыСРаботникамиОрганизаций.Физлицо,
	ВзаиморасчетыСРаботникамиОрганизаций.Организация,
	ВЫБОР
		КОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ВзаиморасчетыСРаботникамиОрганизаций.Организация
		ИНАЧЕ ВзаиморасчетыСРаботникамиОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	НАЧАЛОПЕРИОДА(ВзаиморасчетыСРаботникамиОрганизаций.Период, МЕСЯЦ),
	ВзаиморасчетыСРаботникамиОрганизаций.Регистратор,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость,
	ВзаиморасчетыСРаботникамиОрганизаций.Ведомость.Банк</query>
	</dataSet>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ФИОРаботников</destinationDataSet>
		<sourceExpression>ФизЛицо</sourceExpression>
		<destinationExpression>ФизЛицо</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>РаботникиОрганизации</sourceDataSet>
		<destinationDataSet>ФИОРаботников</destinationDataSet>
		<sourceExpression>ПериодРегистрации</sourceExpression>
		<destinationExpression>ПериодРегистрации</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>Выплаты</sourceDataSet>
		<destinationDataSet>РаботникиОрганизации</destinationDataSet>
		<sourceExpression>ПериодРегистрации</sourceExpression>
		<destinationExpression>ПериодРегистрации</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>Выплаты</sourceDataSet>
		<destinationDataSet>РаботникиОрганизации</destinationDataSet>
		<sourceExpression>ФизЛицо</sourceExpression>
		<destinationExpression>Физлицо</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>Выплаты</sourceDataSet>
		<destinationDataSet>РаботникиОрганизации</destinationDataSet>
		<sourceExpression>ГоловнаяОрганизация</sourceExpression>
		<destinationExpression>ГоловнаяОрганизация</destinationExpression>
	</dataSetLink>
	<calculatedField>
		<dataPath>ФИО</dataPath>
		<expression>ВЫБОР КОГДА ФИО ЕСТЬ NULL ТОГДА Сотрудник ИНАЧЕ ФИО КОНЕЦ </expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>ФИО</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<totalField>
		<dataPath>Результат</dataPath>
		<expression>Сумма(Результат)</expression>
	</totalField>
	<totalField>
		<dataPath>ФИО</dataPath>
		<expression>Максимум(ФИО)</expression>
	</totalField>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ЕстьГруппировкаПоПериодуРегистрации</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть группировка по периоду регистрации</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Результат</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Организация</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Организации.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПодразделениеОрганизации</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ПодразделенияОрганизаций.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Сотрудник</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.СотрудникиОрганизаций.</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Сотрудник.ВидДоговора</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Должность</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Должность.КатегорияСтатистическогоУчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:viewMode>Normal</dcsset:viewMode>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item>
					<dcscor:parameter>КонецПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item>
					<dcscor:parameter>НачалоПериода</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item>
					<dcscor:parameter>ЕстьГруппировкаПоПериодуРегистрации</dcscor:parameter>
					<dcscor:value xsi:type="xs:boolean">false</dcscor:value>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">Begin</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ТипЗаголовкаПолей</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionFieldsTitleType">Short</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Предстоящие выплаты в банк</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Банк</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Сотрудник</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>