<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИнформационнаяБаза</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetUnion">
		<name>ОбъеденениеУчетов</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидРасчета</dataPath>
			<field>ВидРасчета</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид расчета</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Выработка</dataPath>
			<field>Выработка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Выработка</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Начислено</dataPath>
			<field>Начислено</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Начислено</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодРегистрации</dataPath>
			<field>ПериодРегистрации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Месяц начисления</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Сотрудник</dataPath>
			<field>Сотрудник</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сотрудник</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>УчтеноПриРасчете</dataPath>
			<field>УчтеноПриРасчете</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Учтено при расчете</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Должность</dataPath>
			<field>Должность</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Должность</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Подразделение</dataPath>
			<field>Подразделение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФизЛицо</dataPath>
			<field>ФизЛицо</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Физ лицо</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодразделениеОрганизации</dataPath>
			<field>ПодразделениеОрганизации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение организации</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Учет</dataPath>
			<field>Учет</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Учет</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>70</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
			<availableValue>
				<value xsi:type="xs:string">УпрУчет</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Управленческий учет</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
			<availableValue>
				<value xsi:type="xs:string">РеглУчет</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Регламентированный учет</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ГоловнаяОрганизация</dataPath>
			<field>ГоловнаяОрганизация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Головная организация</v8:content>
				</v8:item>
			</title>
		</field>
		<item xsi:type="DataSetQuery">
			<name>РегламентированныйУчет</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Выработка</dataPath>
				<field>Выработка</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Выработка</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Начислено</dataPath>
				<field>Начислено</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Начислено</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Сотрудник</dataPath>
				<field>Сотрудник</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Сотрудник</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>УчтеноПриРасчете</dataPath>
				<field>УчтеноПриРасчете</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Учтено при расчете</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Должность</dataPath>
				<field>Должность</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Должность</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Подразделение</dataPath>
				<field>Подразделение</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Подразделение</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Подразделение организации</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Учет</dataPath>
				<field>Учет</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Учет</v8:content>
					</v8:item>
				</title>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК ПериодРегистрации
ПОМЕСТИТЬ Периоды
ИЗ
	РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
ГДЕ
	РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
;

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПоследниеДаты.ПериодРегистрации КАК ПериодРегистрации,
	РаботникиОрганизаций.Сотрудник КАК Сотрудник,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ОбособленноеПодразделениеЗавершения
		ИНАЧЕ РаботникиОрганизаций.ОбособленноеПодразделение
	КОНЕЦ КАК Организация,
	РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения
		ИНАЧЕ РаботникиОрганизаций.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизации,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ДолжностьЗавершения
		ИНАЧЕ РаботникиОрганизаций.Должность
	КОНЕЦ КАК Должность,
	РаботникиОрганизаций.Организация КАК ГоловнаяОрганизация,
	ВЫБОР
		КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
				И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения
		ИНАЧЕ РаботникиОрганизаций.ПодразделениеОрганизации
	КОНЕЦ КАК ПодразделениеОрганизацииПредставление
ПОМЕСТИТЬ Сотрудники
ИЗ
	(ВЫБРАТЬ
		ДатыПоследнихДвижений.ПериодРегистрации КАК ПериодРегистрации,
		ДатыПоследнихДвижений.Период КАК Период,
		РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
		РаботникиОрганизаций.Организация КАК Организация,
		ДатыПоследнихДвижений.ДатаНачала КАК ДатаНачала,
		КОЛИЧЕСТВО(РаботникиОрганизаций.Период) КАК КолВоДвижений
	ИЗ
		(ВЫБРАТЬ
			Периоды.ПериодРегистрации КАК ПериодРегистрации,
			МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
			РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
			РаботникиОрганизаций.Организация КАК Организация,
			МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала
		ИЗ
			Периоды КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
				ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
				ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
				ИЗ
					Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
				ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
					И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
				{ГДЕ
					ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
					ДоговорНаВыполнениеРаботСФизЛицом.Организация.*}) КАК Договора
				ПО (КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ) &gt;= Договора.ДатаНачала)
					И (ВЫБОР
						КОГДА Договора.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
							ТОГДА Договора.Организация
						ИНАЧЕ Договора.Организация.ГоловнаяОрганизация
					КОНЕЦ = РаботникиОрганизаций.Организация)
					И (Договора.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо)
		ГДЕ
			РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
		{ГДЕ
			РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
		
		СГРУППИРОВАТЬ ПО
			Периоды.ПериодРегистрации,
			РаботникиОрганизаций.Сотрудник.Физлицо,
			РаботникиОрганизаций.Организация) КАК ДатыПоследнихДвижений
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
			ПО ДатыПоследнихДвижений.Организация = РаботникиОрганизаций.Организация
				И ДатыПоследнихДвижений.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
				И ДатыПоследнихДвижений.Период = РаботникиОрганизаций.Период
	ГДЕ
		РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
	{ГДЕ
		РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
	
	СГРУППИРОВАТЬ ПО
		ДатыПоследнихДвижений.ПериодРегистрации,
		РаботникиОрганизаций.Сотрудник.Физлицо,
		РаботникиОрганизаций.Организация,
		ДатыПоследнихДвижений.ДатаНачала,
		ДатыПоследнихДвижений.Период) КАК ПоследниеДаты
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ПоследниеДаты.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
			И ПоследниеДаты.Организация = РаботникиОрганизаций.Организация
			И ПоследниеДаты.Период = РаботникиОрганизаций.Период
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ПоследниеДаты.ДатаНачала = ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала
			И ПоследниеДаты.Физлицо = ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо
			И (ПоследниеДаты.Организация = ВЫБОР
				КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
				ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
			КОНЕЦ)
ГДЕ
	РаботникиОрганизаций.Сотрудник.ВидЗанятости &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
	И (ПоследниеДаты.КолВоДвижений = 2
				И РаботникиОрганизаций.ПричинаИзмененияСостояния &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
			ИЛИ ПоследниеДаты.КолВоДвижений = 1)
	И ВЫБОР
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостояния = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.Период &lt;= ПоследниеДаты.ПериодРегистрации
					И (НЕ ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL )
				ТОГДА ЛОЖЬ
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.ПериодЗавершения &lt;= ПоследниеДаты.ПериодРегистрации
					И (НЕ ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник ЕСТЬ NULL )
				ТОГДА ЛОЖЬ
			ИНАЧЕ ИСТИНА
		КОНЕЦ
{ГДЕ
	РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ОбособленноеПодразделениеЗавершения
			ИНАЧЕ РаботникиОрганизаций.ОбособленноеПодразделение
		КОНЕЦ).* КАК Организация,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ПодразделениеОрганизацииЗавершения
			ИНАЧЕ РаботникиОрганизаций.ПодразделениеОрганизации
		КОНЕЦ).* КАК ПодразделениеОрганизации,
	(ВЫБОР
			КОГДА РаботникиОрганизаций.ПериодЗавершения &lt;= КОНЕЦПЕРИОДА(ПоследниеДаты.ПериодРегистрации, МЕСЯЦ)
					И РаботникиОрганизаций.ПериодЗавершения &lt;&gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
				ТОГДА РаботникиОрганизаций.ДолжностьЗавершения
			ИНАЧЕ РаботникиОрганизаций.Должность
		КОНЕЦ).* КАК Должность,
	РаботникиОрганизаций.Организация.* КАК ГоловнаяОрганизация,
	РаботникиОрганизаций.Сотрудник.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ДатыПоследнихДоговоров.ПериодРегистрации,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник,
	ДатыПоследнихДоговоров.Организация,
	ДатыПоследнихДоговоров.Физлицо,
	МАКСИМУМ(ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации),
	ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяСсылка),
	ВЫБОР
		КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
		ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
	КОНЕЦ,
	ВЫБОР
		КОГДА МАКСИМУМ(ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации) ЕСТЬ NULL 
			ТОГДА ""
		ИНАЧЕ МАКСИМУМ(ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации.Наименование)
	КОНЕЦ
ИЗ
	(ВЫБРАТЬ
		Договора.Физлицо КАК Физлицо,
		Договора.Организация КАК Организация,
		МАКСИМУМ(Договора.ДатаНачала) КАК ДатаНачала,
		Периоды.ПериодРегистрации КАК ПериодРегистрации,
		МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период
	ИЗ
		Периоды КАК Периоды
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
				ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо КАК Физлицо,
				ДоговорНаВыполнениеРаботСФизЛицом.Организация КАК Организация,
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала КАК ДатаНачала,
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаОкончания КАК ДатаОкончания
			ИЗ
				Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
			ГДЕ
				ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала &lt;= &amp;КонецПериода
				И ДоговорНаВыполнениеРаботСФизЛицом.Проведен
			{ГДЕ
				ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
				ДоговорНаВыполнениеРаботСФизЛицом.Организация.*}) КАК Договора
			ПО (Договора.ДатаНачала &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
			ПО (Договора.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо)
				И (ВЫБОР
					КОГДА Договора.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
						ТОГДА Договора.Организация
					ИНАЧЕ Договора.Организация.ГоловнаяОрганизация
				КОНЕЦ = РаботникиОрганизаций.Организация)
				И (КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ) &gt;= РаботникиОрганизаций.Период)
	
	СГРУППИРОВАТЬ ПО
		Договора.Физлицо,
		Договора.Организация,
		Периоды.ПериодРегистрации) КАК ДатыПоследнихДоговоров
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ДоговорНаВыполнениеРаботСФизЛицом КАК ДоговорНаВыполнениеРаботСФизЛицом
		ПО ДатыПоследнихДоговоров.Физлицо = ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо
			И ДатыПоследнихДоговоров.Организация = ДоговорНаВыполнениеРаботСФизЛицом.Организация
			И ДатыПоследнихДоговоров.ДатаНачала = ДоговорНаВыполнениеРаботСФизЛицом.ДатаНачала
			И (ДоговорНаВыполнениеРаботСФизЛицом.Проведен)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		ПО ДатыПоследнихДоговоров.Физлицо = РаботникиОрганизаций.Сотрудник.Физлицо
			И ДатыПоследнихДоговоров.Период = РаботникиОрганизаций.Период
			И (ВЫБОР
				КОГДА ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
					ТОГДА ДатыПоследнихДоговоров.Организация
				ИНАЧЕ ДатыПоследнихДоговоров.Организация.ГоловнаяОрганизация
			КОНЕЦ = РаботникиОрганизаций.Организация)
ГДЕ
	ВЫБОР
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостояния = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.Период &lt;= ДатыПоследнихДоговоров.ПериодРегистрации
				ТОГДА ИСТИНА
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения = ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.ПериодЗавершения &lt;= ДатыПоследнихДоговоров.ПериодРегистрации
				ТОГДА ИСТИНА
			КОГДА РаботникиОрганизаций.ПричинаИзмененияСостоянияЗавершения ЕСТЬ NULL 
				ТОГДА ИСТИНА
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ
{ГДЕ
	ДоговорНаВыполнениеРаботСФизЛицом.Организация.*,
	ДоговорНаВыполнениеРаботСФизЛицом.ФизЛицо.*,
	ДоговорНаВыполнениеРаботСФизЛицом.ПодразделениеОрганизации.*,
	(ЗНАЧЕНИЕ(Справочник.ДолжностиОрганизаций.ПустаяСсылка)).* КАК Должность,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.*}

СГРУППИРОВАТЬ ПО
	ДатыПоследнихДоговоров.Физлицо,
	ДатыПоследнихДоговоров.Организация,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник.ВидДоговора,
	ДоговорНаВыполнениеРаботСФизЛицом.Сотрудник,
	ДатыПоследнихДоговоров.ПериодРегистрации,
	ВЫБОР
		КОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА ДоговорНаВыполнениеРаботСФизЛицом.Организация
		ИНАЧЕ ДоговорНаВыполнениеРаботСФизЛицом.Организация.ГоловнаяОрганизация
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОсновныеНачисленияРаботниковОрганизаций.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизаций.Организация,
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета,
	СУММА(ФактическаяВыработкаРаботниковОрганизаций.Выработка) КАК Выработка,
	ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации
ПОМЕСТИТЬ ВыработкаПоПериодуДействия
ИЗ
	РегистрРасчета.ОсновныеНачисленияРаботниковОрганизаций КАК ОсновныеНачисленияРаботниковОрганизаций
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ФактическаяВыработкаРаботниковОрганизаций КАК ФактическаяВыработкаРаботниковОрганизаций
		ПО ((ФактическаяВыработкаРаботниковОрганизаций.СпособВводаДанных = ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И (ОсновныеНачисленияРаботниковОрганизаций.ПериодДействияНачало &lt;= ФактическаяВыработкаРаботниковОрганизаций.Период
						И ОсновныеНачисленияРаботниковОрганизаций.ПериодДействияКонец &gt;= ФактическаяВыработкаРаботниковОрганизаций.Период)
				ИЛИ ФактическаяВыработкаРаботниковОрганизаций.СпособВводаДанных &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И ОсновныеНачисленияРаботниковОрганизаций.ПериодДействия = ФактическаяВыработкаРаботниковОрганизаций.Период)
				И ОсновныеНачисленияРаботниковОрганизаций.Сотрудник = ФактическаяВыработкаРаботниковОрганизаций.Сотрудник
				И ОсновныеНачисленияРаботниковОрганизаций.Организация = ФактическаяВыработкаРаботниковОрганизаций.Организация)
ГДЕ
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	ОсновныеНачисленияРаботниковОрганизаций.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета,
	ОсновныеНачисленияРаботниковОрганизаций.Организация,
	ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОсновныеНачисленияРаботниковОрганизаций.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизаций.Организация,
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета,
	ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации,
	СУММА(ОсновныеНачисленияРаботниковОрганизаций.Результат) КАК Результат
ПОМЕСТИТЬ ВыработкаПоНачислениям
ИЗ
	РегистрРасчета.ОсновныеНачисленияРаботниковОрганизаций КАК ОсновныеНачисленияРаботниковОрганизаций
ГДЕ
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	ОсновныеНачисленияРаботниковОрганизаций.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизаций.ВидРасчета,
	ОсновныеНачисленияРаботниковОрганизаций.Организация,
	ОсновныеНачисленияРаботниковОрганизаций.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Организация,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ВидРасчета,
	СУММА(ФактическаяВыработкаРаботниковОрганизаций.Выработка) КАК Выработка,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодРегистрации
ПОМЕСТИТЬ ВыработкаПоФактическомуПериодуДействия
ИЗ
	РегистрРасчета.ОсновныеНачисленияРаботниковОрганизаций.ФактическийПериодДействия КАК ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ФактическаяВыработкаРаботниковОрганизаций КАК ФактическаяВыработкаРаботниковОрганизаций
		ПО ((ФактическаяВыработкаРаботниковОрганизаций.СпособВводаДанных = ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И (ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодДействияНачало &lt;= ФактическаяВыработкаРаботниковОрганизаций.Период
						И ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодДействияКонец &gt;= ФактическаяВыработкаРаботниковОрганизаций.Период)
				ИЛИ ФактическаяВыработкаРаботниковОрганизаций.СпособВводаДанных &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодДействия = ФактическаяВыработкаРаботниковОрганизаций.Период)
				И ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Сотрудник = ФактическаяВыработкаРаботниковОрганизаций.Сотрудник
				И ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Организация = ФактическаяВыработкаРаботниковОрганизаций.Организация)
ГДЕ
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Сотрудник,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ВидРасчета,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.Организация,
	ОсновныеНачисленияРаботниковОрганизацийФактическийПериодДействия.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВыработкаПоНачислениям.Сотрудник КАК Сотрудник,
	ВыработкаПоНачислениям.Организация КАК ГоловнаяОрганизация,
	ВыработкаПоНачислениям.ВидРасчета КАК ВидРасчета,
	ВыработкаПоНачислениям.ПериодРегистрации КАК ПериодРегистрации,
	СУММА(ВыработкаПоНачислениям.Результат) КАК Начислено,
	СУММА(ВыработкаПоПериодуДействия.Выработка) КАК Выработка,
	СУММА(ВыработкаПоФактическомуПериодуДействия.Выработка) КАК УчтеноПриРасчете,
	Сотрудники.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	Сотрудники.Должность КАК Должность,
	Сотрудники.Организация КАК Организация,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение КАК Подразделение,
	"РеглУчет" КАК Учет
{ВЫБРАТЬ
	Сотрудник.*,
	ГоловнаяОрганизация.*,
	ВидРасчета.*,
	ПериодРегистрации,
	Начислено,
	Выработка,
	УчтеноПриРасчете,
	ГоловнаяОрганизация.*,
	ПодразделениеОрганизации.*,
	Должность.*,
	Организация.*,
	Подразделение.*,
	Учет}
ИЗ
	ВыработкаПоНачислениям КАК ВыработкаПоНачислениям
		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаПоПериодуДействия КАК ВыработкаПоПериодуДействия
		ПО ВыработкаПоНачислениям.Сотрудник = ВыработкаПоПериодуДействия.Сотрудник
			И ВыработкаПоНачислениям.Организация = ВыработкаПоПериодуДействия.Организация
			И ВыработкаПоНачислениям.ВидРасчета = ВыработкаПоПериодуДействия.ВидРасчета
			И ВыработкаПоНачислениям.ПериодРегистрации = ВыработкаПоПериодуДействия.ПериодРегистрации
		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаПоФактическомуПериодуДействия КАК ВыработкаПоФактическомуПериодуДействия
		ПО ВыработкаПоНачислениям.Сотрудник = ВыработкаПоФактическомуПериодуДействия.Сотрудник
			И ВыработкаПоНачислениям.Организация = ВыработкаПоФактическомуПериодуДействия.Организация
			И ВыработкаПоНачислениям.ВидРасчета = ВыработкаПоФактическомуПериодуДействия.ВидРасчета
			И ВыработкаПоНачислениям.ПериодРегистрации = ВыработкаПоФактическомуПериодуДействия.ПериодРегистрации
		ЛЕВОЕ СОЕДИНЕНИЕ Сотрудники КАК Сотрудники
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
			ПО Сотрудники.ПодразделениеОрганизации = СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации
				И Сотрудники.Организация = СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
		ПО ВыработкаПоНачислениям.Сотрудник = Сотрудники.Сотрудник
			И ВыработкаПоНачислениям.ПериодРегистрации = Сотрудники.ПериодРегистрации
			И ВыработкаПоНачислениям.Организация = Сотрудники.Организация
{ГДЕ
	ВыработкаПоНачислениям.Сотрудник.*,
	ВыработкаПоНачислениям.Организация.*,
	ВыработкаПоНачислениям.ВидРасчета.*,
	ВыработкаПоНачислениям.ПериодРегистрации,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение.*,
	Сотрудники.ГоловнаяОрганизация.*,
	Сотрудники.ПодразделениеОрганизации.*,
	Сотрудники.Должность.*,
	Сотрудники.Организация.*,
	ВыработкаПоНачислениям.Результат КАК Начислено,
	ВыработкаПоПериодуДействия.Выработка КАК Выработка,
	ВыработкаПоФактическомуПериодуДействия.Выработка КАК УчтеноПриРасчете,
	("РеглУчет") КАК Учет}

СГРУППИРОВАТЬ ПО
	ВыработкаПоНачислениям.Сотрудник,
	ВыработкаПоНачислениям.Организация,
	ВыработкаПоНачислениям.ВидРасчета,
	ВыработкаПоНачислениям.ПериодРегистрации,
	Сотрудники.ПодразделениеОрганизации,
	Сотрудники.Должность,
	Сотрудники.Организация,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение</query>
			<autoFillFields>false</autoFillFields>
		</item>
		<item xsi:type="DataSetQuery">
			<name>УправленчискийУчет</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидРасчета</dataPath>
				<field>ВидРасчета</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид расчета</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Выработка</dataPath>
				<field>Выработка</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Выработка</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Начислено</dataPath>
				<field>Начислено</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Начислено</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПериодРегистрации</dataPath>
				<field>ПериодРегистрации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Период регистрации</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:periodNumber>1</dcscom:periodNumber>
					<dcscom:periodType>Main</dcscom:periodType>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Сотрудник</dataPath>
				<field>Сотрудник</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Сотрудник</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>УчтеноПриРасчете</dataPath>
				<field>УчтеноПриРасчете</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Учтено при расчете</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Должность</dataPath>
				<field>Должность</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Должность</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Подразделение</dataPath>
				<field>Подразделение</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Подразделение</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ФизЛицо</dataPath>
				<field>ФизЛицо</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Физ лицо</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Организация</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ПодразделениеОрганизации</dataPath>
				<field>ПодразделениеОрганизации</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Подразделение организации</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Учет</dataPath>
				<field>Учет</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Учет</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ГоловнаяОрганизация</dataPath>
				<field>ГоловнаяОрганизация</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Головная организация</v8:content>
					</v8:item>
				</title>
			</field>
			<dataSource>ИнформационнаяБаза</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	НАЧАЛОПЕРИОДА(РегламентированныйПроизводственныйКалендарь.ДатаКалендаря, МЕСЯЦ) КАК ПериодРегистрации
ПОМЕСТИТЬ Периоды
ИЗ
	РегистрСведений.РегламентированныйПроизводственныйКалендарь КАК РегламентированныйПроизводственныйКалендарь
ГДЕ
	РегламентированныйПроизводственныйКалендарь.ДатаКалендаря МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
;

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	НачисленияРаботников.ФизЛицо,
	НачисленияРаботников.ВидРасчета,
	СУММА(ФактическаяВыработкаРаботников.Выработка) КАК Выработка,
	НачисленияРаботников.ПериодРегистрации
ПОМЕСТИТЬ ВыработкаПоПериодуДействия
ИЗ
	РегистрРасчета.УправленческиеНачисления КАК НачисленияРаботников
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ФактическаяВыработкаРаботников КАК ФактическаяВыработкаРаботников
		ПО (ФактическаяВыработкаРаботников.СпособВводаДанных = ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И (НачисленияРаботников.ПериодДействияНачало &lt;= ФактическаяВыработкаРаботников.Период
						И НачисленияРаботников.ПериодДействияКонец &gt;= ФактическаяВыработкаРаботников.Период)
				ИЛИ (ФактическаяВыработкаРаботников.СпособВводаДанных &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СпособыВводаДанныхОВремени.ЗаДень)
					И НачисленияРаботников.ПериодДействия = ФактическаяВыработкаРаботников.Период))
			И НачисленияРаботников.ФизЛицо = ФактическаяВыработкаРаботников.Физлицо
ГДЕ
	НачисленияРаботников.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И НачисленияРаботников.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	НачисленияРаботников.ФизЛицо,
	НачисленияРаботников.ВидРасчета,
	НачисленияРаботников.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	НачисленияРаботников.ФизЛицо,
	НачисленияРаботников.ВидРасчета,
	НачисленияРаботников.ПериодРегистрации,
	СУММА(НачисленияРаботников.Результат) КАК Результат
ПОМЕСТИТЬ ВыработкаПоНачислениям
ИЗ
	РегистрРасчета.УправленческиеНачисления КАК НачисленияРаботников
ГДЕ
	НачисленияРаботников.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И НачисленияРаботников.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	НачисленияРаботников.ФизЛицо,
	НачисленияРаботников.ВидРасчета,
	НачисленияРаботников.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	НачисленияРаботниковФактическийПериодДействия.ФизЛицо,
	НачисленияРаботниковФактическийПериодДействия.ВидРасчета,
	СУММА(ФактическаяВыработкаРаботников.Выработка) КАК Выработка,
	НачисленияРаботниковФактическийПериодДействия.ПериодРегистрации
ПОМЕСТИТЬ ВыработкаПоФактическомуПериодуДействия
ИЗ
	РегистрРасчета.УправленческиеНачисления.ФактическийПериодДействия КАК НачисленияРаботниковФактическийПериодДействия
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ФактическаяВыработкаРаботников КАК ФактическаяВыработкаРаботников
		ПО НачисленияРаботниковФактическийПериодДействия.ПериодДействияКонец &gt;= ФактическаяВыработкаРаботников.Период
			И НачисленияРаботниковФактическийПериодДействия.ФизЛицо = ФактическаяВыработкаРаботников.Физлицо
			И НачисленияРаботниковФактическийПериодДействия.ПериодДействияНачало &lt;= ФактическаяВыработкаРаботников.Период
ГДЕ
	НачисленияРаботниковФактическийПериодДействия.ВидРасчета.СпособРасчета В(&amp;СпособыРасчета)
	И НачисленияРаботниковФактическийПериодДействия.ПериодРегистрации МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода

СГРУППИРОВАТЬ ПО
	НачисленияРаботниковФактическийПериодДействия.ФизЛицо,
	НачисленияРаботниковФактическийПериодДействия.ВидРасчета,
	НачисленияРаботниковФактическийПериодДействия.ПериодРегистрации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Работники.ПериодРегистрации КАК ПериодРегистрации,
	Работники.Должность КАК Должность,
	Работники.Подразделение КАК Подразделение,
	Работники.ФизЛицо КАК ФизЛицо,
	Работники.ФизЛицо.Наименование КАК ФИО,
	Сотрудники.Сотрудник КАК Сотрудник
ПОМЕСТИТЬ Сотрудники
ИЗ
	(ВЫБРАТЬ
		ПоследниеДаты.ПериодРегистрации КАК ПериодРегистрации,
		Работники.Должность КАК Должность,
		Работники.Подразделение КАК Подразделение,
		Работники.ФизЛицо КАК ФизЛицо
	ИЗ
		(ВЫБРАТЬ
			Периоды.ПериодРегистрации КАК ПериодРегистрации,
			МАКСИМУМ(Работники.Период) КАК Период,
			Работники.ФизЛицо КАК ФизЛицо
		ИЗ
			Периоды КАК Периоды
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Работники КАК Работники
				ПО (Работники.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
		{ГДЕ
			Работники.ФизЛицо}
		
		СГРУППИРОВАТЬ ПО
			Периоды.ПериодРегистрации,
			Работники.ФизЛицо) КАК ПоследниеДаты
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Работники КАК Работники
			ПО ПоследниеДаты.Период = Работники.Период
				И ПоследниеДаты.ФизЛицо = Работники.ФизЛицо
	{ГДЕ
		Работники.ФизЛицо.*}) КАК Работники
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			МАКСИМУМ(СписокСотрудников.Сотрудник) КАК Сотрудник,
			СписокСотрудников.Физлицо КАК Физлицо,
			СписокСотрудников.ПериодРегистрации КАК ПериодРегистрации
		ИЗ
			(ВЫБРАТЬ
				МАКСИМУМ(РаботникиОрганизаций.Сотрудник) КАК Сотрудник,
				РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
				1 КАК Приоритет,
				ПериодыРаботников.ПериодРегистрации КАК ПериодРегистрации
			ИЗ
				(ВЫБРАТЬ
					МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
					РаботникиОрганизаций.Сотрудник.Физлицо КАК ФизЛицо,
					Периоды.ПериодРегистрации КАК ПериодРегистрации
				ИЗ
					РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
						ВНУТРЕННЕЕ СОЕДИНЕНИЕ Периоды КАК Периоды
						ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
				ГДЕ
					РаботникиОрганизаций.Сотрудник.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
					И РаботникиОрганизаций.Сотрудник.ВидЗанятости = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ОсновноеМестоРаботы)
				{ГДЕ
					РаботникиОрганизаций.Сотрудник}
				
				СГРУППИРОВАТЬ ПО
					РаботникиОрганизаций.Сотрудник.Физлицо,
					Периоды.ПериодРегистрации) КАК ПериодыРаботников
					ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
					ПО ПериодыРаботников.ФизЛицо = РаботникиОрганизаций.Сотрудник.Физлицо
						И ПериодыРаботников.Период = РаботникиОрганизаций.Период
			{ГДЕ
				РаботникиОрганизаций.Сотрудник.*,
				РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
			
			СГРУППИРОВАТЬ ПО
				РаботникиОрганизаций.Сотрудник.Физлицо,
				ПериодыРаботников.ПериодРегистрации
			
			ОБЪЕДИНИТЬ
			
			ВЫБРАТЬ
				МАКСИМУМ(РаботникиОрганизаций.Сотрудник),
				РаботникиОрганизаций.Сотрудник.Физлицо,
				2,
				ПериодыРаботников.ПериодРегистрации
			ИЗ
				(ВЫБРАТЬ
					МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
					РаботникиОрганизаций.Сотрудник.Физлицо КАК ФизЛицо,
					Периоды.ПериодРегистрации КАК ПериодРегистрации
				ИЗ
					РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
						ВНУТРЕННЕЕ СОЕДИНЕНИЕ Периоды КАК Периоды
						ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
				ГДЕ
					РаботникиОрганизаций.ПричинаИзмененияСостояния &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
					И РаботникиОрганизаций.Сотрудник.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
					И РаботникиОрганизаций.Сотрудник.ВидЗанятости = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.Совместительство)
				{ГДЕ
					РаботникиОрганизаций.Сотрудник.*}
				
				СГРУППИРОВАТЬ ПО
					РаботникиОрганизаций.Сотрудник.Физлицо,
					Периоды.ПериодРегистрации) КАК ПериодыРаботников
					ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
					ПО ПериодыРаботников.Период = РаботникиОрганизаций.Период
						И ПериодыРаботников.ФизЛицо = РаботникиОрганизаций.Сотрудник.Физлицо
			{ГДЕ
				РаботникиОрганизаций.Сотрудник.*,
				РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
			
			СГРУППИРОВАТЬ ПО
				РаботникиОрганизаций.Сотрудник.Физлицо,
				ПериодыРаботников.ПериодРегистрации
			
			ОБЪЕДИНИТЬ
			
			ВЫБРАТЬ
				МАКСИМУМ(СотрудникиДУ.Ссылка),
				СотрудникиДУ.Физлицо,
				3,
				ПериодыРаботников.ПериодРегистрации
			ИЗ
				Периоды КАК ПериодыРаботников,
				Справочник.СотрудникиОрганизаций КАК СотрудникиДУ
			ГДЕ
				(СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ДоговорУправленческий)
						ИЛИ СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор))
			{ГДЕ
				СотрудникиДУ.Ссылка.* КАК Сотрудник,
				СотрудникиДУ.Физлицо.*}
			
			СГРУППИРОВАТЬ ПО
				СотрудникиДУ.Физлицо,
				ПериодыРаботников.ПериодРегистрации) КАК СписокСотрудников
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					СписокФизическихЛиц.Физлицо КАК Физлицо,
					МИНИМУМ(СписокФизическихЛиц.Приоритет) КАК Приоритет,
					СписокФизическихЛиц.ПериодРегистрации КАК ПериодРегистрации
				ИЗ
					(ВЫБРАТЬ
						МАКСИМУМ(РаботникиОрганизаций.Сотрудник) КАК Сотрудник,
						РаботникиОрганизаций.Сотрудник.Физлицо КАК Физлицо,
						1 КАК Приоритет,
						ПериодыРаботников.ПериодРегистрации КАК ПериодРегистрации
					ИЗ
						(ВЫБРАТЬ
							МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
							РаботникиОрганизаций.Сотрудник.Физлицо КАК ФизЛицо,
							Периоды.ПериодРегистрации КАК ПериодРегистрации
						ИЗ
							РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
								ВНУТРЕННЕЕ СОЕДИНЕНИЕ Периоды КАК Периоды
								ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
						ГДЕ
							РаботникиОрганизаций.Сотрудник.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
							И РаботникиОрганизаций.Сотрудник.ВидЗанятости = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ОсновноеМестоРаботы)
						{ГДЕ
							РаботникиОрганизаций.Сотрудник.*,
							РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
						
						СГРУППИРОВАТЬ ПО
							РаботникиОрганизаций.Сотрудник.Физлицо,
							Периоды.ПериодРегистрации) КАК ПериодыРаботников
							ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
							ПО ПериодыРаботников.ФизЛицо = РаботникиОрганизаций.Сотрудник.Физлицо
								И ПериодыРаботников.Период = РаботникиОрганизаций.Период
					{ГДЕ
						РаботникиОрганизаций.Сотрудник.*,
						РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
					
					СГРУППИРОВАТЬ ПО
						РаботникиОрганизаций.Сотрудник.Физлицо,
						ПериодыРаботников.ПериодРегистрации
					
					ОБЪЕДИНИТЬ
					
					ВЫБРАТЬ
						МАКСИМУМ(РаботникиОрганизаций.Сотрудник),
						РаботникиОрганизаций.Сотрудник.Физлицо,
						2,
						ПериодыРаботников.ПериодРегистрации
					ИЗ
						(ВЫБРАТЬ
							МАКСИМУМ(РаботникиОрганизаций.Период) КАК Период,
							РаботникиОрганизаций.Сотрудник.Физлицо КАК ФизЛицо,
							Периоды.ПериодРегистрации КАК ПериодРегистрации
						ИЗ
							РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
								ВНУТРЕННЕЕ СОЕДИНЕНИЕ Периоды КАК Периоды
								ПО (РаботникиОрганизаций.Период &lt;= КОНЕЦПЕРИОДА(Периоды.ПериодРегистрации, МЕСЯЦ))
						ГДЕ
							РаботникиОрганизаций.ПричинаИзмененияСостояния &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
							И РаботникиОрганизаций.Сотрудник.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
							И РаботникиОрганизаций.Сотрудник.ВидЗанятости = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.Совместительство)
						{ГДЕ
							РаботникиОрганизаций.Сотрудник.*,
							РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
						
						СГРУППИРОВАТЬ ПО
							РаботникиОрганизаций.Сотрудник.Физлицо,
							Периоды.ПериодРегистрации) КАК ПериодыРаботников
							ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
							ПО ПериодыРаботников.Период = РаботникиОрганизаций.Период
								И ПериодыРаботников.ФизЛицо = РаботникиОрганизаций.Сотрудник.Физлицо
					{ГДЕ
						РаботникиОрганизаций.Сотрудник.*,
						РаботникиОрганизаций.Сотрудник.Физлицо.* КАК Физлицо}
					
					СГРУППИРОВАТЬ ПО
						РаботникиОрганизаций.Сотрудник.Физлицо,
						ПериодыРаботников.ПериодРегистрации
					
					ОБЪЕДИНИТЬ
					
					ВЫБРАТЬ
						МАКСИМУМ(СотрудникиДУ.Ссылка),
						СотрудникиДУ.Физлицо,
						3,
						ПериодыРаботников.ПериодРегистрации
					ИЗ
						Периоды КАК ПериодыРаботников,
						Справочник.СотрудникиОрганизаций КАК СотрудникиДУ
					ГДЕ
						(СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ДоговорУправленческий)
								ИЛИ СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор))
					{ГДЕ
						СотрудникиДУ.Ссылка.* КАК Сотрудник,
						СотрудникиДУ.Физлицо.*}
					
					СГРУППИРОВАТЬ ПО
						СотрудникиДУ.Физлицо,
						ПериодыРаботников.ПериодРегистрации) КАК СписокФизическихЛиц
				
				СГРУППИРОВАТЬ ПО
					СписокФизическихЛиц.Физлицо,
					СписокФизическихЛиц.ПериодРегистрации) КАК СписокФизическихЛиц
				ПО СписокСотрудников.Приоритет = СписокФизическихЛиц.Приоритет
					И СписокСотрудников.Физлицо = СписокФизическихЛиц.Физлицо
					И СписокСотрудников.ПериодРегистрации = СписокФизическихЛиц.ПериодРегистрации
		
		СГРУППИРОВАТЬ ПО
			СписокСотрудников.Физлицо,
			СписокСотрудников.ПериодРегистрации) КАК Сотрудники
		ПО Работники.ФизЛицо = Сотрудники.Физлицо
			И Работники.ПериодРегистрации = Сотрудники.ПериодРегистрации
{ГДЕ
	Работники.ПериодРегистрации,
	Работники.Подразделение.*,
	Работники.ФизЛицо.*,
	Сотрудники.Сотрудник.*,
	Работники.Должность.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВыработкаПоНачислениям.ВидРасчета КАК ВидРасчета,
	ВыработкаПоНачислениям.ПериодРегистрации КАК ПериодРегистрации,
	СУММА(ВыработкаПоНачислениям.Результат) КАК Начислено,
	СУММА(ВыработкаПоПериодуДействия.Выработка) КАК Выработка,
	СУММА(ВыработкаПоФактическомуПериодуДействия.Выработка) КАК УчтеноПриРасчете,
	Сотрудники.Подразделение КАК Подразделение,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация КАК Организация,
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
	Сотрудники.Сотрудник КАК Сотрудник,
	Сотрудники.Должность КАК Должность,
	"УпрУчет" КАК Учет,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
		ИНАЧЕ СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ КАК ГоловнаяОрганизация
{ВЫБРАТЬ
	ВидРасчета.*,
	ПериодРегистрации,
	Начислено,
	Выработка,
	УчтеноПриРасчете,
	Подразделение.*,
	Организация.*,
	ПодразделениеОрганизации.*,
	Сотрудник.*,
	Должность.*,
	Учет,
	ГоловнаяОрганизация.*}
ИЗ
	ВыработкаПоНачислениям КАК ВыработкаПоНачислениям
		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаПоПериодуДействия КАК ВыработкаПоПериодуДействия
		ПО ВыработкаПоНачислениям.ФизЛицо = ВыработкаПоПериодуДействия.ФизЛицо
			И ВыработкаПоНачислениям.ВидРасчета = ВыработкаПоПериодуДействия.ВидРасчета
			И ВыработкаПоНачислениям.ПериодРегистрации = ВыработкаПоПериодуДействия.ПериодРегистрации
		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаПоФактическомуПериодуДействия КАК ВыработкаПоФактическомуПериодуДействия
		ПО ВыработкаПоНачислениям.ФизЛицо = ВыработкаПоФактическомуПериодуДействия.ФизЛицо
			И ВыработкаПоНачислениям.ВидРасчета = ВыработкаПоФактическомуПериодуДействия.ВидРасчета
			И ВыработкаПоНачислениям.ПериодРегистрации = ВыработкаПоФактическомуПериодуДействия.ПериодРегистрации
		ЛЕВОЕ СОЕДИНЕНИЕ Сотрудники КАК Сотрудники
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеПодразделенийИПодразделенийОрганизаций КАК СоответствиеПодразделенийИПодразделенийОрганизаций
			ПО Сотрудники.Подразделение = СоответствиеПодразделенийИПодразделенийОрганизаций.Подразделение
		ПО ВыработкаПоНачислениям.ФизЛицо = Сотрудники.ФизЛицо
			И ВыработкаПоНачислениям.ПериодРегистрации = Сотрудники.ПериодРегистрации
{ГДЕ
	ВыработкаПоНачислениям.ФизЛицо.*,
	ВыработкаПоНачислениям.ВидРасчета.*,
	ВыработкаПоНачислениям.ПериодРегистрации,
	Сотрудники.Сотрудник.*,
	Сотрудники.Подразделение.*,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.*,
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации.*,
	ВыработкаПоНачислениям.Результат КАК Начислено,
	ВыработкаПоПериодуДействия.Выработка КАК Выработка,
	ВыработкаПоФактическомуПериодуДействия.Выработка КАК УчтеноПриРасчете,
	("УпрУчет") КАК Учет,
	(ВЫБОР
			КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
				ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
			ИНАЧЕ СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация
		КОНЕЦ).* КАК ГоловнаяОрганизация}

СГРУППИРОВАТЬ ПО
	ВыработкаПоНачислениям.ВидРасчета,
	ВыработкаПоНачислениям.ПериодРегистрации,
	Сотрудники.Подразделение,
	СоответствиеПодразделенийИПодразделенийОрганизаций.Организация,
	СоответствиеПодразделенийИПодразделенийОрганизаций.ПодразделениеОрганизации,
	Сотрудники.Сотрудник,
	Сотрудники.Должность,
	ВЫБОР
		КОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
			ТОГДА СоответствиеПодразделенийИПодразделенийОрганизаций.Организация
		ИНАЧЕ СоответствиеПодразделенийИПодразделенийОрганизаций.Организация.ГоловнаяОрганизация
	КОНЕЦ</query>
			<autoFillFields>false</autoFillFields>
		</item>
	</dataSet>
	<totalField>
		<dataPath>Выработка</dataPath>
		<expression>Сумма(Выработка)</expression>
	</totalField>
	<totalField>
		<dataPath>Начислено</dataPath>
		<expression>Сумма(Начислено)</expression>
	</totalField>
	<totalField>
		<dataPath>УчтеноПриРасчете</dataPath>
		<expression>Сумма(УчтеноПриРасчете)</expression>
	</totalField>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>СпособыРасчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Способы расчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:EnumRef.СпособыРасчетаОплатыТруда</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыРасчетаОплатыТруда.СделкаПоЧасовойТарифнойСтавке</value>
		<value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыРасчетаОплатыТруда.СдельныйПриработок</value>
		<value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыРасчетаОплатыТруда.СдельныйЗаработок</value>
		<useRestriction>true</useRestriction>
		<valueListAllowed>true</valueListAllowed>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Выработка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Начислено</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>УчтеноПриРасчете</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>СпособыРасчета</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>РасположениеРеквизитов</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionAttributesPlacement">Separately</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Выработка сотрудников</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ВидРасчета</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Сотрудник</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>